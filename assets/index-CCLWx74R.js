import{A as e,C as t,D as n,E as r,F as i,M as a,N as o,O as s,P as c,S as l,T as u,_ as d,a as f,b as p,c as m,d as h,f as g,g as _,h as v,i as y,j as b,k as x,l as S,m as C,n as w,o as ee,p as T,r as E,s as te,t as D,u as O,v as k,w as A,x as j,y as M}from"./vue-CPWeXSHp.js";(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var N={class:`min-h-screen bg-gray-900 text-gray-100`},P={class:`bg-gray-800 border-b border-gray-700`},F={class:`container mx-auto px-4`},I={class:`flex items-center justify-between h-16`},L={class:`flex items-center gap-6`},R={class:`flex space-x-4`},z={class:`container mx-auto px-4 py-8`},B={__name:`App`,setup(e){return(e,t)=>(A(),k(`div`,N,[v(`nav`,P,[v(`div`,F,[v(`div`,I,[t[3]||=v(`h1`,{class:`text-xl font-bold text-blue-400`},`FTL Multiverse Data Browser`,-1),v(`div`,L,[v(`div`,R,[j(a(D),{to:`/sectors`,class:`px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors`,"active-class":`bg-blue-600`},{default:x(()=>[...t[0]||=[p(` Sectors `,-1)]]),_:1}),j(a(D),{to:`/blueprints`,class:`px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors`,"active-class":`bg-blue-600`},{default:x(()=>[...t[1]||=[p(` Blueprints `,-1)]]),_:1})]),t[2]||=v(`div`,{class:`text-sm text-gray-500`},[v(`kbd`,{class:`px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs`},`Ctrl+K`),p(` to search `)],-1)])])])]),v(`main`,z,[j(a(w))]),t[4]||=M(`<footer class="bg-gray-800 border-t border-gray-700 mt-16"><div class="container mx-auto px-4 py-6"><div class="text-center text-sm text-gray-400 space-y-2"><p><strong class="text-gray-300">FTL: Multiverse</strong> created by <span class="text-blue-400">Kix, AgenTHeKat, Laythe, and Marcus McCloud</span>. </p><p> Ship layout images generated with code by <span class="text-blue-400">thebasicperson</span>, who you can find on discord. </p></div></div></footer>`,1)]))}},V=`/data`,H={sectors:null,weapons:null,crew:null,augments:null,drones:null,ships:null,systems:null,blueprintLists:null,animations:null};async function ne(){if(H.sectors)return H.sectors;try{let e=await fetch(`${V}/all_sector_descriptions_clean.json`);if(!e.ok)throw Error(`Failed to load sectors data`);return H.sectors=await e.json(),H.sectors}catch(e){throw console.error(`Error loading sectors:`,e),e}}async function re(){if(H.weapons)return H.weapons;try{let e=await fetch(`${V}/all_weaponBlueprints_plus.json`);if(!e.ok)throw Error(`Failed to load weapons data`);return H.weapons=await e.json(),H.weapons}catch(e){throw console.error(`Error loading weapons:`,e),e}}async function ie(){if(H.crew)return H.crew;try{let e=await fetch(`${V}/all_crewBlueprints_plus.json`);if(!e.ok)throw Error(`Failed to load crew data`);return H.crew=await e.json(),H.crew}catch(e){throw console.error(`Error loading crew:`,e),e}}async function ae(){if(H.augments)return H.augments;try{let e=await fetch(`${V}/all_augBlueprints.json`);if(!e.ok)throw Error(`Failed to load augments data`);return H.augments=await e.json(),H.augments}catch(e){throw console.error(`Error loading augments:`,e),e}}async function oe(){if(H.drones)return H.drones;try{let e=await fetch(`${V}/all_droneBlueprints.json`);if(!e.ok)throw Error(`Failed to load drones data`);return H.drones=await e.json(),H.drones}catch(e){throw console.error(`Error loading drones:`,e),e}}async function se(){if(H.ships)return H.ships;try{let e=await fetch(`${V}/all_shipBlueprints.json`);if(!e.ok)throw Error(`Failed to load ships data`);return H.ships=await e.json(),H.ships}catch(e){throw console.error(`Error loading ships:`,e),e}}async function U(){if(H.systems)return H.systems;try{let e=await fetch(`${V}/all_systemBlueprints.json`);if(!e.ok)throw Error(`Failed to load systems data`);return H.systems=await e.json(),H.systems}catch(e){throw console.error(`Error loading systems:`,e),e}}async function ce(){if(H.blueprintLists)return H.blueprintLists;try{let e=await fetch(`${V}/all_blueprintLists.json`);if(!e.ok)throw Error(`Failed to load blueprint lists data`);return H.blueprintLists=await e.json(),H.blueprintLists}catch(e){throw console.error(`Error loading blueprint lists:`,e),e}}async function le(){if(H.animations)return H.animations;try{let e=await fetch(`${V}/all_animation_data.json`);if(!e.ok)throw Error(`Failed to load animation data`);return H.animations=await e.json(),H.animations}catch(e){throw console.error(`Error loading animations:`,e),e}}var ue=b([]),de=b(!1),W=b(null);function fe(){async function e(){if(!(ue.value.length>0)){de.value=!0,W.value=null;try{ue.value=await ne()}catch(e){W.value=e.message,console.error(`Failed to load sectors:`,e)}finally{de.value=!1}}}let t=C(()=>{let e={Civilian:{unique:[],standard:[]},Neutral:{unique:[],standard:[]},Hostile:{unique:[],standard:[]},Nebula:{unique:[],standard:[]},Secret:{unique:[],standard:[]},Other:{unique:[],standard:[]}},t=[`FEDERATION`,`UNION`,`HARMONY`,`MINISTRY`,`GATHERING`,`FREEMANTIS`,`IMPERIAL`,`OUTCAST`],n=[`CONFEDERATE`,`SEPARATIST`,`GENIOCRACY`,`VAGABOND`,`PIRATE`,`REPUBLIC`],r=[`REBEL`,`AUTO`,`KLEPTOCRACY`,`HIVE`,`THEOCRACY`,`DUSKBRINGER`,`COALITION`,`DYNASTY`],i=[`LANIUS`,`LOSTSUN`,`STARGROVE`,`MORPH`,`MILITIA`,`HACKER`,`MONK`,`CLAN`,`SLUG`];return ue.value.forEach(a=>{let o=a.name||``,s=a.unique===`true`||o.includes(`_UNIQUE`),c=o.startsWith(`SECRET_`),l=`Other`;if(c)l=`Secret`;else{for(let e of t)if(o.includes(e)){l=`Civilian`;break}if(l===`Other`){for(let e of n)if(o.includes(e)){l=`Neutral`;break}}if(l===`Other`){for(let e of r)if(o.includes(e)){l=`Hostile`;break}}if(l===`Other`){for(let e of i)if(o.includes(e)){l=`Nebula`;break}}}s?e[l].unique.push(a):e[l].standard.push(a)}),e});function n(e){return ue.value.find(t=>t.name===e)}function r(e){if(!e)return ue.value;let t=e.toLowerCase();return ue.value.filter(e=>{if(e.name?.toLowerCase().includes(t))return!0;let n=e=>e?.some(e=>e.toLowerCase().includes(t));return n(e.crew)||n(e.weapons)||n(e.augments)||n(e.drones)})}return{sectors:ue,loading:de,error:W,sectorsByType:t,fetchSectors:e,getSector:n,searchSectors:r}}var pe=b([]),G=b([]),K=b([]),me=b([]),q=b([]),J=b([]),he=b(!1),Y=b(null);function ge(){async function e(){if(!(pe.value.length>0&&q.value.length>0)){he.value=!0,Y.value=null;try{let[e,t,n,r,i,a]=await Promise.all([re(),ie(),ae(),oe(),se(),U()]);pe.value=e,G.value=t,K.value=n,me.value=r,q.value=i,J.value=a}catch(e){Y.value=e.message,console.error(`Failed to load blueprints:`,e)}finally{he.value=!1}}}let t=C(()=>({weapons:pe.value,crew:G.value,augments:K.value,drones:me.value,ships:q.value,systems:J.value}));function n(e,t){return{weapon:pe.value,crew:G.value,augment:K.value,drone:me.value,ship:q.value}[e]?.find(e=>(e.weaponBlueprint?.name||e.crewBlueprint?.name||e.augBlueprint?.name||e.droneBlueprint?.name||e.shipBlueprint?._id||e.shipBlueprint?.name)===t)}function r(e){if(!e)return t.value;let n=e.toLowerCase();return{weapons:pe.value.filter(e=>{let t=e.weaponBlueprint;return t?.name?.toLowerCase().includes(n)||t?.title?.toLowerCase().includes(n)}),crew:G.value.filter(e=>{let t=e.crewBlueprint;return t?.name?.toLowerCase().includes(n)||t?.race?.toLowerCase().includes(n)}),augments:K.value.filter(e=>{let t=e.augBlueprint;return t?.name?.toLowerCase().includes(n)||t?.title?.toLowerCase().includes(n)}),drones:me.value.filter(e=>{let t=e.droneBlueprint;return t?.name?.toLowerCase().includes(n)||t?.title?.toLowerCase().includes(n)}),ships:q.value.filter(e=>{let t=e.shipBlueprint;return t?.name?.toLowerCase().includes(n)||t?.class?.toLowerCase().includes(n)})}}return{weapons:pe,crew:G,augments:K,drones:me,ships:q,loading:he,error:Y,blueprintArrays:t,fetchBlueprints:e,getBlueprint:n,searchBlueprints:r}}var _e=b([]),ve=b(new Map),ye=b([]),be=b(new Map),X=b(!1),xe=b(null);function Se(){async function e(){if(!(_e.value.length>0)){X.value=!0,xe.value=null;try{let e=await fetch(`/data/all_event_data.json`);if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let t=await e.json();_e.value=t,ve.value=new Map(t.filter(e=>e.name).map(e=>[e.name,e])),console.log(`Loaded ${_e.value.length} events`)}catch(e){xe.value=e.message,console.error(`Failed to load events:`,e)}finally{X.value=!1}}}async function t(){if(!(ye.value.length>0))try{let e=await fetch(`/data/all_event_lists.json`);if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let t=await e.json();ye.value=t,be.value=new Map(t.filter(e=>e.name).map(e=>[e.name,e])),console.log(`Loaded ${ye.value.length} event lists`)}catch(e){console.error(`Failed to load event lists:`,e)}}function n(e){return ve.value.get(e)}function r(e){return be.value.get(e)}return{events:_e,eventsMap:ve,eventLists:ye,eventListsMap:be,loading:X,error:xe,fetchEvents:e,fetchEventLists:t,getEvent:n,getEventList:r}}function Ce(){let{sectors:e}=fe(),t=C(()=>{let t={crew:new Map,weapons:new Map,augments:new Map,drones:new Map,ships:new Map};return e.value.forEach(e=>{e.crew?.forEach(n=>{t.crew.has(n)||t.crew.set(n,[]),t.crew.get(n).push(e.name)}),e.weapons?.forEach(n=>{t.weapons.has(n)||t.weapons.set(n,[]),t.weapons.get(n).push(e.name)}),e.augments?.forEach(n=>{t.augments.has(n)||t.augments.set(n,[]),t.augments.get(n).push(e.name)}),e.drones?.forEach(n=>{t.drones.has(n)||t.drones.set(n,[]),t.drones.get(n).push(e.name)}),e.ship_unlocks?.forEach(n=>{t.ships.has(n)||t.ships.set(n,[]),t.ships.get(n).push(e.name)})}),t});function n(e,n){return t.value[n]?.get(e)||[]}function r(e,t){return n(e,t).length}return{itemToSectorsMap:t,getSectorsForItem:n,getSectorCount:r}}var we={class:`border border-gray-700 rounded-lg overflow-hidden`},Te={class:`flex items-center gap-3`},Ee={class:`text-lg font-semibold text-gray-200`},De={key:0,class:`text-sm text-gray-500`},Z={class:`bg-gray-800/50 p-4`},Q={__name:`CollapsibleSection`,props:{title:{type:String,required:!0},defaultOpen:{type:Boolean,default:!1},count:{type:Number,default:null}},setup(t){let n=b(t.defaultOpen);function a(){n.value=!n.value}return(s,c)=>(A(),k(`div`,we,[v(`button`,{onClick:a,class:`w-full px-4 py-3 bg-gray-800 hover:bg-gray-750 transition-colors flex items-center justify-between`},[v(`div`,Te,[v(`span`,{class:o([`text-gray-400 text-xl transition-transform`,{"rotate-90":n.value}])},` ▶ `,2),v(`h3`,Ee,i(t.title),1),t.count===null?d(``,!0):(A(),k(`span`,De,` (`+i(t.count)+`) `,1))])]),e(v(`div`,Z,[r(s.$slots,`default`)],512),[[O,n.value]])]))}},$={class:`relative`},Oe=[`value`,`placeholder`],ke={__name:`SearchBar`,props:{modelValue:{type:String,default:``},placeholder:{type:String,default:`Search...`}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=e,r=t,i=b(n.modelValue);s(()=>n.modelValue,e=>{i.value=e});function a(e){i.value=e.target.value,r(`update:modelValue`,i.value)}function o(){i.value=``,r(`update:modelValue`,``)}return(t,n)=>(A(),k(`div`,$,[v(`input`,{value:i.value,onInput:a,type:`text`,placeholder:e.placeholder,class:`w-full px-4 py-2 pl-10 pr-10 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors`},null,40,Oe),n[1]||=v(`div`,{class:`absolute left-3 top-1/2 -translate-y-1/2 text-gray-500`},[v(`svg`,{class:`w-5 h-5`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[v(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z`})])],-1),i.value?(A(),k(`button`,{key:0,onClick:o,class:`absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300 transition-colors`},[...n[0]||=[v(`svg`,{class:`w-5 h-5`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[v(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M6 18L18 6M6 6l12 12`})],-1)]])):d(``,!0)]))}},Ae={class:`bg-gray-800 rounded-lg border border-gray-700 max-w-2xl w-full max-h-[80vh] overflow-hidden flex flex-col`},je={class:`flex items-center justify-between p-6 border-b border-gray-700`},Me={class:`text-2xl font-bold text-gray-100`},Ne={class:`p-6 overflow-y-auto flex-1`},Pe={key:0,class:`text-gray-400 text-center py-8`},Fe={key:1,class:`text-gray-400 text-center py-8`},Ie={key:2,class:`space-y-3`},Le={class:`text-sm text-gray-400 mb-4`},Re={class:`grid gap-2`},ze=[`onClick`,`title`],Be={class:`text-gray-100`},Ve={class:`text-xs text-gray-500 mt-1`},He={class:`p-4 border-t border-gray-700 flex justify-end`},Ue={__name:`BlueprintListModal`,props:{listName:{type:String,required:!0},listData:{type:Object,default:null},blueprintArrays:{type:Object,default:()=>({})}},emits:[`close`,`navigate`,`openWeapon`,`openDrone`,`openAugment`,`openCrew`],setup(e,{emit:t}){let n=e,r=t,a=C(()=>!n.listData||!n.listData.items?[]:n.listData.items.map(e=>{let t=e.replace(/_/g,` `),r=`unknown`;if(n.blueprintArrays.weapons){let i=n.blueprintArrays.weapons.find(t=>t?.weaponBlueprint?.name===e);i?.weaponBlueprint&&(t=i.weaponBlueprint.title||t,r=`weapon`)}if(r===`unknown`&&n.blueprintArrays.drones){let i=n.blueprintArrays.drones.find(t=>t?.droneBlueprint?.name===e);i?.droneBlueprint&&(t=i.droneBlueprint.title||t,r=`drone`)}if(r===`unknown`&&n.blueprintArrays.augments){let i=n.blueprintArrays.augments.find(t=>t?.augBlueprint?.name===e);i?.augBlueprint&&(t=i.augBlueprint.title||t,r=`augment`)}if(r===`unknown`&&n.blueprintArrays.crew){let i=n.blueprintArrays.crew.find(t=>t?.crewBlueprint?.name===e);i?.crewBlueprint&&(t=i.crewBlueprint.title||t,r=`crew`)}return{name:e,displayName:t,type:r}}));function o(e){e.type===`weapon`?r(`openWeapon`,e.name):e.type===`drone`?r(`openDrone`,e.name):e.type===`augment`?r(`openAugment`,e.name):e.type===`crew`?r(`openCrew`,e.name):r(`navigate`,e.name),r(`close`)}function s(e){e.target===e.currentTarget&&r(`close`)}return(t,n)=>(A(),k(`div`,{class:`fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4`,style:{"z-index":`10001`},onClick:s},[v(`div`,Ae,[v(`div`,je,[v(`div`,null,[v(`h2`,Me,i(e.listName),1),n[2]||=v(`p`,{class:`text-sm text-gray-400 mt-1`},`Blueprint List`,-1)]),v(`button`,{onClick:n[0]||=e=>r(`close`),class:`text-gray-400 hover:text-gray-200 transition-colors text-2xl leading-none`,"aria-label":`Close`},` × `)]),v(`div`,Ne,[e.listData?a.value.length===0?(A(),k(`div`,Fe,[...n[4]||=[v(`p`,null,`No blueprints in this list`,-1)]])):(A(),k(`div`,Ie,[v(`p`,Le,` Contains `+i(a.value.length)+` blueprint`+i(a.value.length===1?``:`s`),1),v(`div`,Re,[(A(!0),k(g,null,u(a.value,(e,t)=>(A(),k(`button`,{key:t,onClick:t=>o(e),class:`text-left px-4 py-3 bg-gray-900 hover:bg-gray-700 rounded border border-gray-700 hover:border-blue-500 transition-colors`,title:e.name},[v(`div`,Be,i(e.displayName),1),v(`div`,Ve,i(e.name),1)],8,ze))),128))])])):(A(),k(`div`,Pe,[...n[3]||=[v(`p`,null,`List data not found`,-1)]]))]),v(`div`,He,[v(`button`,{onClick:n[1]||=e=>r(`close`),class:`px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-100 rounded transition-colors`},` Close `)])])]))}},We={key:1,class:`text-gray-600 mr-2 inline-block w-3`},Ge={key:0,class:`text-gray-500 text-[10px] ml-1`},Ke={key:1,class:`text-yellow-500 text-[10px] ml-1`},qe={key:0,class:`mt-2 ml-4 space-y-2 text-xs`},Je={key:0},Ye={class:`space-y-1`},Xe={key:0,class:`text-gray-500 font-semibold text-[10px]`},Ze={key:1,class:`space-y-1`},Qe={class:`space-y-1`},$e={key:2,class:`flex flex-wrap gap-1`},et=[`onClick`],tt={key:0,class:`text-blue-400`},nt={key:3,class:`flex flex-wrap gap-1`},rt=[`onClick`],it={key:4,class:`flex flex-wrap gap-1`},at=[`onClick`],ot={key:5,class:`flex flex-wrap gap-1`},st=[`onClick`],ct={key:6,class:`space-y-1`},lt={key:0},ut={key:1,class:`text-gray-400 ml-2`},dt={key:7,class:`flex flex-wrap gap-1`},ft={key:8,class:`flex flex-wrap gap-1`},pt=[`title`],mt={key:1,class:`mt-2 ml-4 space-y-2 text-xs`},ht={key:0,class:`text-gray-300 bg-gray-800/50 p-2 rounded border border-gray-700`},gt={class:`mt-1 whitespace-pre-wrap`},_t={key:1,class:`text-gray-300 bg-yellow-900/20 p-2 rounded border border-yellow-700/50`},vt={class:`ml-2`},yt={key:0,class:`text-yellow-300`},bt={key:1,class:`text-gray-400 ml-2`},xt={key:2,class:`space-y-2`},St={key:0,class:`space-y-1`},Ct={class:`space-y-1`},wt={key:1,class:`flex flex-wrap gap-1`},Tt=[`onClick`],Et={key:0,class:`text-blue-400`},Dt={key:2,class:`flex flex-wrap gap-1`},Ot=[`onClick`],kt={key:3,class:`flex flex-wrap gap-1`},At=[`onClick`],jt={key:4,class:`flex flex-wrap gap-1`},Mt=[`onClick`],Nt={key:5,class:`flex flex-wrap gap-1`},Pt=[`onClick`],Ft={key:6,class:`flex flex-wrap gap-1`},It=[`onClick`],Lt={key:7,class:`flex flex-wrap gap-1`},Rt=[`onClick`,`title`],zt={key:8,class:`flex flex-wrap gap-1`},Bt={key:9,class:`space-y-1`},Vt={key:0},Ht={key:1,class:`text-gray-400 ml-2`},Ut={key:10,class:`space-y-1`},Wt={key:0},Gt={key:1},Kt={key:11,class:`flex flex-wrap gap-1`},qt=[`title`],Jt={key:12,class:`space-y-1`},Yt={class:`text-gray-500 italic`},Xt={__name:`EventViewer`,props:{eventName:{type:String,required:!0},depth:{type:Number,default:0},visitedEvents:{type:Set,default:()=>new Set}},emits:[`navigate-blueprint`,`navigate-sector`,`navigate-event`],setup(e,{emit:t}){let r=e,a=t,{getEvent:s,getEventList:c}=Se(),l=b(!1),f=b(!1),m={coords_spider:`SECRET_SPIDER`,coords_jerry:`SECRET_JERRY`,coords_nights:`SECRET_NIGHTS`,coords_hektar:`SECRET_HEKTAR`,coords_estate:`SECRET_ESTATE`,coords_rhyme:`SECRET_RHYME`,coords_hive:`SECTOR_HIVE_UNIQUE`},h=C(()=>r.visitedEvents.has(r.eventName)),y=C(()=>{let e=new Set(r.visitedEvents);return e.add(r.eventName),e}),x=C(()=>s(r.eventName)),S=C(()=>c(r.eventName)),w=C(()=>!x.value&&S.value),ee=C(()=>x.value&&Object.keys(x.value).length>1||w.value),T=C(()=>`ml-${Math.min(r.depth,6)*4}`);function E(){ee.value&&(l.value=!l.value)}function te(e,t=``,n=``){let r={events:new Set,crew:[],weapons:new Set,augments:new Set,drones:new Set,sectors:new Set,coordinates:new Set,shipUnlocks:new Set,autoRewards:[],sectorWarps:new Set,pursuitMods:[],blueprintLists:new Set};if(!e||typeof e!=`object`)return r;e.load&&typeof e.load==`string`&&r.events.add(e.load),e.name&&typeof e.name==`string`&&t.includes(`event`)&&!e.name.startsWith(`coords_`)&&!e.name.includes(`LIST`)&&r.events.add(e.name),n===`quest`&&e.event&&typeof e.event==`string`&&r.events.add(e.event),n===`crewMember`&&e.class&&typeof e.class==`string`&&r.crew.push({class:e.class,name:e.text||null}),n===`weapon`&&e.name&&typeof e.name==`string`&&(e.name.includes(`LIST`)?r.blueprintLists.add(e.name):r.weapons.add(e.name)),n===`augment`&&e.name&&typeof e.name==`string`&&(e.name.includes(`LIST`)?r.blueprintLists.add(e.name):r.augments.add(e.name)),n===`drone`&&e.name&&typeof e.name==`string`&&(e.name.includes(`LIST`)?r.blueprintLists.add(e.name):r.drones.add(e.name)),e.secretSector&&typeof e.secretSector==`string`&&r.sectors.add(e.secretSector),n===`secretSectorWarp`&&e.text&&typeof e.text==`string`&&r.sectorWarps.add(e.text),n===`variable`&&e.name&&typeof e.name==`string`&&e.name.startsWith(`coords_`)&&r.coordinates.add(e.name),n===`unlockCustomShip`&&e.text&&typeof e.text==`string`&&r.shipUnlocks.add(e.text),e.autoReward&&typeof e.autoReward==`object`&&r.autoRewards.push(e.autoReward),e.modifyPursuit&&typeof e.modifyPursuit==`object`&&e.modifyPursuit.amount&&r.pursuitMods.push(e.modifyPursuit);for(let[n,i]of Object.entries(e))if(typeof i==`object`&&i){let e=te(i,`${t}.${n}`,n);r.events=new Set([...r.events,...e.events]),r.crew=[...r.crew,...e.crew],r.weapons=new Set([...r.weapons,...e.weapons]),r.augments=new Set([...r.augments,...e.augments]),r.drones=new Set([...r.drones,...e.drones]),r.sectors=new Set([...r.sectors,...e.sectors]),r.coordinates=new Set([...r.coordinates,...e.coordinates]),r.shipUnlocks=new Set([...r.shipUnlocks,...e.shipUnlocks]),r.autoRewards=[...r.autoRewards,...e.autoRewards],r.sectorWarps=new Set([...r.sectorWarps,...e.sectorWarps]),r.pursuitMods=[...r.pursuitMods,...e.pursuitMods],r.blueprintLists=new Set([...r.blueprintLists,...e.blueprintLists])}return r}let D=C(()=>x.value?te(x.value):null),O=C(()=>!w.value||!S.value?null:te(S.value)),j=C(()=>!w.value||!S.value||!S.value.event?[]:(Array.isArray(S.value.event)?S.value.event:[S.value.event]).map(e=>e.load||e.name).filter(Boolean)),M=C(()=>!w.value||!S.value||!S.value.event?0:(Array.isArray(S.value.event)?S.value.event:[S.value.event]).length);function N(e,t){a(`navigate-blueprint`,e,t)}function P(e){a(`navigate-sector`,e)}function F(e){a(`navigate-event`,e)}return(t,r)=>{let a=n(`EventViewer`,!0);return A(),k(`div`,{class:o([`event-item`,[T.value,e.depth>0?`border-l-2 border-gray-700 pl-2`:``]])},[v(`button`,{onClick:E,class:o([`w-full text-left px-2 py-1 rounded text-sm transition-colors`,[ee.value?`hover:bg-gray-700/50 cursor-pointer`:`cursor-default`,l.value?`bg-gray-700/30`:``]])},[ee.value?(A(),k(`span`,{key:0,class:o([`text-gray-400 mr-2 inline-block w-3 transition-transform`,{"rotate-90":l.value}])},` ▶ `,2)):(A(),k(`span`,We,`•`)),v(`span`,{class:o([`font-mono text-xs`,ee.value?w.value?`text-orange-400`:`text-blue-400`:`text-gray-500`])},[p(i(e.eventName)+` `,1),w.value?(A(),k(`span`,Ge,`(list: `+i(M.value)+`)`,1)):d(``,!0),h.value?(A(),k(`span`,Ke,`(circular)`)):d(``,!0)],2)],2),l.value&&w.value?(A(),k(`div`,qe,[j.value.length>0?(A(),k(`div`,Je,[r[1]||=v(`div`,{class:`text-gray-500 font-semibold`},`→ Events in list:`,-1),v(`div`,Ye,[(A(!0),k(g,null,u(j.value,t=>(A(),_(a,{key:t,"event-name":t,depth:e.depth+1,onNavigateBlueprint:N,onNavigateSector:P,onNavigateEvent:F},null,8,[`event-name`,`depth`]))),128))])])):d(``,!0),O.value&&(O.value.events.size>0||O.value.crew.length>0||O.value.weapons.size>0||O.value.augments.size>0||O.value.drones.size>0||O.value.autoRewards.length>0||O.value.shipUnlocks.size>0||O.value.blueprintLists.size>0)?(A(),k(`div`,{key:1,class:o([`space-y-2`,{"mt-3 border-t border-gray-700 pt-2":j.value.length>0}])},[O.value.crew.length>0||O.value.weapons.size>0||O.value.augments.size>0||O.value.drones.size>0||O.value.autoRewards.length>0||O.value.shipUnlocks.size>0||O.value.blueprintLists.size>0?(A(),k(`div`,Xe,`→ Items from this event list:`)):d(``,!0),O.value.events.size>0&&j.value.length===0?(A(),k(`div`,Ze,[r[2]||=v(`div`,{class:`text-gray-500 font-semibold text-[10px]`},`→ Events in this list:`,-1),v(`div`,Qe,[(A(!0),k(g,null,u(Array.from(O.value.events),t=>(A(),_(a,{key:t,"event-name":t,depth:e.depth+1,"visited-events":y.value,onNavigateBlueprint:N,onNavigateSector:P,onNavigateEvent:F},null,8,[`event-name`,`depth`,`visited-events`]))),128))])])):d(``,!0),O.value.crew.length>0?(A(),k(`div`,$e,[r[3]||=v(`span`,{class:`text-gray-500 font-semibold mr-2 text-[10px]`},`→ Crew:`,-1),(A(!0),k(g,null,u(O.value.crew,(e,t)=>(A(),k(`button`,{key:t,onClick:t=>N(e.class,`crew`),class:`px-1.5 py-0.5 bg-blue-900/30 border border-blue-700/50 rounded text-xs text-blue-300 hover:bg-blue-800/50 transition-colors`},[p(i(e.class),1),e.name?(A(),k(`span`,tt,` (`+i(e.name)+`)`,1)):d(``,!0)],8,et))),128))])):d(``,!0),O.value.weapons.size>0?(A(),k(`div`,nt,[r[4]||=v(`span`,{class:`text-gray-500 font-semibold mr-2 text-[10px]`},`→ Weapons:`,-1),(A(!0),k(g,null,u(Array.from(O.value.weapons),e=>(A(),k(`button`,{key:e,onClick:t=>N(e,`weapons`),class:`px-1.5 py-0.5 bg-red-900/30 border border-red-700/50 rounded text-xs text-red-300 hover:bg-red-800/50 transition-colors`},i(e),9,rt))),128))])):d(``,!0),O.value.augments.size>0?(A(),k(`div`,it,[r[5]||=v(`span`,{class:`text-gray-500 font-semibold mr-2 text-[10px]`},`→ Augments:`,-1),(A(!0),k(g,null,u(Array.from(O.value.augments),e=>(A(),k(`button`,{key:e,onClick:t=>N(e,`augments`),class:`px-1.5 py-0.5 bg-purple-900/30 border border-purple-700/50 rounded text-xs text-purple-300 hover:bg-purple-800/50 transition-colors`},i(e),9,at))),128))])):d(``,!0),O.value.drones.size>0?(A(),k(`div`,ot,[r[6]||=v(`span`,{class:`text-gray-500 font-semibold mr-2 text-[10px]`},`→ Drones:`,-1),(A(!0),k(g,null,u(Array.from(O.value.drones),e=>(A(),k(`button`,{key:e,onClick:t=>N(e,`drones`),class:`px-1.5 py-0.5 bg-green-900/30 border border-green-700/50 rounded text-xs text-green-300 hover:bg-green-800/50 transition-colors`},i(e),9,st))),128))])):d(``,!0),O.value.autoRewards.length>0?(A(),k(`div`,ct,[r[7]||=v(`span`,{class:`text-gray-500 font-semibold text-[10px]`},`→ Auto Rewards:`,-1),(A(!0),k(g,null,u(O.value.autoRewards,(e,t)=>(A(),k(`div`,{key:t,class:`text-yellow-300 bg-yellow-900/20 px-2 py-1 rounded border border-yellow-700/50`},[e.level?(A(),k(`span`,lt,`Level: `+i(e.level),1)):d(``,!0),e.text?(A(),k(`span`,ut,`(`+i(e.text)+`)`,1)):d(``,!0)]))),128))])):d(``,!0),O.value.shipUnlocks.size>0?(A(),k(`div`,dt,[r[8]||=v(`span`,{class:`text-gray-500 font-semibold mr-2 text-[10px]`},`→ Ship Unlocks:`,-1),(A(!0),k(g,null,u(Array.from(O.value.shipUnlocks),e=>(A(),k(`span`,{key:e,class:`px-1.5 py-0.5 bg-yellow-900/30 border border-yellow-700/50 rounded text-xs text-yellow-300`},i(e),1))),128))])):d(``,!0),O.value.blueprintLists.size>0?(A(),k(`div`,ft,[r[9]||=v(`span`,{class:`text-gray-500 font-semibold mr-2 text-[10px]`},`→ Random Item Pool:`,-1),(A(!0),k(g,null,u(Array.from(O.value.blueprintLists),e=>(A(),k(`span`,{key:e,class:`px-1.5 py-0.5 bg-teal-900/30 border border-teal-700/50 rounded text-xs text-teal-300`,title:`Random selection from `+e},i(e),9,pt))),128))])):d(``,!0)],2)):d(``,!0)])):d(``,!0),l.value&&x.value?(A(),k(`div`,mt,[x.value.text?(A(),k(`div`,ht,[r[10]||=v(`span`,{class:`text-gray-500 font-semibold`},`Text:`,-1),v(`div`,gt,i(x.value.text),1)])):d(``,!0),x.value.autoReward?(A(),k(`div`,_t,[r[11]||=v(`span`,{class:`text-yellow-400 font-semibold`},`Auto Reward:`,-1),v(`span`,vt,[x.value.autoReward.level?(A(),k(`span`,yt,`Level: `+i(x.value.autoReward.level),1)):d(``,!0),x.value.autoReward.text?(A(),k(`span`,bt,`(`+i(x.value.autoReward.text)+`)`,1)):d(``,!0)])])):d(``,!0),D.value&&(D.value.events.size>0||D.value.crew.length>0||D.value.weapons.size>0||D.value.augments.size>0||D.value.drones.size>0||D.value.sectors.size>0||D.value.coordinates.size>0||D.value.shipUnlocks.size>0||D.value.autoRewards.length>0||D.value.sectorWarps.size>0||D.value.pursuitMods.length>0||D.value.blueprintLists.size>0)?(A(),k(`div`,xt,[D.value.events.size>0&&(e.depth<3||f.value)?(A(),k(`div`,St,[r[12]||=v(`div`,{class:`text-gray-500 font-semibold`},`→ Events:`,-1),v(`div`,Ct,[(A(!0),k(g,null,u(Array.from(D.value.events),t=>(A(),_(a,{key:t,"event-name":t,depth:e.depth+1,"visited-events":y.value,onNavigateBlueprint:N,onNavigateSector:P,onNavigateEvent:F},null,8,[`event-name`,`depth`,`visited-events`]))),128))])])):d(``,!0),D.value.crew.length>0?(A(),k(`div`,wt,[r[13]||=v(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Crew:`,-1),(A(!0),k(g,null,u(D.value.crew,(e,t)=>(A(),k(`button`,{key:t,onClick:t=>N(e.class,`crew`),class:`px-1.5 py-0.5 bg-blue-900/30 border border-blue-700/50 rounded text-xs text-blue-300 hover:bg-blue-800/50 transition-colors`},[p(i(e.class),1),e.name?(A(),k(`span`,Et,` (`+i(e.name)+`)`,1)):d(``,!0)],8,Tt))),128))])):d(``,!0),D.value.weapons.size>0?(A(),k(`div`,Dt,[r[14]||=v(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Weapons:`,-1),(A(!0),k(g,null,u(Array.from(D.value.weapons),e=>(A(),k(`button`,{key:e,onClick:t=>N(e,`weapons`),class:`px-1.5 py-0.5 bg-red-900/30 border border-red-700/50 rounded text-xs text-red-300 hover:bg-red-800/50 transition-colors`},i(e),9,Ot))),128))])):d(``,!0),D.value.augments.size>0?(A(),k(`div`,kt,[r[15]||=v(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Augments:`,-1),(A(!0),k(g,null,u(Array.from(D.value.augments),e=>(A(),k(`button`,{key:e,onClick:t=>N(e,`augments`),class:`px-1.5 py-0.5 bg-purple-900/30 border border-purple-700/50 rounded text-xs text-purple-300 hover:bg-purple-800/50 transition-colors`},i(e),9,At))),128))])):d(``,!0),D.value.drones.size>0?(A(),k(`div`,jt,[r[16]||=v(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Drones:`,-1),(A(!0),k(g,null,u(Array.from(D.value.drones),e=>(A(),k(`button`,{key:e,onClick:t=>N(e,`drones`),class:`px-1.5 py-0.5 bg-green-900/30 border border-green-700/50 rounded text-xs text-green-300 hover:bg-green-800/50 transition-colors`},i(e),9,Mt))),128))])):d(``,!0),D.value.sectors.size>0?(A(),k(`div`,Nt,[r[17]||=v(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Sectors:`,-1),(A(!0),k(g,null,u(Array.from(D.value.sectors),e=>(A(),k(`button`,{key:e,onClick:t=>P(e),class:`px-1.5 py-0.5 bg-pink-900/30 border border-pink-700/50 rounded text-xs text-pink-300 hover:bg-pink-800/50 transition-colors`},i(e),9,Pt))),128))])):d(``,!0),D.value.sectorWarps.size>0?(A(),k(`div`,Ft,[r[18]||=v(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Sector Warps:`,-1),(A(!0),k(g,null,u(Array.from(D.value.sectorWarps),e=>(A(),k(`button`,{key:e,onClick:t=>P(e),class:`px-1.5 py-0.5 bg-pink-900/30 border border-pink-700/50 rounded text-xs text-pink-300 hover:bg-pink-800/50 transition-colors`},i(e),9,It))),128))])):d(``,!0),D.value.coordinates.size>0?(A(),k(`div`,Lt,[r[19]||=v(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Coordinates:`,-1),(A(!0),k(g,null,u(Array.from(D.value.coordinates),e=>(A(),k(`button`,{key:e,onClick:t=>P(m[e]),title:m[e]?`Go to ${m[e]}`:e,class:`px-1.5 py-0.5 bg-cyan-900/30 border border-cyan-700/50 rounded text-xs text-cyan-300 hover:bg-cyan-800/50 transition-colors`},i(e),9,Rt))),128))])):d(``,!0),D.value.shipUnlocks.size>0?(A(),k(`div`,zt,[r[20]||=v(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Ship Unlocks:`,-1),(A(!0),k(g,null,u(Array.from(D.value.shipUnlocks),e=>(A(),k(`span`,{key:e,class:`px-1.5 py-0.5 bg-yellow-900/30 border border-yellow-700/50 rounded text-xs text-yellow-300`},i(e),1))),128))])):d(``,!0),D.value.autoRewards.length>0?(A(),k(`div`,Bt,[r[21]||=v(`span`,{class:`text-gray-500 font-semibold`},`→ Auto Rewards:`,-1),(A(!0),k(g,null,u(D.value.autoRewards,(e,t)=>(A(),k(`div`,{key:t,class:`text-yellow-300 bg-yellow-900/20 px-2 py-1 rounded border border-yellow-700/50`},[e.level?(A(),k(`span`,Vt,`Level: `+i(e.level),1)):d(``,!0),e.text?(A(),k(`span`,Ht,`(`+i(e.text)+`)`,1)):d(``,!0)]))),128))])):d(``,!0),D.value.pursuitMods.length>0?(A(),k(`div`,Ut,[r[22]||=v(`span`,{class:`text-gray-500 font-semibold`},`→ Fleet Pursuit:`,-1),(A(!0),k(g,null,u(D.value.pursuitMods,(e,t)=>(A(),k(`div`,{key:t,class:o([`px-2 py-1 rounded border`,parseInt(e.amount)<0?`text-green-300 bg-green-900/20 border-green-700/50`:`text-red-300 bg-red-900/20 border-red-700/50`])},[parseInt(e.amount)>0?(A(),k(`span`,Wt,`Fleet advances: +`+i(e.amount),1)):(A(),k(`span`,Gt,`Fleet delayed: `+i(e.amount),1))],2))),128))])):d(``,!0),D.value.blueprintLists.size>0?(A(),k(`div`,Kt,[r[23]||=v(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Random Item Pool:`,-1),(A(!0),k(g,null,u(Array.from(D.value.blueprintLists),e=>(A(),k(`span`,{key:e,class:`px-1.5 py-0.5 bg-teal-900/30 border border-teal-700/50 rounded text-xs text-teal-300`,title:`Random selection from `+e},i(e),9,qt))),128))])):d(``,!0),D.value.events.size>0&&e.depth>=3&&!f.value?(A(),k(`div`,Jt,[v(`div`,Yt,` (`+i(D.value.events.size)+` more event(s) hidden) `,1),v(`button`,{onClick:r[0]||=e=>f.value=!0,class:`px-2 py-1 bg-blue-900/30 border border-blue-700/50 rounded text-xs text-blue-300 hover:bg-blue-800/50 transition-colors`},` Show All Events (depth `+i(e.depth+1)+`+) `,1)])):d(``,!0)])):d(``,!0)])):d(``,!0)],2)}}},Zt={class:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4`},Qt={class:`bg-gray-800 rounded-lg border border-gray-700 p-6 max-w-md`},$t={class:`flex items-center gap-3 mb-4`},en={class:`text-xl font-semibold text-gray-100`},tn={__name:`LoadingSpinner`,props:{message:{type:String,required:!0}},setup(e){return(t,n)=>(A(),k(`div`,Zt,[v(`div`,Qt,[v(`div`,$t,[n[0]||=v(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400`},null,-1),v(`h2`,en,i(e.message),1)])])]))}},nn={class:`min-h-screen flex items-center justify-center p-4`},rn={class:`bg-red-900/20 border border-red-700 rounded-lg p-8 max-w-2xl`},an={class:`flex items-start gap-4`},on={class:`text-gray-300 mb-4`},sn={__name:`ErrorDisplay`,props:{error:{type:String,required:!0}},setup(e){let t=ee();function n(){t.push(`/sectors`)}return(t,r)=>(A(),k(`div`,nn,[v(`div`,rn,[v(`div`,an,[r[1]||=v(`div`,{class:`text-red-400 text-4xl`},`⚠`,-1),v(`div`,null,[r[0]||=v(`h2`,{class:`text-2xl font-bold text-red-400 mb-2`},`Error Loading Data`,-1),v(`p`,on,i(e.error),1),v(`button`,{onClick:n,class:`px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors`},` Go to Sectors Page `)])])])]))}},cn=b({}),ln=b(!1),un=b(null);function dn(){async function e(){if(!(Object.keys(cn.value).length>0)){ln.value=!0,un.value=null;try{let e=await fetch(`/data/all_text_blueprints.json`);if(!e.ok)throw Error(`Failed to fetch text blueprints: ${e.statusText}`);cn.value=await e.json()}catch(e){un.value=e.message,console.error(`Error loading text blueprints:`,e)}finally{ln.value=!1}}}function t(e){return e?cn.value[e]||e:``}return{textBlueprints:cn,loading:ln,error:un,fetchTextBlueprints:e,getText:t}}var fn=b(null),pn=b(!1),mn=b(null);function hn(){async function e(){if(!fn.value){pn.value=!0,mn.value=null;try{fn.value=await le()}catch(e){mn.value=e.message,console.error(`Failed to load animation data:`,e)}finally{pn.value=!1}}}function t(e){if(!fn.value||!e)return null;let t=e.toLowerCase();t.endsWith(`_chaos`)?t=t.slice(0,-6):t.endsWith(`_temp`)?t=t.slice(0,-5):t.endsWith(`_automated`)&&(t=t.slice(0,-10));let n={},r=fn.value.animSheets||{},i=fn.value.animations||{};if(!r[t]||(Object.keys(i).forEach(e=>{let r=e.toLowerCase();(r===t||r.startsWith(t+`_`))&&(n[e]=i[e])}),Object.keys(n).length===0))return null;let a=t,o=n[`${t}_walk_down`];return o?.sheet?a=o.sheet:r[a]||(a=Object.values(n)[0]?.sheet||t),{animations:n,sheet:r[a],sheetName:a}}function n(e){if(!e)return{};let n=e.name,r=fn.value?t(n):null;if(!r||!r.sheet)return{backgroundImage:`url(/img/crew-placeholder.svg)`,backgroundPosition:`0px 0px`,backgroundSize:`70px 70px`,width:`70px`,height:`70px`,imageRendering:`auto`};let{sheet:i,sheetName:a,animations:o}=r,s=i.frameHeight||35,c=i.frameWidth||35,l=i.height||455,u=i.width||35,d=o[`${a}_walk_down`],f=0;d&&(f=(Math.floor(l/s)-1-d.y)*s);let p=n===`human_humanoid`?`hue-rotate(180deg) saturate(1.2)`:void 0;return{backgroundImage:`url(/img/${i.path})`,backgroundPosition:`0px -${f*2}px`,backgroundSize:`${u*2}px ${l*2}px`,width:`${c*2}px`,height:`${s*2}px`,imageRendering:`pixelated`,filter:p}}return{animationData:fn,loading:pn,error:mn,fetchAnimations:e,getCrewAnimations:t,getCrewThumbnailStyle:n}}var{animationData:gn}=hn(),_n=new Map,vn=null,yn=new Map;function bn(){function e(e){if(!e||!gn.value)return null;let t=gn.value.weaponAnims||{},n=gn.value.animSheets||{};if(!e.weaponArt)return null;let r=e.weaponArt.toLowerCase();return r===`invisible`&&e.iconReplace?(r=e.iconReplace.toLowerCase(),n[r]?r:null):!t[r]||!n[t[r].sheet]?null:r}function n(e){return _n.has(e)?Promise.resolve(_n.get(e)):new Promise((t,n)=>{let r=new Image;r.onload=()=>{_n.set(e,r),t(r)},r.onerror=n,r.src=e})}function r(e,t){let n=e.getContext(`2d`);n.fillStyle=`#4B5563`,n.fillRect(0,0,t,t),n.strokeStyle=`#6B7280`,n.lineWidth=2,n.strokeRect(1,1,t-2,t-2),n.fillStyle=`#9CA3AF`,n.font=`${t*.6}px Arial`,n.textAlign=`center`,n.textBaseline=`middle`,n.fillText(`?`,t/2,t/2)}async function i(t,i,a=40){if(!i||!gn.value)return;let o=e(t);if(!o){r(i,a);return}gn.value.animations;let s=gn.value.animSheets,c=gn.value.weaponAnims||{},l,u;if(c[o]?(u=c[o],l=s[u.sheet]):s[o]&&(l=s[o],u=null),!l){r(i,a);return}try{let e=await n(`/img/${l.path}`),t=i.getContext(`2d`);t.clearRect(0,0,a,a),t.imageSmoothingEnabled=!1;let r,o;u&&u.length?(r=Math.floor(e.width/u.length),o=e.height):(r=l.frameWidth||l.width,o=l.frameHeight||l.height);let s=u?u.x:0,c=u?u.y:0;u&&u.chargedFrame!==void 0&&(s+=u.chargedFrame);let d=s*r,f=c*o;t.save();let p=Math.min(a/o,a/r),m=r*p,h=o*p,g=(a-m)/2,_=(a-h)/2;t.drawImage(e,d,f,r,o,g,_,m,h),t.restore()}catch(e){console.error(`Failed to render weapon:`,e),r(i,a)}}function a(){vn||=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let t=e.target,n=yn.get(t);n&&(i(n.weapon,t,n.size),vn.unobserve(t),yn.delete(t))}})},{rootMargin:`100px`,threshold:.01})}function o(e,t,n=40){if(t)return a(),yn.set(t,{weapon:e,size:n}),vn.observe(t),t}function s(){vn&&=(vn.disconnect(),null),yn.clear()}return t(()=>{s()}),{renderWeaponThumbnail:i,observeThumbnail:o,getWeaponAnimationName:e}}var xn=(e,t)=>{let n=e.__vccOpts||e;for(let[e,r]of t)n[e]=r;return n},Sn={class:`flex items-center justify-between p-6 border-b border-gray-700`},Cn={class:`flex items-center gap-4 flex-1`},wn={class:`flex-1`},Tn={class:`flex items-center justify-between`},En={class:`flex items-center gap-2`},Dn={class:`text-2xl font-bold text-blue-400`},On={key:0,class:`text-sm text-gray-500 mt-1`},kn={key:0,class:`flex gap-2 items-center`},An={class:`text-sm text-gray-400 min-w-[3rem] text-center`},jn={class:`flex-1 overflow-y-auto p-6 space-y-6`},Mn={class:`grid grid-cols-2 gap-4`},Nn={key:0,class:`bg-gray-800 p-3 rounded`},Pn={class:`text-gray-300 break-words`},Fn={class:`text-orange-400 font-mono`},In={key:1,class:`bg-gray-800 p-3 rounded`},Ln={class:`text-gray-300 break-words`},Rn={class:`text-cyan-400 font-mono`},zn={key:0,class:`bg-gray-800 p-3 rounded`},Bn={class:`text-xs text-gray-500 mb-1`},Vn={class:`text-gray-300 break-words`},Hn={key:1,class:`text-green-400`},Un={key:2,class:`text-yellow-400`},Wn={key:3,class:`text-red-400`},Gn={key:4,class:`text-orange-400 font-mono`},Kn={key:5,class:`text-red-400 font-mono`},qn={key:6,class:`text-purple-400 font-mono`},Jn={key:7,class:`text-cyan-400 font-mono`},Yn={key:8,class:`text-green-400 font-mono`},Xn={key:9,class:`text-blue-400 font-mono`},Zn={key:10,class:`text-yellow-400 font-bold`},Qn={key:11,class:`text-cyan-400`},$n={key:12,class:`text-purple-400`},er={key:13,class:`font-mono text-sm`},tr={key:0,class:`bg-gray-800 p-4 rounded`},nr={class:`text-gray-300`},rr={key:1,class:`bg-gray-800 p-4 rounded`},ir={class:`text-gray-300 whitespace-pre-wrap`},ar={key:2,class:`bg-gray-800 p-4 rounded`},or={class:`text-gray-300 whitespace-pre-wrap`},sr={key:3,class:`bg-gray-800 p-4 rounded`},cr={class:`text-gray-300 whitespace-pre-wrap`},lr={key:4,class:`bg-gray-800 p-4 rounded`},ur={class:`grid grid-cols-2 gap-4`},dr={key:0,class:`flex justify-between`},fr={class:`text-red-400 font-mono`},pr={key:1,class:`flex justify-between`},mr={class:`text-orange-400 font-mono`},hr={key:2,class:`flex justify-between`},gr={class:`text-purple-400 font-mono`},_r={key:3,class:`flex justify-between`},vr={class:`text-cyan-400 font-mono`},yr={key:5,class:`bg-gray-800 p-4 rounded`},br={class:`grid grid-cols-2 gap-4`},xr={class:`flex justify-between`},Sr={class:`text-blue-400 font-mono`},Cr={class:`flex justify-between`},wr={class:`text-green-400 font-mono`},Tr={key:0,class:`flex justify-between`},Er={class:`text-yellow-400 font-mono`},Dr={key:1,class:`flex justify-between`},Or={class:`text-purple-400 font-mono`},kr={key:6,class:`bg-gray-800 p-4 rounded`},Ar={class:`space-y-2`},jr={class:`flex justify-between col-span-2`},Mr={class:`text-blue-400 font-mono`},Nr={class:`flex justify-between`},Pr={class:`text-green-400 font-mono`},Fr={key:0,class:`flex justify-between col-span-3`},Ir={class:`text-red-400 font-mono`},Lr={key:7,class:`bg-gray-800 p-4 rounded`},Rr=xn({__name:`WeaponDetailModal`,props:{weapon:{type:Object,required:!0},show:{type:Boolean,default:!1},versions:{type:Array,default:null},currentIndex:{type:Number,default:0}},emits:[`close`,`navigate-sector`,`change-version`],setup(e,{emit:t}){let n=ee(),c=e,f=t,{getText:p}=dn(),{renderWeaponThumbnail:m}=bn(),y=b(null),S=C(()=>c.weapon?.weaponBlueprint||{});l(()=>{y.value&&S.value&&m(S.value,y.value,200)}),s(()=>S.value,e=>{y.value&&e&&m(e,y.value,200)},{deep:!0});function w(){f(`close`)}function E(e){f(`change-version`,e)}function D(e){let t={sp:`Shield Piercing`,bp:`Blueprint Cost`,ion:`Ion Damage`,persDamage:`Personnel Damage`,sysDamage:`System Damage`,hullBust:`Hull Bust`,noSysDamage:`No System Damage`,noPersDamage:`No Personnel Damage`,accuracyMod:`Accuracy Modifier`,drone_targetable:`Targetable by Drones`,statBoostChance:`Stat Boost Chance`,freeMissiles:`Free Missiles`,freepower:`Free Power`,freeMissileChance:`Free Missile Chance`,chargeLevels:`Charge Levels`,spawnCrew:`Spawns Crew`,crewSpawnChance:`Crew Spawn Chance`,statBoosts:`Stat Boosts`,roomStatBoosts:`Room Stat Boosts`,roomStatBoostChance:`Room Stat Boost Chance`,erosion:`Erosion Damage`,erosionChance:`Erosion Chance`,"mv-stealth":`Stealth (No Cloak Penalty)`,simultaneousFire:`Simultaneous Fire`,fireTime:`Fire Time`};return t[e]?t[e]:e.replace(/([A-Z])/g,` $1`).replace(/^./,e=>e.toUpperCase()).trim()}function O(e,t){return!([`_`,`E`,`N`,`R`,`O`,`A`,`D`,`S`,`M`,`L`,`I`,`B`,`F`,`C`,`T`,`P`,`U`,`Y`,`G`,`K`,`H`,`1`,`2`,`3`].includes(e)||t==null||t===``)}function M(e,t){return t===`tip`||t===`tooltip`?Array.isArray(e)?e.map(e=>p(e)).join(`

`):p(e):typeof e==`object`?JSON.stringify(e,null,2):String(e)}function N(e,t){return!e&&!t?null:!t||e===t?e?.toFixed(3):`${e.toFixed(3)} - ${t.toFixed(3)}`}let P=C(()=>{let e=`type.rarity.cost.power.damage.shots.sp.ion.sysDamage.hullBust.fireChance.breachChance.statBoostChance.lockdown.cooldown.speed.chargeTime.fireTime.length.missiles.drones.shotLimit.chargeLevels.spawnCrew.crewSpawnChance.statBoosts.roomStatBoosts.roomStatBoostChance.erosion.erosionChance.radius.accuracyMod.drone_targetable.noSysDamage.noPersDamage.freepower.freeMissiles.freeMissileChance.mv-stealth.simultaneousFire`.split(`.`),t=[];for(let n of e)O(n,S.value[n])&&t.push({key:n,label:D(n),value:S.value[n]});return t}),F=C(()=>{let e=parseFloat(S.value.damage)||0,t=parseFloat(S.value.persDamage)||0;return e===0&&t===0?null:(e+t)*15}),I=C(()=>{let e=parseFloat(S.value.stunChance)||0,t=parseFloat(S.value.stun)||0;if(e===0&&t===0)return null;let n;return n=t>0?t:e>10?e:e===10?6:3,{chance:Math.min(e*10,100),duration:n}}),L=C(()=>{let e=S.value.boost;return e?{type:e.type,amount:e.amount,count:e.count,boostCount:e.boostCount}:null}),R=C(()=>{let e=S.value.projectiles?.projectile;return e?Array.isArray(e)?e:[e]:null});return(t,s)=>(A(),_(T,{to:`body`},[j(te,{name:`modal`},{default:x(()=>[e.show?(A(),k(`div`,{key:0,class:`fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70`,onClick:w},[v(`div`,{class:`bg-gray-900 border-2 border-gray-700 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col`,onClick:s[3]||=h(()=>{},[`stop`])},[v(`div`,Sn,[v(`div`,Cn,[v(`canvas`,{ref_key:`weaponCanvas`,ref:y,width:`200`,height:`200`,class:`weapon-modal-image flex-shrink-0`,style:{"image-rendering":`pixelated`}},null,512),v(`div`,wn,[v(`div`,Tn,[v(`div`,En,[v(`div`,null,[v(`h2`,Dn,i(S.value.title||S.value.name),1),S.value.name?(A(),k(`div`,On,i(S.value.name),1)):d(``,!0)]),v(`button`,{onClick:s[0]||=e=>a(n).push({path:`/blueprints`,query:{id:S.value.name,tab:`weapons`}}),class:`text-gray-400 hover:text-blue-400 transition-colors p-2`,title:`Open in Blueprints page`},[...s[4]||=[v(`svg`,{xmlns:`http://www.w3.org/2000/svg`,class:`h-5 w-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[v(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1`})],-1)]])]),e.versions&&e.versions.length>1?(A(),k(`div`,kn,[v(`button`,{onClick:s[1]||=e=>E(-1),class:`w-10 h-10 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-lg`,title:`Previous version`},` ‹ `),v(`span`,An,i(e.currentIndex+1)+` / `+i(e.versions.length),1),v(`button`,{onClick:s[2]||=e=>E(1),class:`w-10 h-10 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-lg`,title:`Next version`},` › `)])):d(``,!0)])])]),v(`button`,{onClick:w,class:`text-gray-400 hover:text-white text-2xl leading-none px-2 ml-4`,"aria-label":`Close`},` × `)]),v(`div`,jn,[v(`div`,Mn,[F.value?(A(),k(`div`,Nn,[s[5]||=v(`div`,{class:`text-xs text-gray-500 mb-1`},`Crew Damage`,-1),v(`div`,Pn,[v(`span`,Fn,i(F.value.toFixed(1)),1)])])):d(``,!0),I.value?(A(),k(`div`,In,[s[6]||=v(`div`,{class:`text-xs text-gray-500 mb-1`},`Stun`,-1),v(`div`,Ln,[v(`span`,Rn,i(I.value.chance.toFixed(0))+`% chance, `+i(I.value.duration.toFixed(1))+`s`,1)])])):d(``,!0),(A(!0),k(g,null,u(P.value,e=>(A(),k(g,{key:e.key},[e.key!==`desc`&&e.key!==`tooltip`&&e.key!==`tip`&&e.key!==`short`?(A(),k(`div`,zn,[v(`div`,Bn,i(e.label),1),v(`div`,Vn,[e.key===`rarity`?(A(),k(`span`,{key:0,class:o({"text-gray-400":e.value===`0`,"text-green-400":e.value===`1`,"text-blue-400":e.value===`2`,"text-purple-400":e.value===`3`,"text-orange-400":e.value===`4`,"text-red-400":e.value===`5`})},i([`Unpurchaseable`,`Common`,`Uncommon`,`Rare`,`Very Rare`,`Ultra Rare`][parseInt(e.value)]||e.value),3)):e.key===`cost`?(A(),k(`span`,Hn,i(e.value),1)):e.key===`power`?(A(),k(`span`,Un,i(e.value),1)):e.key===`damage`?(A(),k(`span`,Wn,i(e.value),1)):e.key===`breachChance`?(A(),k(`span`,Gn,i((parseFloat(e.value)*10).toFixed(0))+`%`,1)):e.key===`fireChance`?(A(),k(`span`,Kn,i((parseFloat(e.value)*10).toFixed(0))+`%`,1)):e.key===`crewSpawnChance`?(A(),k(`span`,qn,i((parseFloat(e.value)*10).toFixed(0))+`%`,1)):e.key===`erosionChance`?(A(),k(`span`,Jn,i((parseFloat(e.value)*10).toFixed(0))+`%`,1)):e.key===`freeMissileChance`?(A(),k(`span`,Yn,i(parseFloat(e.value).toFixed(0))+`%`,1)):e.key===`roomStatBoostChance`?(A(),k(`span`,Xn,i((parseFloat(e.value)*10).toFixed(0))+`%`,1)):e.key===`shotLimit`?(A(),k(`span`,Zn,i(e.value)+` uses per fight`,1)):e.key===`mv-stealth`?(A(),k(`span`,Qn,i(e.value===`true`?`Yes`:`No`),1)):e.key===`simultaneousFire`?(A(),k(`span`,$n,i(e.value===`true`?`Yes`:`No`),1)):(A(),k(`span`,er,i(M(e.value,e.key)),1))])])):d(``,!0)],64))),128))]),S.value.short?(A(),k(`div`,tr,[s[7]||=v(`div`,{class:`text-xs text-gray-500 mb-2`},`Short Description`,-1),v(`div`,nr,i(S.value.short),1)])):d(``,!0),S.value.desc?(A(),k(`div`,rr,[s[8]||=v(`div`,{class:`text-xs text-gray-500 mb-2`},`Description`,-1),v(`div`,ir,i(typeof S.value.desc==`string`?S.value.desc:S.value.desc?.text||JSON.stringify(S.value.desc)),1)])):d(``,!0),S.value.tooltip?(A(),k(`div`,ar,[s[9]||=v(`div`,{class:`text-xs text-gray-500 mb-2`},`Tooltip`,-1),v(`div`,or,i(M(S.value.tooltip,`tooltip`)),1)])):d(``,!0),S.value.tip?(A(),k(`div`,sr,[s[10]||=v(`div`,{class:`text-xs text-gray-500 mb-2`},`Tip`,-1),v(`div`,cr,i(M(S.value.tip,`tip`)),1)])):d(``,!0),S.value.hullDPS||S.value.crewDPS||S.value.sysDPS||S.value.ionDPS?(A(),k(`div`,lr,[s[15]||=v(`div`,{class:`text-xs text-gray-500 mb-3`},`Damage Per Second (DPS)`,-1),v(`div`,ur,[N(S.value.hullDPS,S.value.hullDPSMax)?(A(),k(`div`,dr,[s[11]||=v(`span`,{class:`text-gray-400`},`Hull DPS:`,-1),v(`span`,fr,i(N(S.value.hullDPS,S.value.hullDPSMax)),1)])):d(``,!0),N(S.value.crewDPS,S.value.crewDPSMax)?(A(),k(`div`,pr,[s[12]||=v(`span`,{class:`text-gray-400`},`Crew DPS:`,-1),v(`span`,mr,i(N(S.value.crewDPS,S.value.crewDPSMax)),1)])):d(``,!0),N(S.value.sysDPS,S.value.sysDPSMax)?(A(),k(`div`,hr,[s[13]||=v(`span`,{class:`text-gray-400`},`System DPS:`,-1),v(`span`,gr,i(N(S.value.sysDPS,S.value.sysDPSMax)),1)])):d(``,!0),N(S.value.ionDPS,S.value.ionDPSMax)?(A(),k(`div`,_r,[s[14]||=v(`span`,{class:`text-gray-400`},`Ion DPS:`,-1),v(`span`,vr,i(N(S.value.ionDPS,S.value.ionDPSMax)),1)])):d(``,!0)])])):d(``,!0),L.value?(A(),k(`div`,yr,[s[20]||=v(`div`,{class:`text-xs text-gray-500 mb-3`},`Boost Mechanics`,-1),v(`div`,br,[v(`div`,xr,[s[16]||=v(`span`,{class:`text-gray-400`},`Type:`,-1),v(`span`,Sr,i(L.value.type),1)]),v(`div`,Cr,[s[17]||=v(`span`,{class:`text-gray-400`},`Amount:`,-1),v(`span`,wr,i(L.value.amount),1)]),L.value.count?(A(),k(`div`,Tr,[s[18]||=v(`span`,{class:`text-gray-400`},`Per Shot:`,-1),v(`span`,Er,i(L.value.count),1)])):d(``,!0),L.value.boostCount?(A(),k(`div`,Dr,[s[19]||=v(`span`,{class:`text-gray-400`},`Max Stacks:`,-1),v(`span`,Or,i(L.value.boostCount),1)])):d(``,!0)])])):d(``,!0),R.value&&R.value.length>0?(A(),k(`div`,kr,[s[24]||=v(`div`,{class:`text-xs text-gray-500 mb-3`},`Projectiles`,-1),v(`div`,Ar,[(A(!0),k(g,null,u(R.value,(e,t)=>(A(),k(`div`,{key:t,class:`grid grid-cols-3 gap-4 bg-gray-900 p-2 rounded`},[v(`div`,jr,[s[21]||=v(`span`,{class:`text-gray-400`},`Type:`,-1),v(`span`,Mr,i(e._text),1)]),v(`div`,Nr,[s[22]||=v(`span`,{class:`text-gray-400`},`Count:`,-1),v(`span`,Pr,i(e.count),1)]),e.fake?(A(),k(`div`,Fr,[s[23]||=v(`span`,{class:`text-gray-400`},`Fake:`,-1),v(`span`,Ir,i(e.fake),1)])):d(``,!0)]))),128))])])):d(``,!0),t.$slots.sectors?(A(),k(`div`,Lr,[s[25]||=v(`div`,{class:`text-xs text-gray-500 mb-2`},`Found In Sectors`,-1),r(t.$slots,`sectors`,{},void 0,!0)])):d(``,!0)])])])):d(``,!0)]),_:3})]))}},[[`__scopeId`,`data-v-02e3298d`]]),zr={class:`flex items-center justify-between p-6 border-b border-gray-700`},Br={class:`flex-1`},Vr={class:`flex items-center gap-4`},Hr={class:`flex-1`},Ur={class:`flex items-center gap-2`},Wr={class:`text-2xl font-bold text-blue-400`},Gr={key:0,class:`text-yellow-400 mr-2`},Kr={key:1,class:`mr-2`},qr={key:0,class:`text-sm text-gray-500 mt-1`},Jr={key:1,class:`text-sm text-gray-400 mt-1`},Yr={key:1,class:`flex gap-2 items-center`},Xr={class:`text-sm text-gray-400 min-w-[3rem] text-center`},Zr={class:`flex-1 overflow-y-auto p-6 space-y-6`},Qr={class:`grid grid-cols-2 gap-4`},$r={key:0,class:`bg-gray-800 p-3 rounded`},ei={class:`text-green-400`},ti={key:1,class:`bg-gray-800 p-3 rounded`},ni={key:0,class:`bg-gray-800 p-4 rounded`},ri={class:`text-gray-300 whitespace-pre-wrap`},ii={key:1,class:`bg-gray-800 p-4 rounded`},ai={class:`list-disc list-inside space-y-1 text-gray-300`},oi={key:2,class:`bg-gray-800 p-4 rounded`},si={class:`grid grid-cols-2 gap-3`},ci={class:`text-xs text-gray-500 mb-1`},li={key:3,class:`bg-gray-800 p-4 rounded`},ui=xn({__name:`CrewDetailModal`,props:{crew:{type:Object,required:!0},show:{type:Boolean,default:!1},versions:{type:Array,default:null},currentIndex:{type:Number,default:0}},emits:[`close`,`navigate-sector`,`change-version`],setup(e,{emit:t}){let n=ee(),s=e,l=t,{getCrewThumbnailStyle:f}=hn(),m=C(()=>s.crew?.crewBlueprint||{}),y=C(()=>m.value.race||{});function b(){l(`close`)}function S(e){l(`change-version`,e)}function w(e){return e?e.name?.startsWith(`unique_`)?e.name.substring(7).split(`_`).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(` `):e.name?.toLowerCase().startsWith(`gb`)?e.name.substring(2).split(`_`).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(` `):e.title||e.name:`Unknown`}function E(e){if(!e?.powerList)return[];let t=e.powerList;if(t.power){if(Array.isArray(t.power))return t.power;if(typeof t.power==`string`)return[t.power]}return[]}function D(e){let t={maxHealth:`Max Health`,repairSpeed:`Repair Speed`,moveSpeedMultiplier:`Move Speed`,damageMultiplier:`Damage Multiplier`,suffocationModifier:`Suffocation Modifier`,fireDamageMultiplier:`Fire Damage Multiplier`,bonusPower:`Bonus Power`,canFight:`Can Fight`,canRepair:`Can Repair`,canSabotage:`Can Sabotage`,canSuffocate:`Can Suffocate`,canBurn:`Can Burn`,canTeleport:`Can Teleport`,teleportMove:`Teleport Move`,resistsMindControl:`Resists Mind Control`,canPhaseThroughDoors:`Can Phase Through Doors`,stunMultiplier:`Stun Multiplier`,healSpeed:`Heal Speed`,oxygenChangeSpeed:`Oxygen Change Speed`,noClone:`No Clone`,noSlot:`No Slot`,controllable:`Controllable`,damageTakenMultiplier:`Damage Taken Multiplier`,passiveHealAmount:`Passive Heal Amount`,passiveHealDelay:`Passive Heal Delay`,lowHealthThreshold:`Low Health Threshold`,lowHealthThresholdPercentage:`Low Health Threshold %`,fireRepairMultiplier:`Fire Repair Multiplier`,cloneLoseSkills:`Clone Lose Skills`,defaultSkillLevel:`Default Skill Level`,noWarning:`No Warning`};return t[e]?t[e]:e.replace(/([A-Z])/g,` $1`).replace(/^./,e=>e.toUpperCase()).trim()}function O(e,t){return!([`name`,`animBase`,`animSheet`,`skills`,`deathSounds`,`shootingSounds`,`repairSounds`,`powerEffect`,`passiveStatBoosts`,`deathEffect`,`nameRace`,`hasCustomDeathAnimation`,`hasDeathExplosion`].includes(e)||t==null||t===``||typeof t==`object`&&Object.keys(t).length===0)}function M(e){return e===`true`||e===!0?`Yes`:e===`false`||e===!1?`No`:e}function N(e){return e===`true`||e===!0?`text-green-400`:e===`false`||e===!1?`text-red-400`:`text-gray-300`}let P=C(()=>{let e=[];for(let[t,n]of Object.entries(y.value))O(t,n)&&e.push({key:t,label:D(t),value:n});return e});return(t,s)=>(A(),_(T,{to:`body`},[j(te,{name:`modal`},{default:x(()=>[e.show?(A(),k(`div`,{key:0,class:`fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70`,onClick:b},[v(`div`,{class:`bg-gray-900 border-2 border-gray-700 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col`,onClick:s[3]||=h(()=>{},[`stop`])},[v(`div`,zr,[v(`div`,Br,[v(`div`,Vr,[a(f)(m.value).backgroundImage?(A(),k(`div`,{key:0,style:c(a(f)(m.value)),class:`flex-shrink-0`},null,4)):d(``,!0),v(`div`,Hr,[v(`div`,Ur,[v(`h2`,Wr,[m.value.name?.startsWith(`unique_`)?(A(),k(`span`,Gr,`⭐`)):d(``,!0),m.value.name?.toUpperCase().includes(`CHAOS`)?(A(),k(`span`,Kr,`🤯`)):d(``,!0),p(` `+i(w(m.value)),1)]),v(`button`,{onClick:s[0]||=e=>a(n).push({path:`/blueprints`,query:{id:m.value.name,tab:`crew`}}),class:`text-gray-400 hover:text-blue-400 transition-colors p-2`,title:`Open in Blueprints page`},[...s[4]||=[v(`svg`,{xmlns:`http://www.w3.org/2000/svg`,class:`h-5 w-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[v(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1`})],-1)]])]),m.value.name?(A(),k(`div`,qr,i(m.value.name),1)):d(``,!0),m.value.title&&m.value.name?.startsWith(`unique_`)?(A(),k(`div`,Jr,i(m.value.title),1)):d(``,!0)]),e.versions&&e.versions.length>1?(A(),k(`div`,Yr,[v(`button`,{onClick:s[1]||=e=>S(-1),class:`w-10 h-10 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-lg`,title:`Previous version`},` ‹ `),v(`span`,Xr,i(e.currentIndex+1)+` / `+i(e.versions.length),1),v(`button`,{onClick:s[2]||=e=>S(1),class:`w-10 h-10 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-lg`,title:`Next version`},` › `)])):d(``,!0)])]),v(`button`,{onClick:b,class:`text-gray-400 hover:text-white text-2xl leading-none px-2 ml-4`,"aria-label":`Close`},` × `)]),v(`div`,Zr,[v(`div`,Qr,[m.value.cost?(A(),k(`div`,$r,[s[5]||=v(`div`,{class:`text-xs text-gray-500 mb-1`},`Cost`,-1),v(`div`,ei,i(m.value.cost),1)])):d(``,!0),m.value.rarity?(A(),k(`div`,ti,[s[6]||=v(`div`,{class:`text-xs text-gray-500 mb-1`},`Rarity`,-1),v(`div`,{class:o({"text-gray-400":m.value.rarity===`0`,"text-green-400":m.value.rarity===`1`,"text-blue-400":m.value.rarity===`2`,"text-purple-400":m.value.rarity===`3`,"text-orange-400":m.value.rarity===`4`,"text-red-400":m.value.rarity===`5`})},i([`Unpurchaseable`,`Common`,`Uncommon`,`Rare`,`Very Rare`,`Ultra Rare`][parseInt(m.value.rarity)]||m.value.rarity),3)])):d(``,!0)]),m.value.desc?(A(),k(`div`,ni,[s[7]||=v(`div`,{class:`text-xs text-gray-500 mb-2`},`Description`,-1),v(`div`,ri,i(m.value.desc),1)])):d(``,!0),E(m.value).length>0?(A(),k(`div`,ii,[s[8]||=v(`div`,{class:`text-xs text-gray-500 mb-2`},`Powers`,-1),v(`ul`,ai,[(A(!0),k(g,null,u(E(m.value),(e,t)=>(A(),k(`li`,{key:t},i(e),1))),128))])])):d(``,!0),P.value.length>0?(A(),k(`div`,oi,[s[9]||=v(`div`,{class:`text-xs text-gray-500 mb-3`},`Race Statistics`,-1),v(`div`,si,[(A(!0),k(g,null,u(P.value,e=>(A(),k(`div`,{key:e.key,class:`bg-gray-900 p-2 rounded`},[v(`div`,ci,i(e.label),1),v(`div`,{class:o([`font-mono text-sm`,e.value===`true`||e.value===!0||e.value===`false`||e.value===!1?N(e.value):`text-gray-300`])},i(M(e.value)),3)]))),128))])])):d(``,!0),t.$slots.sectors?(A(),k(`div`,li,[s[10]||=v(`div`,{class:`text-xs text-gray-500 mb-2`},`Found In Sectors`,-1),r(t.$slots,`sectors`,{},void 0,!0)])):d(``,!0)])])])):d(``,!0)]),_:3})]))}},[[`__scopeId`,`data-v-74ce0f13`]]),di={SPAWN_BATTLE:{crewBlueprint:`eldritch_spawn`,tooltipName:`Eldritch Spawn`},SPAWN_BOARDER:{crewBlueprint:`eldritch_spawn`,tooltipName:`Eldritch Spawn`},DIVREPAIR:{crewBlueprint:`divrepair`,tooltipName:`Divine Repair`},REPAIR:{crewBlueprint:`repair`,tooltipName:`Maintenance`},REPAIR_BOARDER:{crewBlueprint:`repairboarder`,tooltipName:`"Repair"`},RECON_DEFAULT:{crewBlueprint:`drone_recon`,tooltipName:`Recon`},RECON_DEFENSE:{crewBlueprint:`drone_recon_defense`,tooltipName:`Recon`},RECON_BOARDER:{crewBlueprint:`drone_recon_boarder`,tooltipName:`Recon`},DOCTOR_DEFENSE:{crewBlueprint:`doctor`,tooltipName:`Doctor Drone`},DOCTOR_BOARDER:{crewBlueprint:`doctor`,tooltipName:`Doctor Drone`},SURGEON_BATTLE:{crewBlueprint:`surgeon`,tooltipName:`Surgeon`},SURGEON_BOARDER:{crewBlueprint:`surgeon`,tooltipName:`Surgeon`},SURGEON_BATTLE_CHAOS:{crewBlueprint:`surgeon_chaos`,tooltipName:`Surgeon`},SURGEON_BOARDER_CHAOS:{crewBlueprint:`surgeon_chaos`,tooltipName:`Surgeon`},FOREMAN_BATTLE:{crewBlueprint:`drone_vamp_foreman`,tooltipName:`Foreman`},FOREMAN_BOARDER:{crewBlueprint:`drone_vamp_foreman`,tooltipName:`Foreman`},FOREMAN_BATTLE_CHAOS:{crewBlueprint:`drone_vamp_foreman_chaos`,tooltipName:`Foreman`},FOREMAN_BOARDER_CHAOS:{crewBlueprint:`drone_vamp_foreman_chaos`,tooltipName:`Foreman`},HOLODRONE_BATTLE:{crewBlueprint:`drone_holodrone`,tooltipName:`Holo-Drone`},HOLODRONE_BOARDER:{crewBlueprint:`drone_holodrone`,tooltipName:`Holo-Drone`},HOLODRONE_BATTLE_CHAOS:{crewBlueprint:`drone_holodrone_chaos`,tooltipName:`Holo-Drone`},HOLODRONE_BOARDER_CHAOS:{crewBlueprint:`drone_holodrone_chaos`,tooltipName:`Holo-Drone`},MANNING:{crewBlueprint:`manning`,tooltipName:`Manager`},MANNING_ENEMY:{crewBlueprint:`manningenemy`,tooltipName:`Manager`},LOOT_SEPARATIST_1_DEFEND:{crewBlueprint:`loot_separatist_1`,tooltipName:`Battle Mk I`},LOOT_SEPARATIST_1_BOARDER:{crewBlueprint:`loot_separatist_1`,tooltipName:`Battle Mk I`},YINYANG_BATTLE:{crewBlueprint:`drone_yinyang`,tooltipName:`Yin Yang`},YINYANG_BOARDER:{crewBlueprint:`drone_yinyang_board`,tooltipName:`Yin Yang`},YINYANG_BATTLE_CHAOS:{crewBlueprint:`drone_yinyang_chaos`,tooltipName:`Yin Yang`},YINYANG_BOARDER_CHAOS:{crewBlueprint:`drone_yinyang_chaos`,tooltipName:`Yin Yang`},BATTLETOG_DEFEND:{crewBlueprint:`drone_battle`,tooltipName:`Battle Mk I`},BATTLETOG_BOARDER:{crewBlueprint:`drone_battle`,tooltipName:`Battle Mk I`},BATTLETOG2_DEFEND:{crewBlueprint:`drone_battle2`,tooltipName:`Battle Mk II`},BATTLETOG2_BOARDER:{crewBlueprint:`drone_battle2`,tooltipName:`Battle Mk II`},BATTLETOG2_BOARDER_SYLVAN:{crewBlueprint:`drone_battle2`,tooltipName:`Battle Mk II`},CONSTRUCTOR:{crewBlueprint:`drone_vamp_constructor`,tooltipName:`Constructor`},PRODUCER:{crewBlueprint:`drone_vamp_producer`,tooltipName:`Producer`},GRAZIER_BATTLE:{crewBlueprint:`drone_vamp_grazier`,tooltipName:`Grazier`},GRAZIER_BOARDER:{crewBlueprint:`drone_vamp_grazier`,tooltipName:`Grazier`},BUTLER_DEFENSE:{crewBlueprint:`butler`,tooltipName:`Butler`},BUTLER_BOARDER:{crewBlueprint:`butler`,tooltipName:`Butler`},A55_BATTLE:{crewBlueprint:`a55`,tooltipName:`A5540L3`},A55_BOARDER:{crewBlueprint:`a55`,tooltipName:`A5540L3`},GANA_BATTLE:{crewBlueprint:`gana`,tooltipName:`Gana`},GANA_BOARDER:{crewBlueprint:`gana`,tooltipName:`Gana`},MENDER:{crewBlueprint:`mender`,tooltipName:`Mender`},MENDERR:{crewBlueprint:`menderr`,tooltipName:`Mender`},DIRECTOR:{crewBlueprint:`director`,tooltipName:`Director`},ATOM_DEFEND:{crewBlueprint:`atom`,tooltipName:`Atomizer`},ATOM_BOARDER:{crewBlueprint:`atom`,tooltipName:`Atomizer`},ATOMR_DEFEND:{crewBlueprint:`atomr`,tooltipName:`Royal Atomizer`},ATOMR_BOARDER:{crewBlueprint:`atomr`,tooltipName:`Royal Atomizer`},ROOMBA_DEFEND:{crewBlueprint:`roomba`,tooltipName:`Roomba`},ROOMBA_BOARDER:{crewBlueprint:`roomba`,tooltipName:`Roomba`}},{animationData:fi,getCrewAnimations:pi,fetchAnimations:mi}=hn();mi();var hi=new Map,gi=null,_i=new Map;function vi(){function e(e){return hi.has(e)?Promise.resolve(hi.get(e)):new Promise((t,n)=>{let r=new Image;r.onload=()=>{hi.set(e,r),t(r)},r.onerror=n,r.src=e})}function n(e,t){let n=e.getContext(`2d`);n.fillStyle=`#4B5563`,n.fillRect(0,0,t,t),n.strokeStyle=`#6B7280`,n.lineWidth=2,n.strokeRect(1,1,t-2,t-2),n.fillStyle=`#9CA3AF`,n.font=`${t*.6}px Arial`,n.textAlign=`center`,n.textBaseline=`middle`,n.fillText(`?`,t/2,t/2)}async function r(t,r,a=40){if(!r)return;fi.value||await mi();let o=t?.type;if(o===`BATTLE`||o===`BOARDER`||o===`REPAIR`){let e=di[t.name];if(e?.crewBlueprint){await i(e.crewBlueprint,r,a);return}else{n(r,a);return}}if(o===`DEFENSE`){if(!t.droneImage){n(r,a);return}let i=`/img/ship/drones/${t.droneImage}_base.png`,o=`/img/ship/drones/${t.droneImage}_gun.png`;try{let t=await e(i),n=await e(o),s=r.getContext(`2d`);s.clearRect(0,0,a,a),s.imageSmoothingEnabled=!1;let c=Math.min(a/t.height,a/t.width),l=t.width*c,u=t.height*c,d=(a-l)/2,f=(a-u)/2;s.drawImage(t,0,0,t.width,t.height,d,f,l,u),s.drawImage(n,0,0,n.width,n.height,d,f,l,u)}catch(e){console.error(`Failed to render defense drone:`,e),n(r,a)}return}if(o===`COMBAT`){if(!t.droneImage){n(r,a);return}let i=`/img/ship/drones/${t.droneImage}_on.png`;try{let t=await e(i),n=r.getContext(`2d`);n.clearRect(0,0,a,a),n.imageSmoothingEnabled=!1;let o=Math.min(a/t.height,a/t.width),s=t.width*o,c=t.height*o,l=(a-s)/2,u=(a-c)/2;n.drawImage(t,0,0,t.width,t.height,l,u,s,c)}catch(e){console.error(`Failed to render drone:`,e),n(r,a)}return}n(r,a)}async function i(t,r,i=40){if(!r||!fi.value)return;let a=pi(t);if(!a||!a.sheet){n(r,i);return}let{sheet:o,sheetName:s,animations:c}=a,l=o.frameHeight||35,u=o.frameWidth||35,d=o.height||455,f=c[`${s}_walk_down`],p=0;f&&(p=(Math.ceil(d/l)-1-f.y)*l);try{let n=await e(`/img/${o.path}`),a=r.getContext(`2d`);a.clearRect(0,0,i,i),a.imageSmoothingEnabled=!1;let s=i/l,c=u*s,d=l*s,f=(i-c)/2,m=(i-d)/2;t===`human_humanoid`&&(a.filter=`hue-rotate(180deg) saturate(1.2)`),a.drawImage(n,0,p,u,l,f,m,c,d),a.filter=`none`}catch(e){console.error(`Failed to render crew drone:`,e),n(r,i)}}function a(){gi||=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let t=e.target,n=_i.get(t);n&&(r(n.drone,t,n.size),gi.unobserve(t),_i.delete(t))}})},{rootMargin:`100px`,threshold:.01})}function o(e,t,n=40){if(t)return a(),_i.set(t,{drone:e,size:n}),gi.observe(t),t}function s(){gi&&=(gi.disconnect(),null),_i.clear()}return t(()=>{s()}),{renderDroneThumbnail:r,observeThumbnail:o}}var yi={class:`sticky top-0 bg-gray-800 border-b border-gray-700 p-4 flex justify-between items-center gap-4`},bi={class:`flex items-center gap-4 flex-1`},xi={class:`flex-1`},Si={class:`flex items-center gap-2`},Ci={class:`text-xl font-bold text-blue-400`},wi={key:0,class:`text-yellow-400 mr-1`,title:`Unique drone`},Ti={key:1,class:`mr-1`,title:`Ancient/Royal`},Ei={key:2,class:`mr-1`,title:`Loot`},Di={key:3,class:`mr-1`,title:`Chaos`},Oi={class:`flex items-center gap-2`},ki={key:0,class:`flex items-center gap-1`},Ai={class:`px-2 text-sm text-gray-400`},ji={class:`p-6 space-y-6`},Mi={class:`text-sm text-gray-500 mb-2`},Ni={class:`text-sm text-gray-400 space-y-2`},Pi={key:0,class:`flex`},Fi={key:1,class:`flex`},Ii={key:0,class:`border-t border-gray-700 pt-4`},Li={class:`text-gray-400 whitespace-pre-line`},Ri={key:1,class:`border-t border-gray-700 pt-4`},zi={class:`text-gray-400 whitespace-pre-line`},Bi={key:2,class:`border-t border-gray-700 pt-4`},Vi={class:`grid grid-cols-2 gap-x-4 gap-y-2`},Hi={class:`font-semibold text-gray-400 w-40`},Ui={class:`text-gray-300`},Wi={key:3,class:`border-t border-gray-700 pt-4`},Gi={class:`space-y-4`},Ki={class:`text-blue-400 font-semibold text-lg mb-2`},qi={class:`text-xs text-gray-500 ml-2`},Ji={key:0,class:`text-gray-300 text-sm mb-3 pb-3 border-b border-gray-700`},Yi={class:`grid grid-cols-2 gap-x-6 gap-y-2 text-sm`},Xi={key:0,class:`flex items-center`},Zi={class:`text-gray-300`},Qi={key:1,class:`flex items-center`},$i={class:`text-red-400 font-mono`},ea={key:2,class:`flex items-center`},ta={class:`text-gray-300 font-mono`},na={key:3,class:`flex items-center`},ra={class:`text-yellow-400 font-mono`},ia={key:4,class:`flex items-center`},aa={class:`text-gray-300 font-mono`},oa={key:5,class:`flex items-center`},sa={class:`text-purple-400 font-mono`},ca={key:6,class:`flex items-center`},la={class:`text-orange-400 font-mono`},ua={key:7,class:`flex items-center`},da={class:`text-orange-400 font-mono`},fa={key:8,class:`flex items-center`},pa={class:`text-blue-400 font-mono`},ma={key:9,class:`flex items-center`},ha={class:`text-cyan-400 font-mono`},ga={key:4,class:`border-t border-gray-700 pt-4`},_a={class:`bg-gray-900 rounded-lg p-4 space-y-2`},va={class:`text-blue-400 font-semibold text-lg mb-2`},ya={key:0,class:`text-gray-300 text-sm mb-3 pb-3 border-b border-gray-700`},ba={class:`grid grid-cols-2 gap-x-6 gap-y-2 text-sm`},xa={key:0,class:`flex items-center`},Sa={class:`text-gray-300`},Ca={key:1,class:`flex items-center`},wa={class:`text-red-400 font-mono`},Ta={key:2,class:`flex items-center`},Ea={class:`text-gray-300 font-mono`},Da={key:3,class:`flex items-center`},Oa={class:`text-yellow-400 font-mono`},ka={key:4,class:`flex items-center`},Aa={class:`text-gray-300 font-mono`},ja={key:5,class:`flex items-center`},Ma={class:`text-purple-400 font-mono`},Na={key:6,class:`flex items-center`},Pa={class:`text-orange-400 font-mono`},Fa={key:7,class:`flex items-center`},Ia={class:`text-orange-400 font-mono`},La={key:8,class:`flex items-center`},Ra={class:`text-blue-400 font-mono`},za={key:5,class:`border-t border-gray-700 pt-4`},Ba={class:`grid grid-cols-2 gap-x-6 gap-y-2 text-sm`},Va={class:`flex items-center`},Ha={class:`text-gray-300 font-mono`},Ua={class:`flex items-center`},Wa={class:`text-gray-300 font-mono`},Ga={class:`flex items-center`},Ka={class:`flex items-center`},qa={class:`text-gray-300 font-mono`},Ja={class:`flex items-center`},Ya={class:`flex items-center`},Xa={class:`flex items-center`},Za={class:`flex items-center`},Qa={key:0,class:`mt-4`},$a={class:`list-disc list-inside text-gray-300 space-y-1`},eo={key:1},to={class:`border-t border-gray-700 pt-4`},no={class:`flex flex-wrap gap-2`},ro=xn({__name:`DroneDetailModal`,props:{drone:{type:Object,required:!0},show:{type:Boolean,default:!1},versions:{type:Array,default:()=>[]},currentIndex:{type:Number,default:0}},emits:[`close`,`navigate-sector`,`change-version`],setup(e,{emit:t}){let n=ee(),c=e,f=t,{getText:m}=dn(),{blueprintArrays:y}=ge(),{renderDroneThumbnail:S}=vi(),w=b(null),E=C(()=>c.drone?.droneBlueprint||{});l(()=>{w.value&&E.value&&S(E.value,w.value,200)}),s(()=>E.value,e=>{w.value&&e&&S(e,w.value,200)},{deep:!0});let D=C(()=>{if(!E.value.name)return null;let e=di[E.value.name];if(!e)return null;let t=e.crewBlueprint;return y.value?.crew?.find(e=>e.crewBlueprint?.name===t)?.crewBlueprint}),O=C(()=>{if(!E.value.weaponBlueprint)return null;let e=E.value.weaponBlueprint;return y.value?.weapons?.find(t=>t.weaponBlueprint?.name===e)?.weaponBlueprint}),M=C(()=>{if(E.value.name!==`COMBAT_RANDOM`)return null;let e=[`MISSILES_1`,`DRONE_LASER_COMBAT`,`DRONE_ION_AMP_1`,`DRONE_BEAM_COMBAT`],t=[];for(let n of e){let e=y.value?.weapons?.find(e=>e.weaponBlueprint?.name===n)?.weaponBlueprint;e&&t.push(e)}return t.length>0?t:null});function N(){f(`close`)}function P(e){f(`change-version`,e)}function F(e){return e===`sp`?`Shield Piercing`:e===`bp`?`Blueprint Rarity`:e.replace(/([A-Z])/g,` $1`).replace(/^./,e=>e.toUpperCase()).trim()}let I=C(()=>{let e=E.value.type,t=[],n=[`power`,`cost`,`bp`,`rarity`],r=[];switch(e){case`COMBAT`:case`BEAM`:r=[`cooldown`,`dodge`,`speed`,`image`,`droneImage`];break;case`DEFENSE`:r=[`cooldown`,`orbitalSpeed`,`dodge`,`shots`,`target`,`targetable`,`droneImage`];break;case`BATTLE`:r=[`locked`,`droneImage`];break;case`BOARDER`:r=[`speed`,`locked`,`droneImage`];break;case`REPAIR`:r=[`cooldown`,`speed`,`repairSpeed`,`locked`,`droneImage`];break;case`HACKING`:r=[`speed`,`time`,`locked`,`droneImage`];break;case`SHIELD`:r=[`number`,`droneImage`];break;default:r=Object.keys(E.value).filter(e=>![`name`,`type`,`title`,`short`,`desc`,`tip`,`tooltip`].includes(e)&&!n.includes(e))}let i=[...n,...r];for(let e of i)E.value[e]!==null&&E.value[e]!==void 0&&E.value[e]!==``&&t.push({key:e,label:F(e),value:E.value[e]});return t});function L(e,t){return t===`tip`||t===`tooltip`?Array.isArray(e)?e.map(e=>m(e)).join(`

`):m(e):typeof e==`object`?JSON.stringify(e,null,2):String(e)}return(t,s)=>(A(),_(T,{to:`body`},[j(te,{name:`modal`},{default:x(()=>[e.show?(A(),k(`div`,{key:0,class:`fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70`,onClick:N},[v(`div`,{class:`bg-gray-800 border border-gray-700 rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto`,onClick:s[3]||=h(()=>{},[`stop`])},[v(`div`,yi,[v(`div`,bi,[v(`canvas`,{ref_key:`droneCanvas`,ref:w,width:`200`,height:`200`,class:`drone-modal-image flex-shrink-0`,style:{"image-rendering":`pixelated`}},null,512),v(`div`,xi,[v(`div`,Si,[v(`h2`,Ci,[E.value.name?.startsWith(`A55_`)?(A(),k(`span`,wi,`⭐`)):d(``,!0),E.value.name?.includes(`ANCIENT`)||E.value.name?.includes(`ROYAL`)||E.value.title?.toUpperCase().includes(`ANCIENT`)||E.value.title?.toUpperCase().includes(`ROYAL`)?(A(),k(`span`,Ti,`🗿`)):d(``,!0),E.value.name?.startsWith(`LOOT_`)?(A(),k(`span`,Ei,`💰`)):d(``,!0),E.value.name?.includes(`CHAOS`)?(A(),k(`span`,Di,`🤯`)):d(``,!0),p(` `+i(E.value.title||E.value.name),1)]),v(`button`,{onClick:s[0]||=e=>a(n).push({path:`/blueprints`,query:{id:E.value.name,tab:`drones`}}),class:`text-gray-400 hover:text-blue-400 transition-colors p-2`,title:`Open in Blueprints page`},[...s[4]||=[v(`svg`,{xmlns:`http://www.w3.org/2000/svg`,class:`h-5 w-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[v(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1`})],-1)]])])])]),v(`div`,Oi,[e.versions.length>1?(A(),k(`div`,ki,[v(`button`,{onClick:s[1]||=e=>P(-1),class:`px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-sm transition-colors`,title:`Previous version`},` ‹ `),v(`span`,Ai,i(e.currentIndex+1)+`/`+i(e.versions.length),1),v(`button`,{onClick:s[2]||=e=>P(1),class:`px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-sm transition-colors`,title:`Next version`},` › `)])):d(``,!0),v(`button`,{onClick:N,class:`text-gray-400 hover:text-white text-2xl leading-none`},` × `)])]),v(`div`,ji,[v(`div`,null,[v(`div`,Mi,i(E.value.name),1),v(`div`,Ni,[E.value.type?(A(),k(`div`,Pi,[s[5]||=v(`span`,{class:`font-semibold text-gray-300 w-32`},`Type:`,-1),v(`span`,null,i(E.value.type),1)])):d(``,!0),E.value.short?(A(),k(`div`,Fi,[s[6]||=v(`span`,{class:`font-semibold text-gray-300 w-32`},`Short Name:`,-1),v(`span`,null,i(E.value.short),1)])):d(``,!0)])]),E.value.desc?(A(),k(`div`,Ii,[s[7]||=v(`h3`,{class:`text-lg font-semibold text-gray-300 mb-2`},`Description`,-1),v(`p`,Li,i(E.value.desc),1)])):d(``,!0),E.value.tooltip||E.value.tip?(A(),k(`div`,Ri,[s[8]||=v(`h3`,{class:`text-lg font-semibold text-gray-300 mb-2`},`Details`,-1),v(`p`,zi,i(L(E.value.tooltip||E.value.tip,`tooltip`)),1)])):d(``,!0),I.value.length>0?(A(),k(`div`,Bi,[s[9]||=v(`h3`,{class:`text-lg font-semibold text-gray-300 mb-3`},`Properties`,-1),v(`div`,Vi,[(A(!0),k(g,null,u(I.value,e=>(A(),k(`div`,{key:e.key,class:`flex`},[v(`span`,Hi,i(e.label)+`:`,1),v(`span`,Ui,i(L(e.value,e.key)),1)]))),128))])])):d(``,!0),M.value?(A(),k(`div`,Wi,[s[20]||=v(`h3`,{class:`text-lg font-semibold text-gray-300 mb-3`},`Random Weapon Pool`,-1),s[21]||=v(`p`,{class:`text-sm text-gray-400 mb-3`},[p(` This drone randomly fires one of the following weapons on each shot. `),v(`span`,{class:`text-gray-500 italic`},`(Hardcoded special case - data extracted from wonderdrone.lua script)`)],-1),v(`div`,Gi,[(A(!0),k(g,null,u(M.value,(e,t)=>(A(),k(`div`,{key:t,class:`bg-gray-900 rounded-lg p-4 space-y-2`},[v(`div`,Ki,[p(i(e.title||e.name)+` `,1),v(`span`,qi,`(`+i(e.name)+`)`,1)]),e.desc?(A(),k(`div`,Ji,i(e.desc),1)):d(``,!0),v(`div`,Yi,[e.type?(A(),k(`div`,Xi,[s[10]||=v(`span`,{class:`text-gray-400 w-32`},`Type:`,-1),v(`span`,Zi,i(e.type),1)])):d(``,!0),e.damage?(A(),k(`div`,Qi,[s[11]||=v(`span`,{class:`text-gray-400 w-32`},`Damage:`,-1),v(`span`,$i,i(e.damage),1)])):d(``,!0),e.cooldown?(A(),k(`div`,ea,[s[12]||=v(`span`,{class:`text-gray-400 w-32`},`Cooldown:`,-1),v(`span`,ta,i(e.cooldown),1)])):d(``,!0),e.power?(A(),k(`div`,na,[s[13]||=v(`span`,{class:`text-gray-400 w-32`},`Power:`,-1),v(`span`,ra,i(e.power),1)])):d(``,!0),e.shots?(A(),k(`div`,ia,[s[14]||=v(`span`,{class:`text-gray-400 w-32`},`Shots:`,-1),v(`span`,aa,i(e.shots),1)])):d(``,!0),e.sp?(A(),k(`div`,oa,[s[15]||=v(`span`,{class:`text-gray-400 w-32`},`Shield Piercing:`,-1),v(`span`,sa,i(e.sp),1)])):d(``,!0),e.fireChance?(A(),k(`div`,ca,[s[16]||=v(`span`,{class:`text-gray-400 w-32`},`Fire Chance:`,-1),v(`span`,la,i(e.fireChance),1)])):d(``,!0),e.breachChance?(A(),k(`div`,ua,[s[17]||=v(`span`,{class:`text-gray-400 w-32`},`Breach Chance:`,-1),v(`span`,da,i(e.breachChance),1)])):d(``,!0),e.stunChance?(A(),k(`div`,fa,[s[18]||=v(`span`,{class:`text-gray-400 w-32`},`Stun Chance:`,-1),v(`span`,pa,i(e.stunChance),1)])):d(``,!0),e.ion?(A(),k(`div`,ma,[s[19]||=v(`span`,{class:`text-gray-400 w-32`},`Ion Damage:`,-1),v(`span`,ha,i(e.ion),1)])):d(``,!0)])]))),128))])])):O.value?(A(),k(`div`,ga,[s[31]||=v(`h3`,{class:`text-lg font-semibold text-gray-300 mb-3`},`Weapon Details`,-1),s[32]||=v(`p`,{class:`text-sm text-gray-400 mb-3`},`This drone uses the following weapon when attacking.`,-1),v(`div`,_a,[v(`div`,va,i(O.value.title||O.value.name),1),O.value.desc?(A(),k(`div`,ya,i(O.value.desc),1)):d(``,!0),v(`div`,ba,[O.value.type?(A(),k(`div`,xa,[s[22]||=v(`span`,{class:`text-gray-400 w-32`},`Type:`,-1),v(`span`,Sa,i(O.value.type),1)])):d(``,!0),O.value.damage?(A(),k(`div`,Ca,[s[23]||=v(`span`,{class:`text-gray-400 w-32`},`Damage:`,-1),v(`span`,wa,i(O.value.damage),1)])):d(``,!0),O.value.cooldown?(A(),k(`div`,Ta,[s[24]||=v(`span`,{class:`text-gray-400 w-32`},`Cooldown:`,-1),v(`span`,Ea,i(O.value.cooldown),1)])):d(``,!0),O.value.power?(A(),k(`div`,Da,[s[25]||=v(`span`,{class:`text-gray-400 w-32`},`Power:`,-1),v(`span`,Oa,i(O.value.power),1)])):d(``,!0),O.value.shots?(A(),k(`div`,ka,[s[26]||=v(`span`,{class:`text-gray-400 w-32`},`Shots:`,-1),v(`span`,Aa,i(O.value.shots),1)])):d(``,!0),O.value.sp?(A(),k(`div`,ja,[s[27]||=v(`span`,{class:`text-gray-400 w-32`},`Shield Piercing:`,-1),v(`span`,Ma,i(O.value.sp),1)])):d(``,!0),O.value.fireChance?(A(),k(`div`,Na,[s[28]||=v(`span`,{class:`text-gray-400 w-32`},`Fire Chance:`,-1),v(`span`,Pa,i(O.value.fireChance),1)])):d(``,!0),O.value.breachChance?(A(),k(`div`,Fa,[s[29]||=v(`span`,{class:`text-gray-400 w-32`},`Breach Chance:`,-1),v(`span`,Ia,i(O.value.breachChance),1)])):d(``,!0),O.value.stunChance?(A(),k(`div`,La,[s[30]||=v(`span`,{class:`text-gray-400 w-32`},`Stun Chance:`,-1),v(`span`,Ra,i(O.value.stunChance),1)])):d(``,!0)])])])):d(``,!0),D.value?(A(),k(`div`,za,[s[42]||=v(`h3`,{class:`text-lg font-semibold text-gray-300 mb-3`},`Crew Mode Statistics`,-1),s[43]||=v(`p`,{class:`text-sm text-gray-400 mb-3`},`This drone can function as a crew member when activated.`,-1),v(`div`,Ba,[v(`div`,Va,[s[33]||=v(`span`,{class:`text-gray-400 w-40`},`Max Health:`,-1),v(`span`,Ha,i(D.value.race?.maxHealth||`N/A`),1)]),v(`div`,Ua,[s[34]||=v(`span`,{class:`text-gray-400 w-40`},`Damage Multiplier:`,-1),v(`span`,Wa,i(D.value.race?.damageMultiplier||`N/A`),1)]),v(`div`,Ga,[s[35]||=v(`span`,{class:`text-gray-400 w-40`},`Can Fight:`,-1),v(`span`,{class:o(D.value.race?.canFight===`true`||D.value.race?.canFight===!0?`text-green-400`:`text-red-400`)},i(D.value.race?.canFight===`true`||D.value.race?.canFight===!0?`Yes`:`No`),3)]),v(`div`,Ka,[s[36]||=v(`span`,{class:`text-gray-400 w-40`},`Bonus Power:`,-1),v(`span`,qa,i(D.value.race?.bonusPower||`N/A`),1)]),v(`div`,Ja,[s[37]||=v(`span`,{class:`text-gray-400 w-40`},`Can Repair:`,-1),v(`span`,{class:o(D.value.race?.canRepair===`true`||D.value.race?.canRepair===!0?`text-green-400`:`text-red-400`)},i(D.value.race?.canRepair===`true`||D.value.race?.canRepair===!0?`Yes`:`No`),3)]),v(`div`,Ya,[s[38]||=v(`span`,{class:`text-gray-400 w-40`},`Can Man:`,-1),v(`span`,{class:o(D.value.race?.canMan===`true`||D.value.race?.canMan===!0?`text-green-400`:`text-red-400`)},i(D.value.race?.canMan===`true`||D.value.race?.canMan===!0?`Yes`:`No`),3)]),v(`div`,Xa,[s[39]||=v(`span`,{class:`text-gray-400 w-40`},`Can Suffocate:`,-1),v(`span`,{class:o(D.value.race?.canSuffocate===`true`||D.value.race?.canSuffocate===!0?`text-red-400`:`text-green-400`)},i(D.value.race?.canSuffocate===`true`||D.value.race?.canSuffocate===!0?`Yes`:`No`),3)]),v(`div`,Za,[s[40]||=v(`span`,{class:`text-gray-400 w-40`},`Telepathic:`,-1),v(`span`,{class:o(D.value.race?.telepathic===`true`||D.value.race?.telepathic===!0?`text-green-400`:`text-gray-400`)},i(D.value.race?.telepathic===`true`||D.value.race?.telepathic===!0?`Yes`:`No`),3)])]),D.value.powerList?(A(),k(`div`,Qa,[s[41]||=v(`h4`,{class:`text-sm font-semibold text-gray-400 mb-2`},`Special Abilities:`,-1),v(`ul`,$a,[Array.isArray(D.value.powerList.power)?(A(!0),k(g,{key:0},u(D.value.powerList.power,(e,t)=>(A(),k(`li`,{key:t},i(e),1))),128)):(A(),k(`li`,eo,i(D.value.powerList.power),1))])])):d(``,!0)])):d(``,!0),v(`div`,to,[s[44]||=v(`h3`,{class:`text-lg font-semibold text-gray-300 mb-3`},`Found in Sectors`,-1),v(`div`,no,[r(t.$slots,`sectors`,{},void 0,!0)])])])])])):d(``,!0)]),_:3})]))}},[[`__scopeId`,`data-v-26e7885e`]]),io={class:`modal-content augment-modal`},ao={class:`modal-header`},oo={class:`flex items-center gap-2`},so={class:`augment-id`},co={class:`modal-body`},lo={key:0,class:`stats-section`},uo={class:`stats-grid`},fo={key:0,class:`stat-item`},po={class:`stat-value cost`},mo={key:1,class:`stat-item`},ho={class:`stat-value`},go={key:2,class:`stat-item`},_o={class:`stat-value`},vo={key:1,class:`desc-section`},yo={class:`augment-desc`},bo={key:2,class:`tooltip-section`},xo={class:`augment-tooltip`},So={class:`sectors-section`},Co=xn({__name:`AugmentDetailModal`,props:{augment:{type:Object,required:!0},show:{type:Boolean,default:!1}},emits:[`close`,`navigateSector`],setup(e,{emit:t}){let n=ee(),o=e,s=t,c=C(()=>o.augment?.augBlueprint||{});function l(){s(`close`)}return(t,o)=>(A(),_(T,{to:`body`},[e.show?(A(),k(`div`,{key:0,class:`modal-overlay`,onClick:h(l,[`self`])},[v(`div`,io,[v(`button`,{class:`close-btn`,onClick:l,title:`Close (Esc)`},`×`),v(`div`,ao,[v(`div`,oo,[v(`div`,null,[v(`h2`,null,i(c.value.title||c.value.name),1),v(`span`,so,i(c.value.name),1)]),v(`button`,{onClick:o[0]||=e=>a(n).push({path:`/blueprints`,query:{id:c.value.name,tab:`augments`}}),class:`text-gray-400 hover:text-blue-400 transition-colors p-2`,title:`Open in Blueprints page`},[...o[1]||=[v(`svg`,{xmlns:`http://www.w3.org/2000/svg`,class:`h-5 w-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[v(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1`})],-1)]])])]),v(`div`,co,[c.value.cost||c.value.rarity||c.value.value?(A(),k(`div`,lo,[o[5]||=v(`h3`,null,`Stats`,-1),v(`div`,uo,[c.value.cost?(A(),k(`div`,fo,[o[2]||=v(`span`,{class:`stat-label`},`Cost`,-1),v(`span`,po,i(c.value.cost),1)])):d(``,!0),c.value.rarity?(A(),k(`div`,mo,[o[3]||=v(`span`,{class:`stat-label`},`Rarity`,-1),v(`span`,ho,i(c.value.rarity),1)])):d(``,!0),c.value.value?(A(),k(`div`,go,[o[4]||=v(`span`,{class:`stat-label`},`Sell Value`,-1),v(`span`,_o,i(c.value.value),1)])):d(``,!0)])])):d(``,!0),c.value.desc?(A(),k(`div`,vo,[o[6]||=v(`h3`,null,`Description`,-1),v(`p`,yo,i(typeof c.value.desc==`string`?c.value.desc:c.value.desc.text),1)])):d(``,!0),c.value.tooltip?(A(),k(`div`,bo,[o[7]||=v(`h3`,null,`Additional Info`,-1),v(`p`,xo,i(typeof c.value.tooltip==`string`?c.value.tooltip:c.value.tooltip.text),1)])):d(``,!0),v(`div`,So,[o[9]||=v(`h3`,null,`Found In`,-1),r(t.$slots,`sectors`,{},()=>[o[8]||=v(`p`,{class:`text-gray-400 text-sm italic`},`No sector information available`,-1)],!0)])])])])):d(``,!0)]))}},[[`__scopeId`,`data-v-be883d3e`]]),wo={class:`modal-content ship-modal`},To={class:`modal-header`},Eo={class:`flex items-center gap-2`},Do={class:`ship-id`},Oo={class:`modal-body`},ko={class:`layout-section`},Ao={class:`layout-image-container`},jo=[`src`,`alt`],Mo={key:1,class:`layout-placeholder`},No={class:`stats-section`},Po={class:`stats-grid`},Fo={key:0,class:`stat-item`},Io={class:`stat-value`},Lo={key:1,class:`stat-item`},Ro={class:`stat-value`},zo={key:2,class:`stat-item`},Bo={class:`stat-value`},Vo={key:3,class:`stat-item`},Ho={class:`stat-value`},Uo={key:4,class:`stat-item`},Wo={class:`stat-value`},Go={key:5,class:`stat-item`},Ko={class:`stat-value`},qo={key:6,class:`stat-item`},Jo={class:`stat-value`},Yo={key:7,class:`stat-item`},Xo={class:`stat-value`},Zo={key:8,class:`stat-item`},Qo={class:`stat-value`},$o={key:0,class:`systems-section`},es={class:`systems-grid`},ts=[`onClick`],ns={class:`system-name`},rs={class:`system-power`},is={class:`power-current`},as={class:`power-max`},os={key:1,class:`systems-section`},ss={class:`systems-grid`},cs=[`onClick`],ls={class:`system-name`},us={class:`system-power`},ds={class:`power-max`},fs={key:2,class:`crew-section`},ps={class:`crew-list`},ms=[`onClick`,`title`],hs={class:`crew-amount`},gs={class:`crew-class`},_s={key:3,class:`loadout-section`},vs={class:`loadout-info`},ys={class:`loadout-stat`},bs={class:`loadout-value`},xs={key:0,class:`loadout-stat`},Ss={class:`loadout-value`},Cs={key:1,class:`loadout-stat`},ws=[`title`],Ts={key:4,class:`weapons-section`},Es={class:`weapon-list`},Ds=[`onClick`,`title`],Os={key:5,class:`loadout-section`},ks={class:`loadout-info`},As={class:`loadout-stat`},js={class:`loadout-value`},Ms={key:0,class:`loadout-stat`},Ns={class:`loadout-value`},Ps={key:1,class:`loadout-stat`},Fs=[`title`],Is={key:6,class:`drones-section`},Ls={class:`drone-list`},Rs=[`onClick`,`title`],zs={key:7,class:`augments-section`},Bs={class:`augment-list`},Vs=[`title`,`onClick`],Hs={key:8,class:`desc-section`},Us={class:`ship-desc`},Ws=xn({__name:`ShipDetailModal`,props:{ship:{type:Object,required:!0},show:{type:Boolean,default:!1},blueprintArrays:{type:Object,default:()=>({})}},emits:[`close`,`openCrew`,`openWeapon`,`openDrone`,`openAugment`,`openSystem`],setup(e,{emit:t}){let n=ee(),r=e,o=t,c=b(!1),f=b(!1),p=b(null),m=b([]),y=C(()=>r.ship?.shipBlueprint||{});l(async()=>{try{m.value=await(await fetch(`/data/all_blueprintLists.json`)).json()}catch(e){console.error(`Failed to load blueprint lists:`,e)}}),s(()=>y.value,()=>{c.value=!1},{deep:!0});function x(){o(`close`)}function S(e){o(`openSystem`,e)}function w(e){let t=m.value.find(t=>t.name===e);t&&(p.value=t,f.value=!0)}function E(e){let t=`weapons`;e.includes(`DRONE`)||e.includes(`_DRONE`)?t=`drones`:e.includes(`CREW`)||e.startsWith(`unique_`)?t=`crew`:(e.includes(`AUG`)||e.includes(`AUGMENT`))&&(t=`augments`),n.push({path:`/blueprints`,query:{id:e,tab:t}}),f.value=!1}let te=C(()=>y.value.name?`/img/ship_layouts/${y.value.name}.png`:null),D=C(()=>{let e=[],t=y.value.systemList||{};for(let[n,r]of Object.entries(t))r&&r.start===`true`&&e.push({name:n,power:r.power||`0`,max:r.max||`0`,room:r.room});return e.sort((e,t)=>parseInt(t.power)-parseInt(e.power))}),O=C(()=>{let e=[],t=y.value.systemList||{};for(let[n,r]of Object.entries(t))r&&r.start===`false`&&e.push({name:n,power:r.power||`0`,max:r.max||`0`,room:r.room});return e.sort((e,t)=>e.name.localeCompare(t.name))}),j=C(()=>{let e=y.value.crewCount;return e?(Array.isArray(e)?e:[e]).map(e=>({class:e.class||`unknown`,amount:e.amount||`1`,max:e.max})):[]}),M=C(()=>{let e=y.value.weaponList;return e?{slots:y.value.weaponSlots||`0`,missiles:e.missiles||`0`,count:e.count||`0`,load:e.load,weapons:e.weapon?Array.isArray(e.weapon)?e.weapon:[e.weapon]:[]}:null}),N=C(()=>{let e=y.value.droneList;return e?{slots:y.value.droneSlots||`0`,drones:e.drones||`0`,count:e.count||`0`,load:e.load,droneItems:e.drone?Array.isArray(e.drone)?e.drone:[e.drone]:[]}:null}),P=C(()=>{let e=y.value.aug;return e?(Array.isArray(e)?e:[e]).map(e=>e.name||e):[]});function F(e){return{pilot:`Piloting`,engines:`Engines`,shields:`Shields`,weapons:`Weapons`,medbay:`Medbay`,clonebay:`Clone Bay`,oxygen:`Oxygen`,teleporter:`Teleporter`,cloaking:`Cloaking`,artillery:`Artillery`,drones:`Drone Control`,hacking:`Hacking`,mind:`Mind Control`,battery:`Backup Battery`,doors:`Doors`,sensors:`Sensors`,temporal:`Temporal`}[e]||e.charAt(0).toUpperCase()+e.slice(1)}function I(e){let t=r.blueprintArrays.crew?.find(t=>t?.crewBlueprint?.name===e)?.crewBlueprint;return t?.title?t.title:e.replace(/_/g,` `).split(` `).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(` `)}function L(e){return r.blueprintArrays.weapons?.find(t=>t?.weaponBlueprint?.name===e)?.weaponBlueprint?.title||e.replace(/_/g,` `)}function R(e){return r.blueprintArrays.drones?.find(t=>t?.droneBlueprint?.name===e)?.droneBlueprint?.title||e.replace(/_/g,` `)}function z(e){return r.blueprintArrays.augments?.find(t=>t?.augBlueprint?.name===e)?.augBlueprint?.title||e.replace(/_/g,` `)}function B(e){o(`openCrew`,e)}function V(e){o(`openWeapon`,e)}function H(e){o(`openDrone`,e)}return(t,r)=>(A(),_(T,{to:`body`},[e.show?(A(),k(`div`,{key:0,class:`modal-overlay`,onClick:h(x,[`self`])},[v(`div`,wo,[v(`button`,{class:`close-btn`,onClick:x,title:`Close (Esc)`},`×`),v(`div`,To,[v(`div`,Eo,[v(`div`,null,[v(`h2`,null,i(y.value.class||y.value.name),1),v(`span`,Do,i(y.value.name),1)]),v(`button`,{onClick:r[0]||=e=>a(n).push({path:`/blueprints`,query:{id:y.value._id||y.value.name,tab:`ships`}}),class:`text-gray-400 hover:text-blue-400 transition-colors p-2`,title:`Open in Blueprints page`},[...r[6]||=[v(`svg`,{xmlns:`http://www.w3.org/2000/svg`,class:`h-5 w-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[v(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1`})],-1)]])])]),v(`div`,Oo,[v(`div`,ko,[r[8]||=v(`h3`,null,`Ship Layout`,-1),v(`div`,Ao,[te.value&&!c.value?(A(),k(`img`,{key:0,src:te.value,alt:y.value.name+` layout`,class:`layout-image`,onError:r[1]||=e=>c.value=!0},null,40,jo)):(A(),k(`div`,Mo,[...r[7]||=[v(`span`,null,`Layout image not available`,-1)]]))])]),v(`div`,No,[r[18]||=v(`h3`,null,`Ship Stats`,-1),v(`div`,Po,[y.value.health?.amount?(A(),k(`div`,Fo,[r[9]||=v(`span`,{class:`stat-label`},`Hull`,-1),v(`span`,Io,i(y.value.health.amount),1)])):d(``,!0),y.value.maxPower?.amount?(A(),k(`div`,Lo,[r[10]||=v(`span`,{class:`stat-label`},`Reactor`,-1),v(`span`,Ro,i(y.value.maxPower.amount),1)])):d(``,!0),M.value?(A(),k(`div`,zo,[r[11]||=v(`span`,{class:`stat-label`},`Weapon Slots`,-1),v(`span`,Bo,i(M.value.slots),1)])):d(``,!0),N.value?(A(),k(`div`,Vo,[r[12]||=v(`span`,{class:`stat-label`},`Drone Slots`,-1),v(`span`,Ho,i(N.value.slots),1)])):d(``,!0),M.value?.missiles===`0`?d(``,!0):(A(),k(`div`,Uo,[r[13]||=v(`span`,{class:`stat-label`},`Missiles`,-1),v(`span`,Wo,i(M.value.missiles),1)])),N.value?.drones===`0`?d(``,!0):(A(),k(`div`,Go,[r[14]||=v(`span`,{class:`stat-label`},`Drone Parts`,-1),v(`span`,Ko,i(N.value.drones),1)])),y.value.maxSector?(A(),k(`div`,qo,[r[15]||=v(`span`,{class:`stat-label`},`Max Sector`,-1),v(`span`,Jo,i(y.value.maxSector),1)])):d(``,!0),y.value.minSector?(A(),k(`div`,Yo,[r[16]||=v(`span`,{class:`stat-label`},`Min Sector`,-1),v(`span`,Xo,i(y.value.minSector),1)])):d(``,!0),y.value.boardingAI?(A(),k(`div`,Zo,[r[17]||=v(`span`,{class:`stat-label`},`Boarding AI`,-1),v(`span`,Qo,i(y.value.boardingAI),1)])):d(``,!0)])]),D.value.length>0?(A(),k(`div`,$o,[r[20]||=v(`h3`,null,`Starting Systems`,-1),v(`div`,es,[(A(!0),k(g,null,u(D.value,e=>(A(),k(`div`,{key:e.name,class:`system-item active clickable`,onClick:t=>S(e.name)},[v(`span`,ns,i(F(e.name)),1),v(`span`,rs,[v(`span`,is,i(e.power),1),r[19]||=v(`span`,{class:`power-separator`},`/`,-1),v(`span`,as,i(e.max),1)])],8,ts))),128))])])):d(``,!0),O.value.length>0?(A(),k(`div`,os,[r[21]||=v(`h3`,null,`Available Systems (Not Installed)`,-1),v(`div`,ss,[(A(!0),k(g,null,u(O.value,e=>(A(),k(`div`,{key:e.name,class:`system-item inactive clickable`,onClick:t=>S(e.name)},[v(`span`,ls,i(F(e.name)),1),v(`span`,us,[v(`span`,ds,i(e.max),1)])],8,cs))),128))])])):d(``,!0),j.value.length>0?(A(),k(`div`,fs,[r[22]||=v(`h3`,null,`Starting Crew`,-1),v(`div`,ps,[(A(!0),k(g,null,u(j.value,(e,t)=>(A(),k(`button`,{key:t,class:`crew-item clickable`,onClick:t=>B(e.class),title:`View `+I(e.class)+` details`},[v(`span`,hs,i(e.max?`${e.amount}-${e.max}x`:`${e.amount}x`),1),v(`span`,gs,i(I(e.class)),1)],8,ms))),128))])])):d(``,!0),M.value?(A(),k(`div`,_s,[r[26]||=v(`h3`,null,`Weapon Loadout`,-1),v(`div`,vs,[v(`div`,ys,[r[23]||=v(`span`,{class:`loadout-label`},`Weapon Slots:`,-1),v(`span`,bs,i(M.value.slots),1)]),M.value.missiles===`0`?d(``,!0):(A(),k(`div`,xs,[r[24]||=v(`span`,{class:`loadout-label`},`Starting Missiles:`,-1),v(`span`,Ss,i(M.value.missiles),1)])),M.value.load?(A(),k(`div`,Cs,[r[25]||=v(`span`,{class:`loadout-label`},`Random Weapons:`,-1),v(`button`,{class:`loadout-list-link`,onClick:r[2]||=e=>w(M.value.load),title:`View possible weapons from `+M.value.load},i(M.value.count)+` from `+i(M.value.load),9,ws)])):d(``,!0)])])):d(``,!0),M.value?.weapons?.length>0?(A(),k(`div`,Ts,[r[27]||=v(`h3`,null,`Starting Weapons`,-1),v(`div`,Es,[(A(!0),k(g,null,u(M.value.weapons,(e,t)=>(A(),k(`button`,{key:t,class:`weapon-item clickable`,onClick:t=>V(e.name),title:e.name},i(L(e.name)),9,Ds))),128))])])):d(``,!0),N.value&&(N.value.slots!==`0`||N.value.load)?(A(),k(`div`,Os,[r[31]||=v(`h3`,null,`Drone Loadout`,-1),v(`div`,ks,[v(`div`,As,[r[28]||=v(`span`,{class:`loadout-label`},`Drone Slots:`,-1),v(`span`,js,i(N.value.slots),1)]),N.value.drones===`0`?d(``,!0):(A(),k(`div`,Ms,[r[29]||=v(`span`,{class:`loadout-label`},`Starting Drone Parts:`,-1),v(`span`,Ns,i(N.value.drones),1)])),N.value.load?(A(),k(`div`,Ps,[r[30]||=v(`span`,{class:`loadout-label`},`Random Drones:`,-1),v(`button`,{class:`loadout-list-link`,onClick:r[3]||=e=>w(N.value.load),title:`View possible drones from `+N.value.load},i(N.value.count)+` from `+i(N.value.load),9,Fs)])):d(``,!0)])])):d(``,!0),N.value?.droneItems?.length>0?(A(),k(`div`,Is,[r[32]||=v(`h3`,null,`Starting Drones`,-1),v(`div`,Ls,[(A(!0),k(g,null,u(N.value.droneItems,(e,t)=>(A(),k(`button`,{key:t,class:`drone-item clickable`,onClick:t=>H(e.name),title:e.name},i(R(e.name)),9,Rs))),128))])])):d(``,!0),P.value.length>0?(A(),k(`div`,zs,[r[33]||=v(`h3`,null,`Starting Augments`,-1),v(`div`,Bs,[(A(!0),k(g,null,u(P.value,(e,t)=>(A(),k(`button`,{key:t,class:`augment-item augment-button`,title:e,onClick:t=>o(`openAugment`,e)},i(z(e)),9,Vs))),128))])])):d(``,!0),y.value.desc?(A(),k(`div`,Hs,[r[34]||=v(`h3`,null,`Description`,-1),v(`p`,Us,i(y.value.desc),1)])):d(``,!0)])])])):d(``,!0),f.value&&p.value?(A(),_(Ue,{key:1,"list-name":p.value.name,"list-data":p.value,"blueprint-arrays":e.blueprintArrays,onClose:r[4]||=e=>f.value=!1,onNavigate:E,onOpenWeapon:V,onOpenDrone:H,onOpenAugment:r[5]||=e=>o(`openAugment`,e),onOpenCrew:B},null,8,[`list-name`,`list-data`,`blueprint-arrays`])):d(``,!0)]))}},[[`__scopeId`,`data-v-f9dcecd9`]]),Gs={class:`modal-content system-modal`},Ks={class:`modal-header`},qs={class:`flex items-center gap-2`},Js={class:`system-id`},Ys={class:`modal-body`},Xs={key:0,class:`desc-section`},Zs={class:`system-desc`},Qs={class:`stats-section`},$s={class:`stats-grid`},ec={key:0,class:`stat-item`},tc={class:`stat-value cost`},nc={key:1,class:`stat-item`},rc={class:`stat-value`},ic={key:2,class:`stat-item`},ac={class:`stat-value`},oc={key:3,class:`stat-item`},sc={class:`stat-value`},cc={key:4,class:`stat-item`},lc={class:`stat-value cost`},uc={key:1,class:`upgrade-section`},dc={class:`upgrade-grid`},fc={class:`upgrade-label`},pc={class:`upgrade-value cost`},mc=xn({__name:`SystemDetailModal`,props:{system:{type:Object,required:!0},show:{type:Boolean,default:!1}},emits:[`close`],setup(e,{emit:t}){let n=ee(),r=e,o=t,s=C(()=>r.system?.systemBlueprint||{});function c(){o(`close`)}let l=C(()=>!s.value.upgradeCost?.level||!Array.isArray(s.value.upgradeCost.level)?null:s.value.upgradeCost.level.reduce((e,t)=>e+parseInt(t||0),0));return(t,r)=>(A(),_(T,{to:`body`},[e.show?(A(),k(`div`,{key:0,class:`modal-overlay`,onClick:h(c,[`self`])},[v(`div`,Gs,[v(`button`,{class:`close-btn`,onClick:c,title:`Close (Esc)`},`×`),v(`div`,Ks,[v(`div`,qs,[v(`div`,null,[v(`h2`,null,i(s.value.title||s.value.name),1),v(`span`,Js,i(s.value.name),1)]),v(`button`,{onClick:r[0]||=e=>a(n).push({path:`/blueprints`,query:{id:s.value.name,tab:`systems`}}),class:`text-gray-400 hover:text-blue-400 transition-colors p-2`,title:`Open in Blueprints page`},[...r[1]||=[v(`svg`,{xmlns:`http://www.w3.org/2000/svg`,class:`h-5 w-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[v(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1`})],-1)]])])]),v(`div`,Ys,[s.value.desc?(A(),k(`div`,Xs,[r[2]||=v(`h3`,null,`Description`,-1),v(`p`,Zs,i(typeof s.value.desc==`string`?s.value.desc:s.value.desc.text),1)])):d(``,!0),v(`div`,Qs,[r[8]||=v(`h3`,null,`Stats`,-1),v(`div`,$s,[s.value.cost?(A(),k(`div`,ec,[r[3]||=v(`span`,{class:`stat-label`},`Initial Cost`,-1),v(`span`,tc,i(s.value.cost),1)])):d(``,!0),s.value.rarity?(A(),k(`div`,nc,[r[4]||=v(`span`,{class:`stat-label`},`Rarity`,-1),v(`span`,rc,i(s.value.rarity),1)])):d(``,!0),s.value.startPower?(A(),k(`div`,ic,[r[5]||=v(`span`,{class:`stat-label`},`Starting Power`,-1),v(`span`,ac,i(s.value.startPower),1)])):d(``,!0),s.value.maxPower?(A(),k(`div`,oc,[r[6]||=v(`span`,{class:`stat-label`},`Max Power`,-1),v(`span`,sc,i(s.value.maxPower),1)])):d(``,!0),l.value?(A(),k(`div`,cc,[r[7]||=v(`span`,{class:`stat-label`},`Total Upgrade Cost`,-1),v(`span`,lc,i(l.value),1)])):d(``,!0)])]),s.value.upgradeCost?.level&&Array.isArray(s.value.upgradeCost.level)?(A(),k(`div`,uc,[r[9]||=v(`h3`,null,`Upgrade Costs`,-1),v(`div`,dc,[(A(!0),k(g,null,u(s.value.upgradeCost.level,(e,t)=>(A(),k(`div`,{key:t,class:`upgrade-item`},[v(`span`,fc,`Level `+i(t+1),1),v(`span`,pc,i(e),1)]))),128))])])):d(``,!0)])])])):d(``,!0)]))}},[[`__scopeId`,`data-v-8684974e`]]),hc={key:2,class:`space-y-6`},gc={class:`space-y-4`},_c={class:`bg-gray-800 rounded-lg p-4 border border-gray-700`},vc={class:`text-gray-300`},yc={class:`font-bold text-blue-400`},bc={class:`space-y-2`},xc=[`onClick`],Sc={class:`flex items-center gap-3`},Cc={class:`font-bold text-blue-400`},wc={class:`text-sm text-gray-400 flex gap-4`},Tc={key:0},Ec={key:1},Dc={key:2},Oc={key:3},kc={key:0,class:`bg-gray-800/50 p-4 space-y-3`},Ac={class:`text-xs text-gray-500 mb-2`},jc={key:0,class:`space-y-1`},Mc={class:`text-sm font-semibold text-gray-300`},Nc={class:`flex flex-wrap gap-2`},Pc=[`onClick`],Fc={key:0,class:`text-yellow-400 mr-1`,title:`Unique crew`},Ic={key:1,class:`space-y-1`},Lc={class:`text-sm font-semibold text-gray-300`},Rc={class:`flex flex-wrap gap-2`},zc=[`onClick`],Bc={key:0,class:`text-yellow-400 mr-1`,title:`Unique weapon`},Vc={key:2,class:`space-y-1`},Hc={class:`text-sm font-semibold text-gray-300`},Uc={class:`flex flex-wrap gap-2`},Wc=[`onClick`],Gc={key:0,class:`text-yellow-400 mr-1`,title:`Unique augment`},Kc={key:3,class:`space-y-1`},qc={class:`text-sm font-semibold text-gray-300`},Jc={class:`flex flex-wrap gap-2`},Yc=[`onClick`],Xc={key:0,class:`text-yellow-400 mr-1`,title:`Unique drone`},Zc={key:4,class:`space-y-1`},Qc={class:`text-sm font-semibold text-gray-300`},$c={class:`flex flex-wrap gap-2`},el=[`onClick`,`title`],tl={key:5,class:`space-y-1`},nl={class:`text-sm font-semibold text-gray-300`},rl={class:`flex flex-wrap gap-2`},il=[`onClick`,`title`],al={key:6,class:`space-y-1`},ol={class:`text-sm font-semibold text-gray-300`},sl={class:`flex flex-wrap gap-2`},cl=[`onClick`],ll={key:7,class:`space-y-1`},ul={class:`text-sm font-semibold text-gray-300`},dl={class:`bg-gray-800/30 rounded border border-gray-700 p-2 max-h-96 overflow-y-auto`},fl={class:`space-y-2`},pl=[`onClick`],ml={class:`flex items-center gap-3`},hl={class:`font-bold text-gray-300`},gl={class:`text-sm text-gray-400 flex gap-4`},_l={key:0},vl={key:1},yl={key:2},bl={key:3},xl={key:0,class:`bg-gray-800/50 p-4 space-y-3`},Sl={class:`text-xs text-gray-500 mb-2`},Cl={key:0,class:`space-y-1`},wl={class:`text-sm font-semibold text-gray-300`},Tl={class:`flex flex-wrap gap-2`},El=[`onClick`],Dl={key:0,class:`text-yellow-400 mr-1`,title:`Unique crew`},Ol={key:1,class:`space-y-1`},kl={class:`text-sm font-semibold text-gray-300`},Al={class:`flex flex-wrap gap-2`},jl=[`onClick`],Ml={key:0,class:`text-yellow-400 mr-1`,title:`Unique weapon`},Nl={key:2,class:`space-y-1`},Pl={class:`text-sm font-semibold text-gray-300`},Fl={class:`flex flex-wrap gap-2`},Il=[`onClick`],Ll={key:0,class:`text-yellow-400 mr-1`,title:`Unique augment`},Rl={key:3,class:`space-y-1`},zl={class:`text-sm font-semibold text-gray-300`},Bl={class:`flex flex-wrap gap-2`},Vl=[`onClick`],Hl={key:0,class:`text-yellow-400 mr-1`,title:`Unique drone`},Ul={key:4,class:`space-y-1`},Wl={class:`text-sm font-semibold text-gray-300`},Gl={class:`flex flex-wrap gap-2`},Kl=[`onClick`,`title`],ql={key:5,class:`space-y-1`},Jl={class:`text-sm font-semibold text-gray-300`},Yl={class:`flex flex-wrap gap-2`},Xl=[`onClick`,`title`],Zl={key:6,class:`space-y-1`},Ql={class:`text-sm font-semibold text-gray-300`},$l={class:`flex flex-wrap gap-2`},eu=[`onClick`],tu={key:7,class:`space-y-1`},nu={class:`text-sm font-semibold text-gray-300`},ru={class:`bg-gray-800/30 rounded border border-gray-700 p-2 max-h-96 overflow-y-auto`},iu={class:`flex flex-wrap gap-1`},au=[`onClick`],ou={class:`flex flex-wrap gap-1`},su=[`onClick`],cu=[`onClick`],lu={class:`flex flex-wrap gap-1`},uu=[`onClick`],du={__name:`SectorsPage`,setup(e){let n=f();ee();let{sectors:r,loading:c,error:m,sectorsByType:h,fetchSectors:y}=fe(),{blueprintArrays:S,fetchBlueprints:w}=ge(),{getSectorsForItem:T}=Ce(),{fetchEvents:E,fetchEventLists:te}=Se(),D=b(null),O=b(``),M=b([]),N=b(!1),P=b(null),F=b([]),I=b(null),L=b(null),R=b(null),z=b(null),B=b(null),V=b(null),H=C({get:()=>I.value!==null,set:e=>{e||Y()}}),ne=C({get:()=>L.value!==null,set:e=>{e||Y()}}),re=C({get:()=>R.value!==null,set:e=>{e||Y()}}),ie=C({get:()=>z.value!==null,set:e=>{e||Y()}}),ae=C({get:()=>B.value!==null,set:e=>{e||Y()}}),oe=C({get:()=>V.value!==null,set:e=>{e||Y()}}),se={coords_spider:`SECRET_SPIDER`,coords_jerry:`SECRET_JERRY`,coords_nights:`SECRET_NIGHTS`,coords_hektar:`SECRET_HEKTAR`,coords_estate:`SECRET_ESTATE`,coords_rhyme:`SECRET_RHYME`,coords_hive:`SECTOR_HIVE_UNIQUE`};l(()=>{y(),w(),E(),te(),ce().then(e=>{M.value=e}).catch(e=>{console.error(`Failed to load blueprint lists:`,e)}),n.query.search&&(O.value=n.query.search),window.addEventListener(`keydown`,le)}),t(()=>{window.removeEventListener(`keydown`,le)});function U(e,t){if(!S.value[t])return e.replace(/_/g,` `);if(t===`crew`&&e.startsWith(`unique_`))return e.substring(7).split(`_`).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(` `);let n=null;switch(t){case`crew`:n=S.value.crew?.find(t=>t?.crewBlueprint?.name===e)?.crewBlueprint;break;case`weapons`:n=S.value.weapons?.find(t=>t?.weaponBlueprint?.name===e)?.weaponBlueprint;break;case`augments`:n=S.value.augments?.find(t=>t?.augBlueprint?.name===e)?.augBlueprint;break;case`drones`:n=S.value.drones?.find(t=>t?.droneBlueprint?.name===e)?.droneBlueprint;break;case`ships`:n=S.value.ships?.find(t=>t?.shipBlueprint?._id===e||t?.shipBlueprint?.name===e)?.shipBlueprint;break}if(t===`ships`&&n){let t=n.name||n.title,r=n.class;return t&&r&&t!==r?`${t} (${r})`:r||t||e.replace(/_/g,` `)}return n?.title||e.replace(/_/g,` `)}function le(e){(e.ctrlKey||e.metaKey)&&e.key===`k`&&(e.preventDefault(),document.querySelector(`input[type="text"]`)?.focus()),e.key===`Escape`&&O.value&&(O.value=``)}s(()=>n.query.search,e=>{e&&(O.value=e)});let ue=C(()=>{if(!O.value)return h.value;let e=O.value.toLowerCase(),t={};for(let[n,r]of Object.entries(h.value))t[n]={unique:r.unique.filter(t=>de(t,e)),standard:r.standard.filter(t=>de(t,e))};return t});function de(e,t){if(e.name?.toLowerCase().includes(t))return!0;let n=e=>e?.some(e=>e.toLowerCase().includes(t));return n(e.crew)||n(e.weapons)||n(e.augments)||n(e.drones)||n(e.ship_unlocks)}function W(e,t){if(e.includes(`LIST`)||e.includes(`GIFT`)){let t=M.value.find(t=>t.name===e);if(t){P.value=t,N.value=!0;return}}let n=null;switch(t){case`weapons`:n=S.value.weapons?.find(t=>t?.weaponBlueprint?.name===e),n&&pe(n);break;case`crew`:n=S.value.crew?.find(t=>t?.crewBlueprint?.name===e),n&&G(n);break;case`augments`:n=S.value.augments?.find(t=>t?.augBlueprint?.name===e),n&&me(n);break;case`drones`:n=S.value.drones?.find(t=>t?.droneBlueprint?.name===e),n&&K(n);break;case`ships`:n=S.value.ships?.find(t=>t?.shipBlueprint?._id===e||t?.shipBlueprint?.name===e),n&&q(n);break}}function pe(e){(I.value||L.value||R.value||z.value||B.value||V.value)&&F.value.push({weapon:I.value,crew:L.value,drone:R.value,augment:z.value,ship:B.value,system:V.value}),he(),I.value=e}function G(e){(I.value||L.value||R.value||z.value||B.value||V.value)&&F.value.push({weapon:I.value,crew:L.value,drone:R.value,augment:z.value,ship:B.value,system:V.value}),he(),L.value=e}function K(e){(I.value||L.value||R.value||z.value||B.value||V.value)&&F.value.push({weapon:I.value,crew:L.value,drone:R.value,augment:z.value,ship:B.value,system:V.value}),he(),R.value=e}function me(e){(I.value||L.value||R.value||z.value||B.value||V.value)&&F.value.push({weapon:I.value,crew:L.value,drone:R.value,augment:z.value,ship:B.value,system:V.value}),he(),z.value=e}function q(e){(I.value||L.value||R.value||z.value||B.value||V.value)&&F.value.push({weapon:I.value,crew:L.value,drone:R.value,augment:z.value,ship:B.value,system:V.value}),he(),B.value=e}function J(e){(I.value||L.value||R.value||z.value||B.value||V.value)&&F.value.push({weapon:I.value,crew:L.value,drone:R.value,augment:z.value,ship:B.value,system:V.value}),he(),V.value=e}function he(){I.value=null,L.value=null,R.value=null,z.value=null,B.value=null,V.value=null}function Y(){if(F.value.length>0){let e=F.value.pop();I.value=e.weapon,L.value=e.crew,R.value=e.drone,z.value=e.augment,B.value=e.ship,V.value=e.system}else he()}function _e(e){N.value=!1;let t=`weapons`;e.includes(`crew`)||e.startsWith(`unique_`)?t=`crew`:e.includes(`aug`)?t=`augments`:e.includes(`drone`)&&(t=`drones`),W(e,t)}function ve(e){let t=r.value.find(t=>t.name===e);return t?.nameList?.name?t.nameList.name:e.replace(/_/g,` `).replace(/SECTOR /g,``)}function ye(e){D.value=D.value===e?null:e}function be(e){return D.value===e}function X(e){O.value=e,D.value=e}return(e,t)=>(A(),k(`div`,null,[t[8]||=v(`h2`,{class:`text-3xl font-bold mb-6`},`Sectors`,-1),a(c)?(A(),_(tn,{key:0,message:`Loading sectors data...`})):a(m)?(A(),_(sn,{key:1,error:a(m)},null,8,[`error`])):(A(),k(`div`,hc,[v(`div`,gc,[v(`div`,_c,[v(`p`,vc,[t[7]||=p(` Total sectors: `,-1),v(`span`,yc,i(a(r).length),1)])]),j(ke,{modelValue:O.value,"onUpdate:modelValue":t[0]||=e=>O.value=e,placeholder:`Search sectors or items...`},null,8,[`modelValue`])]),(A(!0),k(g,null,u(ue.value,(e,t)=>(A(),k(`div`,{key:t,class:`space-y-4`},[e.unique.length>0||e.standard.length>0?(A(),k(g,{key:0},[e.unique.length>0?(A(),_(Q,{key:0,title:`${t} - Unique`,count:e.unique.length,"default-open":!0},{default:x(()=>[v(`div`,bc,[(A(!0),k(g,null,u(e.unique,e=>(A(),k(`div`,{key:e.name,class:`border border-gray-700 rounded-lg overflow-hidden`},[v(`button`,{onClick:t=>ye(e.name),class:`w-full px-4 py-3 bg-gray-800 hover:bg-gray-750 transition-colors flex items-center justify-between`},[v(`div`,Sc,[v(`span`,{class:o([`text-gray-400 text-sm transition-transform`,{"rotate-90":be(e.name)}])},` ▶ `,2),v(`h5`,Cc,i(ve(e.name)),1)]),v(`div`,wc,[e.crew?.length?(A(),k(`span`,Tc,`Crew: `+i(e.crew.length),1)):d(``,!0),e.weapons?.length?(A(),k(`span`,Ec,`Weapons: `+i(e.weapons.length),1)):d(``,!0),e.augments?.length?(A(),k(`span`,Dc,`Augments: `+i(e.augments.length),1)):d(``,!0),e.drones?.length?(A(),k(`span`,Oc,`Drones: `+i(e.drones.length),1)):d(``,!0)])],8,xc),be(e.name)?(A(),k(`div`,kc,[v(`div`,Ac,i(e.name),1),e.crew?.length?(A(),k(`div`,jc,[v(`h6`,Mc,`Crew (`+i(e.crew.length)+`)`,1),v(`div`,Nc,[(A(!0),k(g,null,u(e.crew,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`crew`),class:`px-2 py-1 bg-blue-900/30 border border-blue-700/50 rounded text-xs text-blue-300 hover:bg-blue-800/50 transition-colors cursor-pointer`},[e.startsWith(`unique_`)?(A(),k(`span`,Fc,`⭐`)):d(``,!0),p(i(U(e,`crew`)),1)],8,Pc))),128))])])):d(``,!0),e.weapons?.length?(A(),k(`div`,Ic,[v(`h6`,Lc,`Weapons (`+i(e.weapons.length)+`)`,1),v(`div`,Rc,[(A(!0),k(g,null,u(e.weapons,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`weapons`),class:`px-2 py-1 bg-red-900/30 border border-red-700/50 rounded text-xs text-red-300 hover:bg-red-800/50 transition-colors cursor-pointer`},[e.startsWith(`GATLING`)?(A(),k(`span`,Bc,`⭐`)):d(``,!0),p(i(U(e,`weapons`)),1)],8,zc))),128))])])):d(``,!0),e.augments?.length?(A(),k(`div`,Vc,[v(`h6`,Hc,`Augments (`+i(e.augments.length)+`)`,1),v(`div`,Uc,[(A(!0),k(g,null,u(e.augments,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`augments`),class:`px-2 py-1 bg-purple-900/30 border border-purple-700/50 rounded text-xs text-purple-300 hover:bg-purple-800/50 transition-colors cursor-pointer`},[e.includes(`PREIGNITE`)?(A(),k(`span`,Gc,`⭐`)):d(``,!0),p(i(U(e,`augments`)),1)],8,Wc))),128))])])):d(``,!0),e.drones?.length?(A(),k(`div`,Kc,[v(`h6`,qc,`Drones (`+i(e.drones.length)+`)`,1),v(`div`,Jc,[(A(!0),k(g,null,u(e.drones,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`drones`),class:`px-2 py-1 bg-green-900/30 border border-green-700/50 rounded text-xs text-green-300 hover:bg-green-800/50 transition-colors cursor-pointer`},[e.startsWith(`A55_`)?(A(),k(`span`,Xc,`⭐`)):d(``,!0),p(i(U(e,`drones`)),1)],8,Yc))),128))])])):d(``,!0),e.ship_unlocks?.length?(A(),k(`div`,Zc,[v(`h6`,Qc,`Ships (`+i(e.ship_unlocks.length)+`)`,1),v(`div`,$c,[(A(!0),k(g,null,u(e.ship_unlocks,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`ships`),class:`px-2 py-1 bg-yellow-900/30 border border-yellow-700/50 rounded text-xs text-yellow-300 hover:bg-yellow-800/40 hover:border-yellow-600 transition-colors cursor-pointer`,title:e},i(U(e,`ships`)),9,el))),128))])])):d(``,!0),e.coordinates?.length?(A(),k(`div`,tl,[v(`h6`,nl,`Coordinates (`+i(e.coordinates.length)+`)`,1),v(`div`,rl,[(A(!0),k(g,null,u(e.coordinates,e=>(A(),k(`button`,{key:e,onClick:t=>X(se[e]||e),class:`px-2 py-1 bg-cyan-900/30 border border-cyan-700/50 rounded text-xs text-cyan-300 hover:bg-cyan-800/50 transition-colors cursor-pointer`,title:se[e]?`Jump to ${se[e].replace(/_/g,` `)}`:e},i(e.replace(/_/g,` `)),9,il))),128))])])):d(``,!0),e.secret_warps?.length?(A(),k(`div`,al,[v(`h6`,ol,`Secret Warps (`+i(e.secret_warps.length)+`)`,1),v(`div`,sl,[(A(!0),k(g,null,u(e.secret_warps,e=>(A(),k(`button`,{key:e,onClick:t=>X(e),class:`px-2 py-1 bg-pink-900/30 border border-pink-700/50 rounded text-xs text-pink-300 hover:bg-pink-800/50 transition-colors cursor-pointer`},i(e.replace(/_/g,` `)),9,cl))),128))])])):d(``,!0),e.sourceEvents?.length?(A(),k(`div`,ll,[v(`h6`,ul,`Events (`+i(e.sourceEvents.length)+`)`,1),v(`div`,dl,[(A(!0),k(g,null,u(e.sourceEvents,(e,t)=>(A(),_(Xt,{key:e.name||t,"event-name":typeof e==`string`?e:e.name,onNavigateBlueprint:W,onNavigateSector:X},null,8,[`event-name`]))),128))])])):d(``,!0)])):d(``,!0)]))),128))])]),_:2},1032,[`title`,`count`])):d(``,!0),e.standard.length>0?(A(),_(Q,{key:1,title:`${t} - Standard`,count:e.standard.length,"default-open":!1},{default:x(()=>[v(`div`,fl,[(A(!0),k(g,null,u(e.standard,e=>(A(),k(`div`,{key:e.name,class:`border border-gray-700 rounded-lg overflow-hidden`},[v(`button`,{onClick:t=>ye(e.name),class:`w-full px-4 py-3 bg-gray-800 hover:bg-gray-750 transition-colors flex items-center justify-between`},[v(`div`,ml,[v(`span`,{class:o([`text-gray-400 text-sm transition-transform`,{"rotate-90":be(e.name)}])},` ▶ `,2),v(`h5`,hl,i(ve(e.name)),1)]),v(`div`,gl,[e.crew?.length?(A(),k(`span`,_l,`Crew: `+i(e.crew.length),1)):d(``,!0),e.weapons?.length?(A(),k(`span`,vl,`Weapons: `+i(e.weapons.length),1)):d(``,!0),e.augments?.length?(A(),k(`span`,yl,`Augments: `+i(e.augments.length),1)):d(``,!0),e.drones?.length?(A(),k(`span`,bl,`Drones: `+i(e.drones.length),1)):d(``,!0)])],8,pl),be(e.name)?(A(),k(`div`,xl,[v(`div`,Sl,i(e.name),1),e.crew?.length?(A(),k(`div`,Cl,[v(`h6`,wl,`Crew (`+i(e.crew.length)+`)`,1),v(`div`,Tl,[(A(!0),k(g,null,u(e.crew,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`crew`),class:`px-2 py-1 bg-blue-900/30 border border-blue-700/50 rounded text-xs text-blue-300 hover:bg-blue-800/50 transition-colors cursor-pointer`},[e.startsWith(`unique_`)?(A(),k(`span`,Dl,`⭐`)):d(``,!0),p(i(U(e,`crew`)),1)],8,El))),128))])])):d(``,!0),e.weapons?.length?(A(),k(`div`,Ol,[v(`h6`,kl,`Weapons (`+i(e.weapons.length)+`)`,1),v(`div`,Al,[(A(!0),k(g,null,u(e.weapons,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`weapons`),class:`px-2 py-1 bg-red-900/30 border border-red-700/50 rounded text-xs text-red-300 hover:bg-red-800/50 transition-colors cursor-pointer`},[e.startsWith(`GATLING`)?(A(),k(`span`,Ml,`⭐`)):d(``,!0),p(i(U(e,`weapons`)),1)],8,jl))),128))])])):d(``,!0),e.augments?.length?(A(),k(`div`,Nl,[v(`h6`,Pl,`Augments (`+i(e.augments.length)+`)`,1),v(`div`,Fl,[(A(!0),k(g,null,u(e.augments,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`augments`),class:`px-2 py-1 bg-purple-900/30 border border-purple-700/50 rounded text-xs text-purple-300 hover:bg-purple-800/50 transition-colors cursor-pointer`},[e.includes(`PREIGNITE`)?(A(),k(`span`,Ll,`⭐`)):d(``,!0),p(i(U(e,`augments`)),1)],8,Il))),128))])])):d(``,!0),e.drones?.length?(A(),k(`div`,Rl,[v(`h6`,zl,`Drones (`+i(e.drones.length)+`)`,1),v(`div`,Bl,[(A(!0),k(g,null,u(e.drones,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`drones`),class:`px-2 py-1 bg-green-900/30 border border-green-700/50 rounded text-xs text-green-300 hover:bg-green-800/50 transition-colors cursor-pointer`},[e.startsWith(`A55_`)?(A(),k(`span`,Hl,`⭐`)):d(``,!0),p(i(U(e,`drones`)),1)],8,Vl))),128))])])):d(``,!0),e.ship_unlocks?.length?(A(),k(`div`,Ul,[v(`h6`,Wl,`Ships (`+i(e.ship_unlocks.length)+`)`,1),v(`div`,Gl,[(A(!0),k(g,null,u(e.ship_unlocks,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`ships`),class:`px-2 py-1 bg-yellow-900/30 border border-yellow-700/50 rounded text-xs text-yellow-300 hover:bg-yellow-800/40 hover:border-yellow-600 transition-colors cursor-pointer`,title:e},i(U(e,`ships`)),9,Kl))),128))])])):d(``,!0),e.coordinates?.length?(A(),k(`div`,ql,[v(`h6`,Jl,`Coordinates (`+i(e.coordinates.length)+`)`,1),v(`div`,Yl,[(A(!0),k(g,null,u(e.coordinates,e=>(A(),k(`button`,{key:e,onClick:t=>X(se[e]||e),class:`px-2 py-1 bg-cyan-900/30 border border-cyan-700/50 rounded text-xs text-cyan-300 hover:bg-cyan-800/50 transition-colors cursor-pointer`,title:se[e]?`Jump to ${se[e].replace(/_/g,` `)}`:e},i(e.replace(/_/g,` `)),9,Xl))),128))])])):d(``,!0),e.secret_warps?.length?(A(),k(`div`,Zl,[v(`h6`,Ql,`Secret Warps (`+i(e.secret_warps.length)+`)`,1),v(`div`,$l,[(A(!0),k(g,null,u(e.secret_warps,e=>(A(),k(`button`,{key:e,onClick:t=>X(e),class:`px-2 py-1 bg-pink-900/30 border border-pink-700/50 rounded text-xs text-pink-300 hover:bg-pink-800/50 transition-colors cursor-pointer`},i(e.replace(/_/g,` `)),9,eu))),128))])])):d(``,!0),e.sourceEvents?.length?(A(),k(`div`,tu,[v(`h6`,nu,`Events (`+i(e.sourceEvents.length)+`)`,1),v(`div`,ru,[(A(!0),k(g,null,u(e.sourceEvents,(e,t)=>(A(),_(Xt,{key:e.name||t,"event-name":typeof e==`string`?e:e.name,onNavigateBlueprint:W,onNavigateSector:X},null,8,[`event-name`]))),128))])])):d(``,!0)])):d(``,!0)]))),128))])]),_:2},1032,[`title`,`count`])):d(``,!0)],64)):d(``,!0)]))),128))])),N.value?(A(),_(Ue,{key:3,listName:P.value?.name||``,listData:P.value,onClose:t[1]||=e=>N.value=!1,onNavigate:_e},null,8,[`listName`,`listData`])):d(``,!0),I.value?(A(),_(Rr,{key:4,weapon:I.value,show:H.value,onClose:Y,onNavigateSector:X},{sectors:x(()=>[v(`div`,iu,[(A(!0),k(g,null,u(a(T)(I.value?.weaponBlueprint?.name,`weapons`),e=>(A(),k(`button`,{key:e,onClick:t=>{Y(),X(e)},class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(ve(e)),9,au))),128))])]),_:1},8,[`weapon`,`show`])):d(``,!0),L.value?(A(),_(ui,{key:5,crew:L.value,show:ne.value,onClose:Y,onNavigateSector:X},{sectors:x(()=>[v(`div`,ou,[(A(!0),k(g,null,u(a(T)(L.value?.crewBlueprint?.name,`crew`),e=>(A(),k(`button`,{key:e,onClick:t=>{Y(),X(e)},class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(ve(e)),9,su))),128))])]),_:1},8,[`crew`,`show`])):d(``,!0),R.value?(A(),_(ro,{key:6,drone:R.value,show:re.value,onClose:Y,onNavigateSector:X},{sectors:x(()=>[(A(!0),k(g,null,u(a(T)(R.value?.droneBlueprint?.name,`drones`),e=>(A(),k(`button`,{key:e,onClick:t=>{Y(),X(e)},class:`text-sm px-3 py-1.5 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(ve(e)),9,cu))),128))]),_:1},8,[`drone`,`show`])):d(``,!0),z.value?(A(),_(Co,{key:7,augment:z.value,show:ie.value,onClose:Y,onNavigateSector:X},{sectors:x(()=>[v(`div`,lu,[(A(!0),k(g,null,u(a(T)(z.value?.augBlueprint?.name,`augments`),e=>(A(),k(`button`,{key:e,onClick:t=>{Y(),X(e)},class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(ve(e)),9,uu))),128))])]),_:1},8,[`augment`,`show`])):d(``,!0),B.value?(A(),_(Ws,{key:8,ship:B.value,show:ae.value,blueprintArrays:a(S),onClose:Y,onOpenCrew:t[2]||=e=>{let t=a(S).crew?.find(t=>t?.crewBlueprint?.name===e);t&&G(t)},onOpenWeapon:t[3]||=e=>{let t=a(S).weapons?.find(t=>t?.weaponBlueprint?.name===e);t&&pe(t)},onOpenDrone:t[4]||=e=>{let t=a(S).drones?.find(t=>t?.droneBlueprint?.name===e);t&&K(t)},onOpenAugment:t[5]||=e=>{let t=a(S).augments?.find(t=>t?.augBlueprint?.name===e);t&&me(t)},onOpenSystem:t[6]||=e=>{let t=a(S).systems?.find(t=>t?.systemBlueprint?.name===e);t&&J(t)}},null,8,[`ship`,`show`,`blueprintArrays`])):d(``,!0),V.value?(A(),_(mc,{key:9,system:V.value,show:oe.value,onClose:Y},null,8,[`system`,`show`])):d(``,!0)]))}},fu={class:`flex flex-col gap-2`},pu={class:`text-sm font-semibold text-gray-300`},mu=[`value`],hu=[`value`],gu={__name:`FilterDropdown`,props:{modelValue:{type:String,default:``},label:{type:String,required:!0},options:{type:Array,required:!0}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=t;function r(e){n(`update:modelValue`,e.target.value)}return(t,n)=>(A(),k(`div`,fu,[v(`label`,pu,i(e.label),1),v(`select`,{value:e.modelValue,onChange:r,class:`px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:outline-none focus:border-blue-500 transition-colors`},[n[0]||=v(`option`,{value:``},`All`,-1),(A(!0),k(g,null,u(e.options,e=>(A(),k(`option`,{key:e.value,value:e.value},i(e.label),9,hu))),128))],40,mu)]))}},_u={key:2,class:`space-y-6`},vu={class:`flex gap-2 border-b border-gray-700`},yu=[`onClick`],bu={key:0,class:`absolute bottom-0 left-0 right-0 h-0.5 bg-blue-400`},xu={class:`bg-gray-800 rounded-lg p-4 border border-gray-700`},Su={class:`text-gray-300`},Cu={class:`font-bold text-blue-400`},wu={key:0,class:`text-gray-500 text-sm ml-2`},Tu={class:`flex gap-4 flex-wrap items-center`},Eu={class:`flex-1 min-w-[200px]`},Du={key:0,class:`w-48`},Ou={key:1,class:`w-48`},ku={key:2,class:`w-56`},Au={key:3,class:`flex items-center gap-2 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg`},ju={key:4,class:`flex items-center gap-2 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg`},Mu={key:5,class:`flex items-center gap-2 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg`},Nu={key:0,class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`},Pu=[`onClick`],Fu={key:0,class:`absolute top-2 right-2 flex gap-1`},Iu=[`onClick`],Lu={class:`w-7 h-7 bg-gray-900 rounded flex items-center justify-center text-xs text-gray-400`},Ru=[`onClick`],zu={class:`flex items-start gap-3 mb-2`},Bu={class:`font-bold text-blue-400 flex-1 pr-24`},Vu={key:0,class:`text-yellow-400 mr-1`,title:`Unique weapon`},Hu={key:1,class:`mr-1`,title:`Ancient/Royal`},Uu={key:2,class:`mr-1`,title:`Loot`},Wu={key:3,class:`mr-1`,title:`Chaos`},Gu={class:`text-sm text-gray-400 space-y-1`},Ku={key:0,class:`text-xs text-gray-500`},qu={key:1},Ju={key:2},Yu={key:3},Xu={key:4,class:`text-green-400`},Zu={key:5,class:`mt-2 pt-2 border-t border-gray-700`},Qu={class:`text-xs text-gray-500 mb-1`},$u={class:`flex flex-wrap gap-1`},ed=[`onClick`],td={class:`text-xs px-2 py-1 text-gray-400 italic`},nd=[`onClick`],rd=[`onClick`],id={class:`flex items-start gap-3 mb-2`},ad={class:`font-bold text-blue-400 flex-1`},od={key:0,class:`text-yellow-400 mr-1`,title:`Unique weapon`},sd={key:1,class:`mr-1`,title:`Ancient/Royal`},cd={key:2,class:`mr-1`,title:`Loot`},ld={key:3,class:`mr-1`,title:`Chaos`},ud={class:`text-sm text-gray-400 space-y-1`},dd={key:0,class:`text-xs text-gray-500`},fd={key:1},pd={key:2},md={key:3},hd={key:4,class:`text-green-400`},gd={key:5,class:`mt-2 pt-2 border-t border-gray-700`},_d={class:`text-xs text-gray-500 mb-1`},vd={class:`flex flex-wrap gap-1`},yd=[`onClick`],bd={class:`text-xs px-2 py-1 text-gray-400 italic`},xd=[`onClick`],Sd={key:1,class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`},Cd=[`onClick`],wd={class:`absolute top-2 right-2 flex gap-1`},Td=[`onClick`],Ed={class:`w-7 h-7 bg-gray-900 rounded flex items-center justify-center text-xs text-gray-400`},Dd=[`onClick`],Od={class:`flex items-start gap-3 mb-2`},kd={class:`font-bold text-blue-400 flex-1`},Ad={key:0,class:`text-yellow-400 mr-1`,title:`Unique crew`},jd={key:1,class:`mr-1`,title:`Chaos`},Md={class:`text-sm text-gray-400 space-y-1`},Nd={key:0,class:`text-xs text-gray-500`},Pd={key:1,class:`text-gray-300 py-2`},Fd={key:2,class:`py-2`},Id={class:`list-disc list-inside space-y-0.5 text-gray-300`},Ld={key:3,class:`text-green-400`},Rd={key:4,class:`mt-2 pt-2 border-t border-gray-700`},zd={class:`text-xs text-gray-500 mb-1`},Bd={class:`flex flex-wrap gap-1`},Vd=[`onClick`],Hd={class:`text-xs px-2 py-1 text-gray-400 italic`},Ud=[`onClick`],Wd=[`onClick`],Gd={class:`flex items-start gap-3 mb-2`},Kd={class:`font-bold text-blue-400 flex-1`},qd={key:0,class:`text-yellow-400 mr-1`,title:`Unique crew`},Jd={key:1,class:`mr-1`,title:`Chaos`},Yd={class:`text-sm text-gray-400 space-y-1`},Xd={key:0,class:`text-xs text-gray-500`},Zd={key:1,class:`text-gray-300 py-2`},Qd={key:2,class:`py-2`},$d={class:`list-disc list-inside space-y-0.5 text-gray-300`},ef={key:3,class:`text-green-400`},tf={key:4,class:`mt-2 pt-2 border-t border-gray-700`},nf={class:`text-xs text-gray-500 mb-1`},rf={class:`flex flex-wrap gap-1`},af=[`onClick`],of={class:`text-xs px-2 py-1 text-gray-400 italic`},sf=[`onClick`],cf={key:2,class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`},lf=[`onClick`],uf={key:0,class:`absolute top-2 right-2 flex gap-1`},df=[`onClick`],ff={class:`w-7 h-7 bg-gray-900 rounded flex items-center justify-center text-xs text-gray-400`},pf=[`onClick`],mf={class:`font-bold text-blue-400 mb-2 pr-24`},hf={key:0,class:`text-yellow-400 mr-1`,title:`Locked augment`},gf={key:1,class:`text-yellow-400 mr-1`,title:`Unique augment`},_f={key:2,class:`mr-1`,title:`Ancient/Royal`},vf={key:3,class:`mr-1`,title:`Chaos`},yf={class:`text-sm text-gray-400 space-y-1`},bf={key:0,class:`text-xs text-gray-500`},xf={key:1,class:`text-gray-300 py-1`},Sf={key:2,class:`text-green-400`},Cf={key:3},wf={key:4},Tf={key:5,class:`mt-2 pt-2 border-t border-gray-700`},Ef={class:`text-xs text-gray-500 mb-1`},Df={class:`flex flex-wrap gap-1`},Of=[`onClick`],kf={class:`text-xs px-2 py-1 text-gray-400 italic`},Af=[`onClick`],jf=[`onClick`],Mf={class:`font-bold text-blue-400 mb-2`},Nf={key:0,class:`text-yellow-400 mr-1`,title:`Locked augment`},Pf={key:1,class:`text-yellow-400 mr-1`,title:`Unique augment`},Ff={key:2,class:`mr-1`,title:`Ancient/Royal`},If={key:3,class:`mr-1`,title:`Chaos`},Lf={class:`text-sm text-gray-400 space-y-1`},Rf={key:0,class:`text-xs text-gray-500`},zf={key:1,class:`text-gray-300 py-1`},Bf={key:2,class:`text-green-400`},Vf={key:3},Hf={key:4},Uf={key:5,class:`mt-2 pt-2 border-t border-gray-700`},Wf={class:`text-xs text-gray-500 mb-1`},Gf={class:`flex flex-wrap gap-1`},Kf=[`onClick`],qf={class:`text-xs px-2 py-1 text-gray-400 italic`},Jf=[`onClick`],Yf={key:3,class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`},Xf=[`onClick`],Zf={class:`absolute top-2 right-2 flex gap-1`},Qf=[`onClick`],$f={class:`px-2 py-1 text-xs text-gray-400`},ep=[`onClick`],tp={class:`flex items-start gap-3 mb-2`},np={class:`font-bold text-blue-400 flex-1 pr-24`},rp={key:0,class:`text-yellow-400 mr-1`,title:`Unique drone`},ip={key:1,class:`mr-1`,title:`Ancient/Royal`},ap={key:2,class:`mr-1`,title:`Loot`},op={key:3,class:`mr-1`,title:`Chaos`},sp={class:`text-sm text-gray-400 space-y-1`},cp={key:0,class:`text-xs text-gray-500`},lp={key:1},up={key:2},dp={key:3,class:`text-green-400`},fp={key:4,class:`mt-2 pt-2 border-t border-gray-700`},pp={class:`text-xs text-gray-500 mb-1`},mp={class:`flex flex-wrap gap-1`},hp=[`onClick`],gp={class:`text-xs px-2 py-1 text-gray-400 italic`},_p=[`onClick`],vp=[`onClick`],yp={class:`flex items-start gap-3 mb-2`},bp={class:`font-bold text-blue-400 flex-1`},xp={key:0,class:`text-yellow-400 mr-1`,title:`Unique drone`},Sp={key:1,class:`mr-1`,title:`Ancient/Royal`},Cp={key:2,class:`mr-1`,title:`Loot`},wp={key:3,class:`mr-1`,title:`Chaos`},Tp={class:`text-sm text-gray-400 space-y-1`},Ep={key:0,class:`text-xs text-gray-500`},Dp={key:1},Op={key:2},kp={key:3,class:`text-green-400`},Ap={key:4,class:`mt-2 pt-2 border-t border-gray-700`},jp={class:`text-xs text-gray-500 mb-1`},Mp={class:`flex flex-wrap gap-1`},Np=[`onClick`],Pp={class:`text-xs px-2 py-1 text-gray-400 italic`},Fp=[`onClick`],Ip={key:4,class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4`},Lp=[`onClick`],Rp=[`title`],zp={class:`text-sm text-gray-400 space-y-1`},Bp=[`title`],Vp={key:0,class:`flex items-center gap-2`},Hp={class:`text-white`},Up={key:1,class:`flex items-center gap-2`},Wp={class:`text-white`},Gp={key:2,class:`flex items-center gap-2`},Kp={class:`text-white`},qp={key:3,class:`flex items-center gap-2`},Jp={class:`text-white`},Yp={key:5,class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`},Xp=[`onClick`],Zp={class:`font-bold text-blue-400 mb-2`},Qp={class:`text-sm text-gray-400 space-y-1`},$p={class:`text-xs text-gray-500 font-mono`},em={key:0,class:`text-gray-300 py-2 line-clamp-3`},tm={class:`flex flex-wrap gap-1`},nm=[`onClick`],rm={class:`flex flex-wrap gap-1`},im=[`onClick`],am=[`onClick`],om={class:`flex flex-wrap gap-1`},sm=[`onClick`],cm={__name:`BlueprintsPage`,setup(n){let r=f(),m=ee(),{loading:y,error:w,blueprintArrays:T,fetchBlueprints:E}=ge(),{fetchSectors:te}=fe(),{getSectorsForItem:D,getSectorCount:O}=Ce(),{fetchTextBlueprints:M}=dn(),{fetchAnimations:N,getCrewThumbnailStyle:P}=hn(),{observeThumbnail:F}=bn(),{observeThumbnail:I}=vi(),L=b(`weapons`),R=b(``),z=b(``),B=b(``),V=b(``),H=b(``),ne=b(!1),re=b(!1),ie=b(!1),ae=b({}),oe=b({}),se=b({}),U=b({}),ce=b(null),le=b(null),ue=C({get:()=>ce.value!==null,set:e=>{e||(ce.value=null,le.value=null)}}),de=b(null),W=b(null),pe=C({get:()=>de.value!==null,set:e=>{e||(de.value=null,W.value=null)}}),G=b(null),K=b(null),me=C({get:()=>G.value!==null,set:e=>{e||(G.value=null,K.value=null)}}),q=b(null),J=b(null),he=C({get:()=>q.value!==null,set:e=>{e||(q.value=null)}}),Y=b(null),_e=b(null),ve=C({get:()=>Y.value!==null,set:e=>{e||(Y.value=null,_e.value=null)}}),ye=b(null),be=C({get:()=>ye.value!==null,set:e=>{e||(ye.value=null)}}),X=[{id:`weapons`,name:`Weapons`},{id:`crew`,name:`Crew`},{id:`augments`,name:`Augments`},{id:`drones`,name:`Drones`},{id:`ships`,name:`Ships`},{id:`systems`,name:`Systems`}];l(async()=>{if(await Promise.all([E(),te(),M(),N()]),r.query.tab&&(L.value=r.query.tab),r.query.search&&(R.value=r.query.search),r.query.id){V.value=r.query.id;let e=r.query.id,t=r.query.tab;setTimeout(()=>{if(t===`weapons`){let t=T.value.weapons?.find(t=>t?.weaponBlueprint?.name===e);t&&je(t)}else if(t===`crew`){let t=T.value.crew?.find(t=>t?.crewBlueprint?.name===e);t&&Ne(t)}else if(t===`augments`){let t=T.value.augments?.find(t=>t?.augBlueprint?.name===e);t&&Le(t)}else if(t===`drones`){let t=T.value.drones?.find(t=>t?.droneBlueprint?.name===e);t&&Fe(t)}else if(t===`ships`){let t=T.value.ships?.find(t=>t?.shipBlueprint?._id===e||t?.shipBlueprint?.name===e);t&&Re(t)}},100)}r.query.rarity&&(z.value=r.query.rarity),r.query.type&&(B.value=r.query.type),window.addEventListener(`keydown`,Se)}),t(()=>{window.removeEventListener(`keydown`,Se)});function xe(){if(V.value){V.value=``;let e={...r.query};delete e.id,m.replace({query:e})}}function Se(e){if((e.ctrlKey||e.metaKey)&&e.key===`k`&&(e.preventDefault(),document.querySelector(`input[type="text"]`)?.focus()),e.key===`Escape`&&(ue.value?ce.value=null:pe.value?(de.value=null,W.value=null):me.value?(G.value=null,K.value=null):he.value?q.value=null:(R.value||z.value||B.value)&&(R.value=``,z.value=``,B.value=``)),e.key>=`1`&&e.key<=`6`&&!e.ctrlKey&&!e.metaKey){let t=e.target;if(t.tagName===`INPUT`||t.tagName===`SELECT`)return;let n=X[parseInt(e.key)-1]?.id;n&&(L.value=n)}}s(()=>r.query,e=>{e.tab&&(L.value=e.tab),e.search!==void 0&&(R.value=e.search||``),e.id!==void 0&&(V.value=e.id||``),e.rarity!==void 0&&(z.value=e.rarity||``),e.type!==void 0&&(B.value=e.type||``)},{deep:!0}),s([R,V,z,B],()=>{let e={};R.value&&(e.search=R.value),V.value&&(e.id=V.value),L.value!==`weapons`&&(e.tab=L.value),z.value&&(e.rarity=z.value),B.value&&(e.type=B.value),m.replace({query:e})});let we=C(()=>{let e=R.value.toLowerCase(),t=t=>t&&typeof t==`string`&&t.toLowerCase().includes(e),n=e=>z.value?e&&e.toString()===z.value:!0,r=e=>B.value?e&&typeof e==`string`&&e.toLowerCase().includes(B.value.toLowerCase()):!0,i=e=>V.value?e&&e===V.value:!0,a=(e,t,n)=>{if(e){let t=(typeof e==`string`?e:e.text||``).toLowerCase();if(t.includes(`you should never see`)||t.includes(`should never be seen`))return!0}return!!(n&&(typeof n==`string`?n:n.text||``).toLowerCase().includes(`should never see`)||t&&t.toUpperCase().endsWith(`_ENEMY`)||t.toUpperCase().includes(`_PROJ`))},o=e=>e?e.toLowerCase().startsWith(`task_`):!1,s=e=>{if(!e)return!1;let t=e.toLowerCase();return[`energy`,`human_rebel`,`human_rebel_medic`,`tinybug`,`unique_vance`,`unique_leah`,`unique_leah_mfk`,`unique_cyra`,`sylvanleah`,`nexus_pants`,`easter_`,`a55`,`gana`].some(e=>t.includes(e))},c=(e,t)=>{if(!e)return!1;if(/\[(M|X|L)\]/i.test(e))return!0;if(t){let e=typeof t==`string`?t:t.text||``;if(/\[Level\s+\w+\]/i.test(e))return!0}return!1},l=e=>{let t=new Set([`Performance Upgrade`,`Blessed`]),n=e=>e?e.replace(/\s*\[(M|X|L)\]\s*$/i,``).replace(/^\s*\[(M|X|L)\]\s*/i,``).trim():null,r=e=>e?e.replace(/^UPG_TECH_/i,``).replace(/^UPG_WEAPONS_/i,``).replace(/^UPG_ARTILLERY_/i,``).replace(/^UPG_/i,``).replace(/^EX_/i,``):null,i={},a=e=>(i[e]===void 0&&(i[e]=e),i[e]!==e&&(i[e]=a(i[e])),i[e]),o=(e,t)=>{let n=a(e),r=a(t);n!==r&&(i[n]=r)},s={},l={};e.forEach((e,t)=>{let i=e?.augBlueprint;if(!i)return;let a=n(i.title||i.name),o=r(i.name);a&&(s[a]||(s[a]=[]),s[a].push(t)),o&&(l[o]||(l[o]=[]),l[o].push(t))}),Object.entries(s).forEach(([e,n])=>{if(!t.has(e))for(let e=1;e<n.length;e++)o(n[0],n[e])}),Object.values(l).forEach(e=>{for(let t=1;t<e.length;t++)o(e[0],e[t])});let u={};e.forEach((e,t)=>{let n=a(t);u[n]||(u[n]=[]),u[n].push(e)});let d=[];return Object.values(u).forEach(e=>{let t=e[0]?.augBlueprint;if(!t)return;let r=n(t.title||t.name)||t.name,i=e.some(e=>c(e?.augBlueprint?.title,e?.augBlueprint?.desc));if(e.length>1||i){let t=[...e].sort((e,t)=>{let n=e?.augBlueprint,r=t?.augBlueprint,i=O(n?.name,`augments`),a=O(r?.name,`augments`);if(i!==a)return a-i;let o=n?.desc,s=r?.desc,c=typeof o==`string`?o:o?.text||``;return(typeof s==`string`?s:s?.text||``).length-c.length});d.push({isGroup:!0,baseName:r,versions:t,currentIndex:ae.value[r]||0})}else d.push({isGroup:!1,augment:e[0]})}),d.sort((e,t)=>{let n=e.isGroup?e.baseName:e.augment?.augBlueprint?.title||e.augment?.augBlueprint?.name||``,r=t.isGroup?t.baseName:t.augment?.augBlueprint?.title||t.augment?.augBlueprint?.name||``;return n.localeCompare(r)}),d},u=e=>{let t=[`CLONE_CANNON`,`SCANNER_`,`AWESOME_`,`MODULAR_CHARGE_`,`MODULAR_CHARGE_CHAOS_`,`MODULAR_LASER_`,`MODULAR_BEAM_`,`MODULAR_MISSILE_`,`MODULAR_ION_`,`SHOTGUN_TOGGLE`,`GATLING_SYLVAN`],n=[`SHOTGUN_TOGGLE_CHAOS`,`GATLING_ANCIENT`,`PART_GATLING_BARREL`,`PART_GATLING_BASE`],r={},i=[];e.forEach(e=>{let a=e?.weaponBlueprint;if(!a?.name){i.push(e);return}if(n.some(e=>a.name.includes(e))){i.push(e);return}if(a.name===`GATLING`||a.name.startsWith(`GATLING_VERSION`)){r.GATLING_NUMBERED||=[],r.GATLING_NUMBERED.push(e);return}let o=t.find(e=>a.name.includes(e));o?(r[o]||(r[o]=[]),r[o].push(e)):i.push(e)});let a=[];for(let[e,t]of Object.entries(r))if(t.length>1){let n=t.sort((t,n)=>{let r=t?.weaponBlueprint,i=n?.weaponBlueprint;if(e===`GATLING_NUMBERED`){if(r?.name===`GATLING`)return-1;if(i?.name===`GATLING`)return 1}let a=O(r?.name,`weapons`),o=O(i?.name,`weapons`);return a===o?(r?.title||r?.name||``).localeCompare(i?.title||i?.name||``):o-a}),r=n[0]?.weaponBlueprint?.title||e;a.push({isGroup:!0,groupName:r,versions:n,currentIndex:oe.value[r]||0})}else i.push(t[0]);return i.forEach(e=>{a.push({isGroup:!1,weapon:e})}),a.sort((e,t)=>{let n=e.isGroup?e.groupName:e.weapon?.weaponBlueprint?.title||e.weapon?.weaponBlueprint?.name||``,r=t.isGroup?t.groupName:t.weapon?.weaponBlueprint?.title||t.weapon?.weaponBlueprint?.name||``;return n.localeCompare(r)}),a},d=e=>{let t=[`_nano`,`_box`,`_automated`,`_defector`,`_tamed`,`_temp`,`_noclone`],n=[`unique_freddy`,`unique_ellie`,`unique_ooj`,`unique_irwin`,`sylvan`,`blob`,`techno`,`gold`],r={};e.forEach(e=>{let i=e?.crewBlueprint;if(!i?.name)return;let a=i.name.toLowerCase(),o=null,s=!1,c=n.find(e=>a.startsWith(e.toLowerCase()));if(c&&(o=c,s=!0),!s){let e=t.find(e=>a.includes(e.toLowerCase()));if(e){let t=a.indexOf(e.toLowerCase());o=i.name.substring(0,t)+i.name.substring(t+e.length)}else o=i.name}r[o]||(r[o]=[]),r[o].push(e)});let i=[];for(let[e,t]of Object.entries(r))if(t.length>1){let n=t.sort((e,t)=>{let n=e?.crewBlueprint,r=t?.crewBlueprint,i=O(n?.name,`crew`),a=O(r?.name,`crew`);return i===a?(n?.name||``).localeCompare(r?.name||``):a-i}),r=n[0]?.crewBlueprint?.name||e;i.push({isGroup:!0,groupName:r,versions:n,currentIndex:U.value[r]||0})}else i.push({isGroup:!1,crew:t[0]});return i.sort((e,t)=>{let n=e.isGroup?e.groupName:e.crew?.crewBlueprint?.name||``,r=t.isGroup?t.groupName:t.crew?.crewBlueprint?.name||``;return n.localeCompare(r)}),i},f=e=>{let t=`SYMBIONT.A55_.AMPHI_.ASSAULT_.ATOMR_.ATOM_.BATTLETOG2_.BATTLETOG_.BUTLER_.COMBAT_1_.COMBAT_2_.COMBAT_CONSERVATIVE_.DEFENSE_TRINITY_.DOCTOR_.FOREMAN_.GANA_.GRAZIER_.GUARDIAN_1_.GUARDIAN_2_.HELLRAISER_.HOLODRONE_.LOOT_AUTO_1_.LOOT_ESTATE_1_.LOOT_SEPARATIST_1_.PEST_.RECON_.ROOMBA_.SURGEON_.YINYANG_`.split(`.`),n={},r=[];e.forEach(e=>{let i=e?.droneBlueprint;if(!i?.name){r.push(e);return}let a=t.find(e=>i.name.startsWith(e));if(a){let t=i.name.includes(`_CHAOS`)||i.name.includes(`_PLAYER`)?`${a}_VARIANT`:a;n[t]||(n[t]=[]),n[t].push(e)}else{let t=i.name.match(/^(.+)_AMP\d+$/);if(t){let r=t[1];n[r]||(n[r]=[]),n[r].push(e)}else r.push(e)}});let i=[];for(let[e,t]of Object.entries(n))if(t.length>1){let n=t.sort((e,t)=>{let n=e?.droneBlueprint,r=t?.droneBlueprint,i=O(n?.name,`drones`),a=O(r?.name,`drones`);return i===a?(n?.title||n?.name||``).localeCompare(r?.title||r?.name||``):a-i}),r=n[0]?.droneBlueprint?.title||e;i.push({isGroup:!0,groupName:r,versions:n,currentIndex:se.value[r]||0})}else r.push(t[0]);return r.forEach(e=>{i.push({isGroup:!1,drone:e})}),i.sort((e,t)=>{let n=e.isGroup?e.groupName:e.drone?.droneBlueprint?.title||e.drone?.droneBlueprint?.name||``,r=t.isGroup?t.groupName:t.drone?.droneBlueprint?.title||t.drone?.droneBlueprint?.name||``;return n.localeCompare(r)}),i},p=u((T.value.weapons||[]).filter(n=>{let o=n?.weaponBlueprint;return a(o?.desc,o?.name,o?.tooltip)||!i(o?.name)||o?.name&&o.name.includes(`DRONE_`)&&!e.includes(`drone`)||!re.value&&o?.name&&(o.name.includes(`ARTILLERY`)&&o.name!==`BA_LASER_ARTILLERY_2`||o.name.includes(`ARBITER`))?!1:(!e||t(o?.name)||t(o?.title)||t(o?.type))&&r(o?.type)}));return H.value&&(p=p.sort((e,t)=>{let n,r;return n=e.isGroup?Math.max(...e.versions.map(e=>parseFloat(e?.weaponBlueprint?.[H.value])||0)):parseFloat(e?.weapon?.weaponBlueprint?.[H.value])||0,r=t.isGroup?Math.max(...t.versions.map(e=>parseFloat(e?.weaponBlueprint?.[H.value])||0)):parseFloat(t?.weapon?.weaponBlueprint?.[H.value])||0,r-n})),{weapons:p,crew:d((T.value.crew||[]).filter(n=>{let r=n?.crewBlueprint;if(a(r?.desc,r?.name)||!i(r?.name)||s(r?.name)&&!e||r?.cost&&parseInt(r.cost)>=1e4&&!e)return!1;let o=!e||t(r?.name)||t(r?.race),c=r?.name?.startsWith(`unique_`),l=!B.value||B.value===`unique`&&c||B.value===`non-unique`&&!c;return o&&l})),augments:l((T.value.augments||[]).filter(r=>{let s=r?.augBlueprint;return a(s?.desc,s?.name)||!i(s?.name)||!ne.value&&o(s?.name)?!1:(!e||t(s?.name)||t(s?.title))&&n(s?.rarity)})),drones:f((T.value.drones||[]).filter(n=>{let o=n?.droneBlueprint;if(a(o?.desc,o?.name)||!i(o?.name))return!1;let s=parseInt(o?.cost);return!isNaN(s)&&s>1e3?!1:(!e||t(o?.name)||t(o?.title)||t(o?.type))&&r(o?.type)})),ships:(T.value.ships||[]).filter(n=>{let r=n?.shipBlueprint;if(!r||!i(r?._id||r?.name))return!1;if(ie.value){let e=r?._id||r?.name;if(!e||!e.startsWith(`PLAYER_SHIP`))return!1}return!e||t(r?._id)||t(r?.name)||t(r?.class)}),systems:(T.value.systems||[]).filter(n=>{let r=n?.systemBlueprint;return!r||!i(r?.name)?!1:!e||t(r?.name)||t(r?.title)||t(r?.desc)})}}),Te=C(()=>{if(L.value===`augments`){let e=new Set;return T.value.augments?.forEach(t=>{let n=t?.augBlueprint?.rarity;n&&e.add(n.toString())}),{type:`rarity`,options:Array.from(e).sort((e,t)=>parseInt(e)-parseInt(t)).map(e=>({value:e,label:`Rarity ${e}`}))}}else if(L.value===`weapons`){let e=new Set;return T.value.weapons?.forEach(t=>{let n=t?.weaponBlueprint?.type;n&&e.add(n)}),{type:`type`,options:Array.from(e).sort().map(e=>({value:e,label:e}))}}else if(L.value===`crew`)return{type:`type`,options:[{value:`unique`,label:`Unique Crew Only`},{value:`non-unique`,label:`Non-Unique Crew Only`}]};else if(L.value===`drones`){let e=new Set;return T.value.drones?.forEach(t=>{let n=t?.droneBlueprint?.type;n&&e.add(n)}),{type:`type`,options:Array.from(e).sort().map(e=>({value:e,label:e}))}}return{type:null,options:[]}}),Ee=C(()=>L.value===`weapons`?[{value:`hullDPSMax`,label:`Hull DPS (High to Low)`},{value:`crewDPSMax`,label:`Crew DPS (High to Low)`},{value:`sysDPSMax`,label:`System DPS (High to Low)`},{value:`ionDPSMax`,label:`Ion DPS (High to Low)`}]:[]);s(L,()=>{z.value=``,B.value=``,H.value=``});function De(e){return e?.replace(/_/g,` `)||`Unknown`}function Z(e){return e.replace(/_/g,` `).replace(/SECTOR /g,``)}function Q(e){m.push({path:`/sectors`,query:{search:e}})}function $(e,t){let n=D(e,t);return n.length<=4?{sectors:n,hasMore:!1,remaining:0}:{sectors:n.slice(0,4),hasMore:!0,remaining:n.length-4}}function Oe(e){return e?e.name?.startsWith(`unique_`)?e.name.substring(7).split(`_`).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(` `):e.name?.toLowerCase().startsWith(`gb`)?e.name.substring(2).split(`_`).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(` `):e.title||De(e.name):`Unknown`}function Ae(e){if(!e?.powerList)return[];let t=e.powerList;if(t.power){if(Array.isArray(t.power))return t.power;if(typeof t.power==`string`)return[t.power]}return[]}function je(e,t=null){ce.value=e,le.value=t}function Me(e){if(!le.value)return;let{versions:t,groupName:n}=le.value,r=(oe.value[n]||0)+e;r<0&&(r=t.length-1),r>=t.length&&(r=0),oe.value[n]=r,ce.value=t[r]}function Ne(e,t=null){de.value=e,W.value=t}function Pe(e){if(!W.value)return;let{versions:t,groupName:n}=W.value,r=(U.value[n]||0)+e;r<0&&(r=t.length-1),r>=t.length&&(r=0),U.value[n]=r,de.value=t[r]}function Fe(e,t=null){G.value=e,K.value=t}function Ie(e){if(!K.value)return;let{versions:t,groupName:n}=K.value,r=(se.value[n]||0)+e;r<0&&(r=t.length-1),r>=t.length&&(r=0),se.value[n]=r,G.value=t[r]}function Le(e,t=null){Y.value=e,_e.value=t}function Re(e){q.value=e}function ze(e){ye.value=e}function Be(e){let t=T.value.crew?.find(t=>t?.crewBlueprint?.name===e);t&&(J.value=q.value,q.value=null,de.value=t,W.value=null)}function Ve(e){let t=T.value.weapons?.find(t=>t?.weaponBlueprint?.name===e);t&&(J.value=q.value,q.value=null,ce.value=t,le.value=null)}function He(e){let t=T.value.drones?.find(t=>t?.droneBlueprint?.name===e);t&&(J.value=q.value,q.value=null,G.value=t,K.value=null)}function Ue(e){let t=T.value.augments?.find(t=>t?.augBlueprint?.name===e);t&&(J.value=q.value,q.value=null,Y.value=t,_e.value=null)}function We(e){let t=T.value.systems?.find(t=>t?.systemBlueprint?.name===e);t&&(J.value=q.value,q.value=null,ye.value=t)}function Ge(e,t){let n=we.value.augments.find(t=>t.isGroup&&t.baseName===e);if(!n)return;let r=(ae.value[e]||0)+t;r<0&&(r=n.versions.length-1),r>=n.versions.length&&(r=0),ae.value[e]=r}function Ke(e,t){let n=we.value.weapons.find(t=>t.isGroup&&t.groupName===e);if(!n)return;let r=(oe.value[e]||0)+t;r<0&&(r=n.versions.length-1),r>=n.versions.length&&(r=0),oe.value[e]=r}function qe(e,t){let n=we.value.drones.find(t=>t.isGroup&&t.groupName===e);if(!n)return;let r=(se.value[e]||0)+t;r<0&&(r=n.versions.length-1),r>=n.versions.length&&(r=0),se.value[e]=r}function Je(e,t){let n=we.value.crew.find(t=>t.isGroup&&t.groupName===e);if(!n)return;let r=(U.value[e]||0)+t;r<0&&(r=n.versions.length-1),r>=n.versions.length&&(r=0),U.value[e]=r}return(t,n)=>(A(),k(`div`,null,[n[24]||=v(`h2`,{class:`text-3xl font-bold mb-6`},`Blueprints`,-1),a(y)?(A(),_(tn,{key:0,message:`Loading blueprints data...`})):a(w)?(A(),_(sn,{key:1,error:a(w)},null,8,[`error`])):(A(),k(`div`,_u,[v(`div`,vu,[(A(),k(g,null,u(X,e=>v(`button`,{key:e.id,onClick:t=>L.value=e.id,class:o([`px-6 py-3 font-semibold transition-colors relative`,L.value===e.id?`text-blue-400`:`text-gray-400 hover:text-gray-300`])},[p(i(e.name)+` `,1),L.value===e.id?(A(),k(`span`,bu)):d(``,!0)],10,yu)),64))]),v(`div`,xu,[v(`p`,Su,[p(` Total `+i(L.value)+`: `,1),v(`span`,Cu,i(we.value[L.value]?.length||0),1),R.value||V.value||z.value||B.value?(A(),k(`span`,wu,` (filtered from `+i(a(T)[L.value]?.length||0)+`) `,1)):d(``,!0)])]),v(`div`,Tu,[v(`div`,Eu,[j(ke,{modelValue:R.value,"onUpdate:modelValue":n[0]||=e=>R.value=e,placeholder:`Search blueprints...`},null,8,[`modelValue`])]),Te.value.type===`rarity`?(A(),k(`div`,Du,[j(gu,{modelValue:z.value,"onUpdate:modelValue":n[1]||=e=>z.value=e,label:`Rarity`,options:Te.value.options},null,8,[`modelValue`,`options`])])):d(``,!0),Te.value.type===`type`?(A(),k(`div`,Ou,[j(gu,{modelValue:B.value,"onUpdate:modelValue":n[2]||=e=>B.value=e,label:L.value===`crew`?`Availability`:`Type`,options:Te.value.options},null,8,[`modelValue`,`label`,`options`])])):d(``,!0),Ee.value.length>0?(A(),k(`div`,ku,[j(gu,{modelValue:H.value,"onUpdate:modelValue":n[3]||=e=>H.value=e,label:`Sort By`,options:Ee.value},null,8,[`modelValue`,`options`])])):d(``,!0),L.value===`augments`?(A(),k(`div`,Au,[e(v(`input`,{type:`checkbox`,id:`showTaskAugments`,"onUpdate:modelValue":n[4]||=e=>ne.value=e,class:`w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500`},null,512),[[S,ne.value]]),n[13]||=v(`label`,{for:`showTaskAugments`,class:`text-sm text-gray-300 cursor-pointer`},` Show task augments `,-1)])):d(``,!0),L.value===`weapons`?(A(),k(`div`,ju,[e(v(`input`,{type:`checkbox`,id:`showArtilleryWeapons`,"onUpdate:modelValue":n[5]||=e=>re.value=e,class:`w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500`},null,512),[[S,re.value]]),n[14]||=v(`label`,{for:`showArtilleryWeapons`,class:`text-sm text-gray-300 cursor-pointer`},` Show artillery weapons `,-1)])):d(``,!0),L.value===`ships`?(A(),k(`div`,Mu,[e(v(`input`,{type:`checkbox`,id:`showPlayerShipsOnly`,"onUpdate:modelValue":n[6]||=e=>ie.value=e,class:`w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500`},null,512),[[S,ie.value]]),n[15]||=v(`label`,{for:`showPlayerShipsOnly`,class:`text-sm text-gray-300 cursor-pointer`},` Player ships only `,-1)])):d(``,!0)]),L.value===`weapons`?(A(),k(`div`,Nu,[(A(!0),k(g,null,u(we.value.weapons,(e,t)=>(A(),k(g,{key:t},[e.isGroup?(A(),k(`div`,{key:0,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer relative`,onClick:t=>je(e.versions[e.currentIndex],{versions:e.versions,groupName:e.groupName})},[e.versions.length>1?(A(),k(`div`,Fu,[v(`button`,{onClick:h(t=>Ke(e.groupName,-1),[`stop`]),class:`w-7 h-7 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-sm`,title:`Previous version`},` ‹ `,8,Iu),v(`span`,Lu,i(e.currentIndex+1)+`/`+i(e.versions.length),1),v(`button`,{onClick:h(t=>Ke(e.groupName,1),[`stop`]),class:`w-7 h-7 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-sm`,title:`Next version`},` › `,8,Ru)])):d(``,!0),e.versions[e.currentIndex]?.weaponBlueprint?(A(),k(g,{key:1},[v(`div`,zu,[v(`canvas`,{width:`40`,height:`40`,class:`weapon-thumbnail flex-shrink-0`,ref_for:!0,ref:t=>t&&a(F)(e.versions[e.currentIndex].weaponBlueprint,t,40)},null,512),v(`h3`,Bu,[e.versions[e.currentIndex].weaponBlueprint?.name?.startsWith(`GATLING`)?(A(),k(`span`,Vu,`⭐`)):d(``,!0),e.versions[e.currentIndex].weaponBlueprint?.name?.includes(`ANCIENT`)||e.versions[e.currentIndex].weaponBlueprint?.name?.includes(`ROYAL`)?(A(),k(`span`,Hu,`🗿`)):d(``,!0),e.versions[e.currentIndex].weaponBlueprint?.name?.startsWith(`LOOT_`)?(A(),k(`span`,Uu,`💰`)):d(``,!0),e.versions[e.currentIndex].weaponBlueprint?.name?.includes(`CHAOS`)?(A(),k(`span`,Wu,`🤯`)):d(``,!0),p(i(e.versions[e.currentIndex].weaponBlueprint?.title||De(e.versions[e.currentIndex].weaponBlueprint?.name)),1)])]),v(`div`,Gu,[e.versions[e.currentIndex].weaponBlueprint?.name?(A(),k(`div`,Ku,i(e.versions[e.currentIndex].weaponBlueprint.name),1)):d(``,!0),e.versions[e.currentIndex].weaponBlueprint?.type?(A(),k(`div`,qu,`Type: `+i(e.versions[e.currentIndex].weaponBlueprint.type),1)):d(``,!0),e.versions[e.currentIndex].weaponBlueprint?.power?(A(),k(`div`,Ju,`Power: `+i(e.versions[e.currentIndex].weaponBlueprint.power),1)):d(``,!0),e.versions[e.currentIndex].weaponBlueprint?.damage?(A(),k(`div`,Yu,`Damage: `+i(e.versions[e.currentIndex].weaponBlueprint.damage),1)):d(``,!0),e.versions[e.currentIndex].weaponBlueprint?.cost?(A(),k(`div`,Xu,`Cost: `+i(e.versions[e.currentIndex].weaponBlueprint.cost),1)):d(``,!0),e.versions[e.currentIndex].weaponBlueprint?.name?(A(),k(`div`,Zu,[v(`div`,Qu,` Found in `+i(a(O)(e.versions[e.currentIndex].weaponBlueprint.name,`weapons`))+` sector(s) `,1),v(`div`,$u,[$(e.versions[e.currentIndex].weaponBlueprint.name,`weapons`).hasMore?(A(),k(g,{key:0},[(A(!0),k(g,null,u($(e.versions[e.currentIndex].weaponBlueprint.name,`weapons`).sectors,e=>(A(),k(`button`,{key:e,onClick:h(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,ed))),128)),v(`span`,td,`and `+i($(e.versions[e.currentIndex].weaponBlueprint.name,`weapons`).remaining)+` more`,1)],64)):(A(!0),k(g,{key:1},u($(e.versions[e.currentIndex].weaponBlueprint.name,`weapons`).sectors,e=>(A(),k(`button`,{key:e,onClick:h(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,nd))),128))])])):d(``,!0)])],64)):d(``,!0)],8,Pu)):e.weapon?.weaponBlueprint?(A(),k(`div`,{key:1,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer`,onClick:t=>je(e.weapon)},[v(`div`,id,[v(`canvas`,{width:`40`,height:`40`,class:`weapon-thumbnail flex-shrink-0`,ref_for:!0,ref:t=>a(F)(e.weapon.weaponBlueprint,t,40)},null,512),v(`h3`,ad,[e.weapon.weaponBlueprint?.name?.startsWith(`GATLING`)?(A(),k(`span`,od,`⭐`)):d(``,!0),e.weapon.weaponBlueprint?.name?.includes(`ANCIENT`)||e.weapon.weaponBlueprint?.name?.includes(`ROYAL`)?(A(),k(`span`,sd,`🗿`)):d(``,!0),e.weapon.weaponBlueprint?.name?.startsWith(`LOOT_`)?(A(),k(`span`,cd,`💰`)):d(``,!0),e.weapon.weaponBlueprint?.name?.includes(`CHAOS`)?(A(),k(`span`,ld,`🤯`)):d(``,!0),p(i(e.weapon.weaponBlueprint?.title||De(e.weapon.weaponBlueprint?.name)),1)])]),v(`div`,ud,[e.weapon.weaponBlueprint?.name?(A(),k(`div`,dd,i(e.weapon.weaponBlueprint.name),1)):d(``,!0),e.weapon.weaponBlueprint?.type?(A(),k(`div`,fd,`Type: `+i(e.weapon.weaponBlueprint.type),1)):d(``,!0),e.weapon.weaponBlueprint?.power?(A(),k(`div`,pd,`Power: `+i(e.weapon.weaponBlueprint.power),1)):d(``,!0),e.weapon.weaponBlueprint?.damage?(A(),k(`div`,md,`Damage: `+i(e.weapon.weaponBlueprint.damage),1)):d(``,!0),e.weapon.weaponBlueprint?.cost?(A(),k(`div`,hd,`Cost: `+i(e.weapon.weaponBlueprint.cost),1)):d(``,!0),e.weapon.weaponBlueprint?.name?(A(),k(`div`,gd,[v(`div`,_d,` Found in `+i(a(O)(e.weapon.weaponBlueprint.name,`weapons`))+` sector(s) `,1),v(`div`,vd,[$(e.weapon.weaponBlueprint.name,`weapons`).hasMore?(A(),k(g,{key:0},[(A(!0),k(g,null,u($(e.weapon.weaponBlueprint.name,`weapons`).sectors,e=>(A(),k(`button`,{key:e,onClick:h(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,yd))),128)),v(`span`,bd,`and `+i($(e.weapon.weaponBlueprint.name,`weapons`).remaining)+` more`,1)],64)):(A(!0),k(g,{key:1},u($(e.weapon.weaponBlueprint.name,`weapons`).sectors,e=>(A(),k(`button`,{key:e,onClick:h(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,xd))),128))])])):d(``,!0)])],8,rd)):d(``,!0)],64))),128))])):d(``,!0),L.value===`crew`?(A(),k(`div`,Sd,[(A(!0),k(g,null,u(we.value.crew,(e,t)=>(A(),k(g,{key:t},[e.isGroup?(A(),k(`div`,{key:0,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer relative`,onClick:t=>Ne(e.versions[e.currentIndex],{versions:e.versions,groupName:e.groupName})},[v(`div`,wd,[v(`button`,{onClick:h(t=>Je(e.groupName,-1),[`stop`]),class:`w-7 h-7 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-sm`,title:`Previous version`},` ‹ `,8,Td),v(`span`,Ed,i(e.currentIndex+1)+`/`+i(e.versions.length),1),v(`button`,{onClick:h(t=>Je(e.groupName,1),[`stop`]),class:`w-7 h-7 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-sm`,title:`Next version`},` › `,8,Dd)]),e.versions[e.currentIndex]?.crewBlueprint?(A(),k(g,{key:0},[v(`div`,Od,[a(P)(e.versions[e.currentIndex].crewBlueprint).backgroundImage?(A(),k(`div`,{key:0,class:`flex-shrink-0`,style:c(a(P)(e.versions[e.currentIndex].crewBlueprint))},null,4)):d(``,!0),v(`h3`,kd,[e.versions[e.currentIndex].crewBlueprint?.name?.startsWith(`unique_`)?(A(),k(`span`,Ad,`⭐`)):d(``,!0),e.versions[e.currentIndex].crewBlueprint?.name?.toUpperCase().includes(`CHAOS`)?(A(),k(`span`,jd,`🤯`)):d(``,!0),p(i(Oe(e.versions[e.currentIndex].crewBlueprint)),1)])]),v(`div`,Md,[e.versions[e.currentIndex].crewBlueprint?.name?(A(),k(`div`,Nd,i(e.versions[e.currentIndex].crewBlueprint.name),1)):d(``,!0),e.versions[e.currentIndex].crewBlueprint?.desc?(A(),k(`div`,Pd,i(e.versions[e.currentIndex].crewBlueprint.desc),1)):d(``,!0),Ae(e.versions[e.currentIndex].crewBlueprint).length>0?(A(),k(`div`,Fd,[n[16]||=v(`div`,{class:`font-semibold text-gray-200 mb-1`},`Powers:`,-1),v(`ul`,Id,[(A(!0),k(g,null,u(Ae(e.versions[e.currentIndex].crewBlueprint),(e,t)=>(A(),k(`li`,{key:t},i(e),1))),128))])])):d(``,!0),e.versions[e.currentIndex].crewBlueprint?.cost?(A(),k(`div`,Ld,` Cost: `+i(e.versions[e.currentIndex].crewBlueprint.cost),1)):d(``,!0),e.versions[e.currentIndex].crewBlueprint?.name?(A(),k(`div`,Rd,[v(`div`,zd,` Found in `+i(a(O)(e.versions[e.currentIndex].crewBlueprint.name,`crew`))+` sector(s) `,1),v(`div`,Bd,[$(e.versions[e.currentIndex].crewBlueprint.name,`crew`).hasMore?(A(),k(g,{key:0},[(A(!0),k(g,null,u($(e.versions[e.currentIndex].crewBlueprint.name,`crew`).sectors,e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,Vd))),128)),v(`span`,Hd,`and `+i($(e.versions[e.currentIndex].crewBlueprint.name,`crew`).remaining)+` more`,1)],64)):(A(!0),k(g,{key:1},u($(e.versions[e.currentIndex].crewBlueprint.name,`crew`).sectors,e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,Ud))),128))])])):d(``,!0)])],64)):d(``,!0)],8,Cd)):e.crew?.crewBlueprint?(A(),k(`div`,{key:1,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer`,onClick:t=>Ne(e.crew)},[v(`div`,Gd,[a(P)(e.crew.crewBlueprint).backgroundImage?(A(),k(`div`,{key:0,class:`flex-shrink-0`,style:c(a(P)(e.crew.crewBlueprint))},null,4)):d(``,!0),v(`h3`,Kd,[e.crew.crewBlueprint?.name?.startsWith(`unique_`)?(A(),k(`span`,qd,`⭐`)):d(``,!0),e.crew.crewBlueprint?.name?.toUpperCase().includes(`CHAOS`)?(A(),k(`span`,Jd,`🤯`)):d(``,!0),p(i(Oe(e.crew.crewBlueprint)),1)])]),v(`div`,Yd,[e.crew.crewBlueprint?.name?(A(),k(`div`,Xd,i(e.crew.crewBlueprint.name),1)):d(``,!0),e.crew.crewBlueprint?.desc?(A(),k(`div`,Zd,i(e.crew.crewBlueprint.desc),1)):d(``,!0),Ae(e.crew.crewBlueprint).length>0?(A(),k(`div`,Qd,[n[17]||=v(`div`,{class:`font-semibold text-gray-200 mb-1`},`Powers:`,-1),v(`ul`,$d,[(A(!0),k(g,null,u(Ae(e.crew.crewBlueprint),(e,t)=>(A(),k(`li`,{key:t},i(e),1))),128))])])):d(``,!0),e.crew.crewBlueprint?.cost?(A(),k(`div`,ef,`Cost: `+i(e.crew.crewBlueprint.cost),1)):d(``,!0),e.crew.crewBlueprint?.name?(A(),k(`div`,tf,[v(`div`,nf,` Found in `+i(a(O)(e.crew.crewBlueprint.name,`crew`))+` sector(s) `,1),v(`div`,rf,[$(e.crew.crewBlueprint.name,`crew`).hasMore?(A(),k(g,{key:0},[(A(!0),k(g,null,u($(e.crew.crewBlueprint.name,`crew`).sectors,e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,af))),128)),v(`span`,of,`and `+i($(e.crew.crewBlueprint.name,`crew`).remaining)+` more`,1)],64)):(A(!0),k(g,{key:1},u($(e.crew.crewBlueprint.name,`crew`).sectors,e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,sf))),128))])])):d(``,!0)])],8,Wd)):d(``,!0)],64))),128))])):d(``,!0),L.value===`augments`?(A(),k(`div`,cf,[(A(!0),k(g,null,u(we.value.augments,(e,t)=>(A(),k(g,{key:t},[e.isGroup?(A(),k(`div`,{key:0,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors relative cursor-pointer`,onClick:t=>Le(e.versions[e.currentIndex],{versions:e.versions,groupName:e.baseName})},[e.versions.length>1?(A(),k(`div`,uf,[v(`button`,{onClick:h(t=>Ge(e.baseName,-1),[`stop`]),class:`w-7 h-7 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-sm`,title:`Previous version`},` ‹ `,8,df),v(`span`,ff,i(e.currentIndex+1)+`/`+i(e.versions.length),1),v(`button`,{onClick:h(t=>Ge(e.baseName,1),[`stop`]),class:`w-7 h-7 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-sm`,title:`Next version`},` › `,8,pf)])):d(``,!0),e.versions[e.currentIndex]?.augBlueprint?(A(),k(g,{key:1},[v(`h3`,mf,[e.versions[e.currentIndex].augBlueprint?.name?.startsWith(`LOCKED_`)?(A(),k(`span`,hf,`🔒`)):d(``,!0),e.versions[e.currentIndex].augBlueprint?.name?.includes(`PREIGNITE`)?(A(),k(`span`,gf,`⭐`)):d(``,!0),e.versions[e.currentIndex].augBlueprint?.name?.includes(`ANCIENT`)||e.versions[e.currentIndex].augBlueprint?.name?.includes(`ROYAL`)?(A(),k(`span`,_f,`🗿`)):d(``,!0),e.versions[e.currentIndex].augBlueprint?.name?.includes(`CHAOS`)?(A(),k(`span`,vf,`🤯`)):d(``,!0),p(i(e.versions[e.currentIndex].augBlueprint?.title||De(e.versions[e.currentIndex].augBlueprint?.name)),1)]),v(`div`,yf,[e.versions[e.currentIndex].augBlueprint?.name?(A(),k(`div`,bf,i(e.versions[e.currentIndex].augBlueprint.name),1)):d(``,!0),e.versions[e.currentIndex].augBlueprint?.desc?(A(),k(`div`,xf,i(typeof e.versions[e.currentIndex].augBlueprint.desc==`string`?e.versions[e.currentIndex].augBlueprint.desc:e.versions[e.currentIndex].augBlueprint.desc.text),1)):d(``,!0),e.versions[e.currentIndex].augBlueprint?.cost?(A(),k(`div`,Sf,` Cost: `+i(e.versions[e.currentIndex].augBlueprint.cost),1)):d(``,!0),e.versions[e.currentIndex].augBlueprint?.rarity?(A(),k(`div`,Cf,` Rarity: `+i(e.versions[e.currentIndex].augBlueprint.rarity),1)):d(``,!0),e.versions[e.currentIndex].augBlueprint?.stackable?(A(),k(`div`,wf,[n[18]||=p(` Stackable: `,-1),v(`span`,{class:o(e.versions[e.currentIndex].augBlueprint.stackable===`true`?`text-green-400`:`text-red-400`)},i(e.versions[e.currentIndex].augBlueprint.stackable===`true`?`Yes`:`No`),3)])):d(``,!0),e.versions[e.currentIndex].augBlueprint?.name?(A(),k(`div`,Tf,[v(`div`,Ef,` Found in `+i(a(O)(e.versions[e.currentIndex].augBlueprint.name,`augments`))+` sector(s) `,1),v(`div`,Df,[$(e.versions[e.currentIndex].augBlueprint.name,`augments`).hasMore?(A(),k(g,{key:0},[(A(!0),k(g,null,u($(e.versions[e.currentIndex].augBlueprint.name,`augments`).sectors,e=>(A(),k(`button`,{key:e,onClick:h(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,Of))),128)),v(`span`,kf,`and `+i($(e.versions[e.currentIndex].augBlueprint.name,`augments`).remaining)+` more`,1)],64)):(A(!0),k(g,{key:1},u($(e.versions[e.currentIndex].augBlueprint.name,`augments`).sectors,e=>(A(),k(`button`,{key:e,onClick:h(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,Af))),128))])])):d(``,!0)])],64)):d(``,!0)],8,lf)):e.augment?.augBlueprint?(A(),k(`div`,{key:1,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer`,onClick:t=>Le(e.augment)},[v(`h3`,Mf,[e.augment.augBlueprint?.name?.startsWith(`LOCKED_`)?(A(),k(`span`,Nf,`🔒`)):d(``,!0),e.augment.augBlueprint?.name?.includes(`PREIGNITE`)?(A(),k(`span`,Pf,`⭐`)):d(``,!0),e.augment.augBlueprint?.name?.includes(`ANCIENT`)||e.augment.augBlueprint?.name?.includes(`ROYAL`)?(A(),k(`span`,Ff,`🗿`)):d(``,!0),e.augment.augBlueprint?.name?.includes(`CHAOS`)?(A(),k(`span`,If,`🤯`)):d(``,!0),p(i(e.augment.augBlueprint?.title||De(e.augment.augBlueprint?.name)),1)]),v(`div`,Lf,[e.augment.augBlueprint?.name?(A(),k(`div`,Rf,i(e.augment.augBlueprint.name),1)):d(``,!0),e.augment.augBlueprint?.desc?(A(),k(`div`,zf,i(typeof e.augment.augBlueprint.desc==`string`?e.augment.augBlueprint.desc:e.augment.augBlueprint.desc.text),1)):d(``,!0),e.augment.augBlueprint?.cost?(A(),k(`div`,Bf,`Cost: `+i(e.augment.augBlueprint.cost),1)):d(``,!0),e.augment.augBlueprint?.rarity?(A(),k(`div`,Vf,`Rarity: `+i(e.augment.augBlueprint.rarity),1)):d(``,!0),e.augment.augBlueprint?.stackable?(A(),k(`div`,Hf,[n[19]||=p(` Stackable: `,-1),v(`span`,{class:o(e.augment.augBlueprint.stackable===`true`?`text-green-400`:`text-red-400`)},i(e.augment.augBlueprint.stackable===`true`?`Yes`:`No`),3)])):d(``,!0),e.augment.augBlueprint?.name?(A(),k(`div`,Uf,[v(`div`,Wf,` Found in `+i(a(O)(e.augment.augBlueprint.name,`augments`))+` sector(s) `,1),v(`div`,Gf,[$(e.augment.augBlueprint.name,`augments`).hasMore?(A(),k(g,{key:0},[(A(!0),k(g,null,u($(e.augment.augBlueprint.name,`augments`).sectors,e=>(A(),k(`button`,{key:e,onClick:h(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,Kf))),128)),v(`span`,qf,`and `+i($(e.augment.augBlueprint.name,`augments`).remaining)+` more`,1)],64)):(A(!0),k(g,{key:1},u($(e.augment.augBlueprint.name,`augments`).sectors,e=>(A(),k(`button`,{key:e,onClick:h(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,Jf))),128))])])):d(``,!0)])],8,jf)):d(``,!0)],64))),128))])):d(``,!0),L.value===`drones`?(A(),k(`div`,Yf,[(A(!0),k(g,null,u(we.value.drones,(e,t)=>(A(),k(g,{key:t},[e.isGroup?(A(),k(`div`,{key:0,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors relative cursor-pointer`,onClick:t=>Fe(e.versions[e.currentIndex],{versions:e.versions,groupName:e.groupName})},[v(`div`,Zf,[v(`button`,{onClick:h(t=>qe(e.groupName,-1),[`stop`]),class:`px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs`,title:`Previous version`},` ‹ `,8,Qf),v(`span`,$f,i(e.currentIndex+1)+`/`+i(e.versions.length),1),v(`button`,{onClick:h(t=>qe(e.groupName,1),[`stop`]),class:`px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs`,title:`Next version`},` › `,8,ep)]),e.versions[e.currentIndex]?.droneBlueprint?(A(),k(g,{key:0},[v(`div`,tp,[v(`canvas`,{width:`40`,height:`40`,class:`drone-thumbnail flex-shrink-0`,ref_for:!0,ref:t=>t&&a(I)(e.versions[e.currentIndex].droneBlueprint,t,40)},null,512),v(`h3`,np,[e.versions[e.currentIndex].droneBlueprint?.name?.startsWith(`A55_`)?(A(),k(`span`,rp,`⭐`)):d(``,!0),e.versions[e.currentIndex].droneBlueprint?.name?.includes(`ANCIENT`)||e.versions[e.currentIndex].droneBlueprint?.name?.includes(`ROYAL`)||e.versions[e.currentIndex].droneBlueprint?.title?.toUpperCase().includes(`ANCIENT`)||e.versions[e.currentIndex].droneBlueprint?.title?.toUpperCase().includes(`ROYAL`)?(A(),k(`span`,ip,`🗿`)):d(``,!0),e.versions[e.currentIndex].droneBlueprint?.name?.startsWith(`LOOT_`)?(A(),k(`span`,ap,`💰`)):d(``,!0),e.versions[e.currentIndex].droneBlueprint?.name?.includes(`CHAOS`)?(A(),k(`span`,op,`🤯`)):d(``,!0),p(i(e.versions[e.currentIndex].droneBlueprint?.title||De(e.versions[e.currentIndex].droneBlueprint?.name)),1)])]),v(`div`,sp,[e.versions[e.currentIndex].droneBlueprint?.name?(A(),k(`div`,cp,i(e.versions[e.currentIndex].droneBlueprint.name),1)):d(``,!0),e.versions[e.currentIndex].droneBlueprint?.type?(A(),k(`div`,lp,`Type: `+i(e.versions[e.currentIndex].droneBlueprint.type),1)):d(``,!0),e.versions[e.currentIndex].droneBlueprint?.power?(A(),k(`div`,up,`Power: `+i(e.versions[e.currentIndex].droneBlueprint.power),1)):d(``,!0),e.versions[e.currentIndex].droneBlueprint?.cost?(A(),k(`div`,dp,`Cost: `+i(e.versions[e.currentIndex].droneBlueprint.cost),1)):d(``,!0),e.versions[e.currentIndex].droneBlueprint?.name?(A(),k(`div`,fp,[v(`div`,pp,` Found in `+i(a(O)(e.versions[e.currentIndex].droneBlueprint.name,`drones`))+` sector(s) `,1),v(`div`,mp,[$(e.versions[e.currentIndex].droneBlueprint.name,`drones`).hasMore?(A(),k(g,{key:0},[(A(!0),k(g,null,u($(e.versions[e.currentIndex].droneBlueprint.name,`drones`).sectors,e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,hp))),128)),v(`span`,gp,`and `+i($(e.versions[e.currentIndex].droneBlueprint.name,`drones`).remaining)+` more`,1)],64)):(A(!0),k(g,{key:1},u($(e.versions[e.currentIndex].droneBlueprint.name,`drones`).sectors,e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,_p))),128))])])):d(``,!0)])],64)):d(``,!0)],8,Xf)):e.drone?.droneBlueprint?(A(),k(`div`,{key:1,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer`,onClick:t=>Fe(e.drone)},[v(`div`,yp,[v(`canvas`,{width:`40`,height:`40`,class:`drone-thumbnail flex-shrink-0`,ref_for:!0,ref:t=>a(I)(e.drone.droneBlueprint,t,40)},null,512),v(`h3`,bp,[e.drone.droneBlueprint?.name?.startsWith(`A55_`)?(A(),k(`span`,xp,`⭐`)):d(``,!0),e.drone.droneBlueprint?.name?.includes(`ANCIENT`)||e.drone.droneBlueprint?.name?.includes(`ROYAL`)||e.drone.droneBlueprint?.title?.toUpperCase().includes(`ANCIENT`)||e.drone.droneBlueprint?.title?.toUpperCase().includes(`ROYAL`)?(A(),k(`span`,Sp,`🗿`)):d(``,!0),e.drone.droneBlueprint?.name?.startsWith(`LOOT_`)?(A(),k(`span`,Cp,`💰`)):d(``,!0),e.drone.droneBlueprint?.name?.includes(`CHAOS`)?(A(),k(`span`,wp,`🤯`)):d(``,!0),p(i(e.drone.droneBlueprint?.title||De(e.drone.droneBlueprint?.name)),1)])]),v(`div`,Tp,[e.drone.droneBlueprint?.name?(A(),k(`div`,Ep,i(e.drone.droneBlueprint.name),1)):d(``,!0),e.drone.droneBlueprint?.type?(A(),k(`div`,Dp,`Type: `+i(e.drone.droneBlueprint.type),1)):d(``,!0),e.drone.droneBlueprint?.power?(A(),k(`div`,Op,`Power: `+i(e.drone.droneBlueprint.power),1)):d(``,!0),e.drone.droneBlueprint?.cost?(A(),k(`div`,kp,`Cost: `+i(e.drone.droneBlueprint.cost),1)):d(``,!0),e.drone.droneBlueprint?.name?(A(),k(`div`,Ap,[v(`div`,jp,` Found in `+i(a(O)(e.drone.droneBlueprint.name,`drones`))+` sector(s) `,1),v(`div`,Mp,[$(e.drone.droneBlueprint.name,`drones`).hasMore?(A(),k(g,{key:0},[(A(!0),k(g,null,u($(e.drone.droneBlueprint.name,`drones`).sectors,e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,Np))),128)),v(`span`,Pp,`and `+i($(e.drone.droneBlueprint.name,`drones`).remaining)+` more`,1)],64)):(A(!0),k(g,{key:1},u($(e.drone.droneBlueprint.name,`drones`).sectors,e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,Fp))),128))])])):d(``,!0)])],8,vp)):d(``,!0)],64))),128))])):d(``,!0),L.value===`ships`?(A(),k(`div`,Ip,[(A(!0),k(g,null,u(we.value.ships,(e,t)=>(A(),k(`div`,{key:t,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer`,onClick:t=>Re(e)},[e?.shipBlueprint?(A(),k(g,{key:0},[v(`h3`,{class:`font-bold text-blue-400 mb-2 truncate`,title:e.shipBlueprint.class||e.shipBlueprint.name},i(e.shipBlueprint.class||e.shipBlueprint.name),9,Rp),v(`div`,zp,[v(`div`,{class:`text-xs text-gray-500 font-mono truncate`,title:e.shipBlueprint.name},i(e.shipBlueprint.name),9,Bp),e.shipBlueprint.health?.amount?(A(),k(`div`,Vp,[n[20]||=v(`span`,{class:`text-gray-500`},`Hull:`,-1),v(`span`,Hp,i(e.shipBlueprint.health.amount),1)])):d(``,!0),e.shipBlueprint.maxPower?.amount?(A(),k(`div`,Up,[n[21]||=v(`span`,{class:`text-gray-500`},`Reactor:`,-1),v(`span`,Wp,i(e.shipBlueprint.maxPower.amount),1)])):d(``,!0),e.shipBlueprint.weaponSlots?(A(),k(`div`,Gp,[n[22]||=v(`span`,{class:`text-gray-500`},`Weapon Slots:`,-1),v(`span`,Kp,i(e.shipBlueprint.weaponSlots),1)])):d(``,!0),e.shipBlueprint.droneSlots?(A(),k(`div`,qp,[n[23]||=v(`span`,{class:`text-gray-500`},`Drone Slots:`,-1),v(`span`,Jp,i(e.shipBlueprint.droneSlots),1)])):d(``,!0)])],64)):d(``,!0)],8,Lp))),128))])):d(``,!0),L.value===`systems`?(A(),k(`div`,Yp,[(A(!0),k(g,null,u(we.value.systems,(e,t)=>(A(),k(`div`,{key:t,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer`,onClick:t=>ze(e)},[e?.systemBlueprint?(A(),k(g,{key:0},[v(`h3`,Zp,i(e.systemBlueprint.title||e.systemBlueprint.name),1),v(`div`,Qp,[v(`div`,$p,i(e.systemBlueprint.name),1),e.systemBlueprint.desc?(A(),k(`div`,em,i(typeof e.systemBlueprint.desc==`string`?e.systemBlueprint.desc:e.systemBlueprint.desc.text),1)):d(``,!0)])],64)):d(``,!0)],8,Xp))),128))])):d(``,!0)])),ce.value?(A(),_(Rr,{key:3,weapon:ce.value,show:ue.value,versions:le.value?.versions||null,currentIndex:le.value&&oe.value[le.value.groupName]||0,onClose:n[7]||=e=>{ce.value=null,le.value=null,xe(),J.value&&=(q.value=J.value,null)},onNavigateSector:Q,onChangeVersion:Me},{sectors:x(()=>[v(`div`,tm,[(A(!0),k(g,null,u(a(D)(ce.value?.weaponBlueprint?.name,`weapons`),e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,nm))),128))])]),_:1},8,[`weapon`,`show`,`versions`,`currentIndex`])):d(``,!0),de.value?(A(),_(ui,{key:4,crew:de.value,show:pe.value,versions:W.value?.versions||null,currentIndex:W.value&&U.value[W.value.groupName]||0,onClose:n[8]||=e=>{de.value=null,W.value=null,xe(),J.value&&=(q.value=J.value,null)},onNavigateSector:Q,onChangeVersion:Pe},{sectors:x(()=>[v(`div`,rm,[(A(!0),k(g,null,u(a(D)(de.value?.crewBlueprint?.name,`crew`),e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,im))),128))])]),_:1},8,[`crew`,`show`,`versions`,`currentIndex`])):d(``,!0),G.value?(A(),_(ro,{key:5,drone:G.value,show:me.value,versions:K.value?.versions||[],"current-index":K.value&&se.value[K.value.groupName]||0,onClose:n[9]||=e=>{G.value=null,K.value=null,xe(),J.value&&=(q.value=J.value,null)},onNavigateSector:Q,onChangeVersion:Ie},{sectors:x(()=>[(A(!0),k(g,null,u(a(D)(G.value?.droneBlueprint?.name,`drones`),e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-sm px-3 py-1.5 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,am))),128))]),_:1},8,[`drone`,`show`,`versions`,`current-index`])):d(``,!0),q.value?(A(),_(Ws,{key:6,ship:q.value,show:he.value,blueprintArrays:a(T),onClose:n[10]||=e=>{q.value=null,xe()},onOpenCrew:Be,onOpenWeapon:Ve,onOpenDrone:He,onOpenAugment:Ue,onOpenSystem:We},null,8,[`ship`,`show`,`blueprintArrays`])):d(``,!0),Y.value?(A(),_(Co,{key:7,augment:Y.value,show:ve.value,onClose:n[11]||=e=>{Y.value=null,_e.value=null,xe(),J.value&&=(q.value=J.value,null)},onNavigateSector:Q},{sectors:x(()=>[v(`div`,om,[(A(!0),k(g,null,u(a(D)(Y.value?.augBlueprint?.name,`augments`),e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,sm))),128))])]),_:1},8,[`augment`,`show`])):d(``,!0),ye.value?(A(),_(mc,{key:8,system:ye.value,show:be.value,onClose:n[12]||=e=>{ye.value=null,xe()}},null,8,[`system`,`show`])):d(``,!0)]))}},lm={class:`min-h-screen flex items-center justify-center p-4`},um=[{path:`/`,redirect:`/sectors`},{path:`/sectors`,name:`Sectors`,component:du},{path:`/blueprints`,name:`Blueprints`,component:cm},{path:`/:pathMatch(.*)*`,name:`NotFound`,component:{__name:`NotFoundPage`,setup(e){let t=ee();function n(){t.push(`/sectors`)}function r(){t.push(`/blueprints`)}return(e,t)=>(A(),k(`div`,lm,[v(`div`,{class:`text-center max-w-2xl`},[t[0]||=v(`div`,{class:`text-9xl font-bold text-gray-700 mb-4`},`404`,-1),t[1]||=v(`h1`,{class:`text-4xl font-bold text-gray-100 mb-4`},`Page Not Found`,-1),t[2]||=v(`p`,{class:`text-xl text-gray-400 mb-8`},` The page you're looking for doesn't exist or has been moved. `,-1),v(`div`,{class:`flex gap-4 justify-center`},[v(`button`,{onClick:n,class:`px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-semibold`},` Go to Sectors `),v(`button`,{onClick:r,class:`px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors font-semibold`},` Browse Blueprints `)])])]))}}}],dm=E({history:y(),routes:um});m(B).use(dm).mount(`#app`);