import{A as e,C as t,D as n,E as r,M as i,N as a,O as o,P as s,S as c,T as l,_ as u,a as d,b as f,c as p,d as m,f as h,g,h as _,i as v,j as y,k as b,l as x,m as S,n as C,o as w,p as T,r as ee,s as te,t as E,u as D,v as O,w as k,x as ne,y as A}from"./vue-D0lcnYxZ.js";(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var j={class:`min-h-screen bg-gray-900 text-gray-100`},M={class:`bg-gray-800 border-b border-gray-700`},N={class:`container mx-auto px-4`},P={class:`flex items-center justify-between h-16`},F={class:`flex items-center gap-6`},I={class:`flex space-x-4`},L={class:`container mx-auto px-4 py-8`},R={__name:`App`,setup(e){return(e,n)=>(t(),O(`div`,j,[_(`nav`,M,[_(`div`,N,[_(`div`,P,[n[3]||=_(`h1`,{class:`text-xl font-bold text-blue-400`},`FTL Multiverse Data Browser`,-1),_(`div`,F,[_(`div`,I,[f(y(E),{to:`/sectors`,class:`px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors`,"active-class":`bg-blue-600`},{default:o(()=>[...n[0]||=[A(` Sectors `,-1)]]),_:1}),f(y(E),{to:`/blueprints`,class:`px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors`,"active-class":`bg-blue-600`},{default:o(()=>[...n[1]||=[A(` Blueprints `,-1)]]),_:1})]),n[2]||=_(`div`,{class:`text-sm text-gray-500`},[_(`kbd`,{class:`px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs`},`Ctrl+K`),A(` to search `)],-1)])])])]),_(`main`,L,[f(y(C))])]))}},z=`/data`,B={sectors:null,weapons:null,crew:null,augments:null,drones:null,blueprintLists:null,animations:null};async function V(){if(B.sectors)return B.sectors;try{let e=await fetch(`${z}/all_sector_descriptions_clean.json`);if(!e.ok)throw Error(`Failed to load sectors data`);return B.sectors=await e.json(),B.sectors}catch(e){throw console.error(`Error loading sectors:`,e),e}}async function re(){if(B.weapons)return B.weapons;try{let e=await fetch(`${z}/all_weaponBlueprints_plus.json`);if(!e.ok)throw Error(`Failed to load weapons data`);return B.weapons=await e.json(),B.weapons}catch(e){throw console.error(`Error loading weapons:`,e),e}}async function ie(){if(B.crew)return B.crew;try{let e=await fetch(`${z}/all_crewBlueprints_plus.json`);if(!e.ok)throw Error(`Failed to load crew data`);return B.crew=await e.json(),B.crew}catch(e){throw console.error(`Error loading crew:`,e),e}}async function ae(){if(B.augments)return B.augments;try{let e=await fetch(`${z}/all_augBlueprints.json`);if(!e.ok)throw Error(`Failed to load augments data`);return B.augments=await e.json(),B.augments}catch(e){throw console.error(`Error loading augments:`,e),e}}async function H(){if(B.drones)return B.drones;try{let e=await fetch(`${z}/all_droneBlueprints.json`);if(!e.ok)throw Error(`Failed to load drones data`);return B.drones=await e.json(),B.drones}catch(e){throw console.error(`Error loading drones:`,e),e}}async function oe(){if(B.blueprintLists)return B.blueprintLists;try{let e=await fetch(`${z}/all_blueprintLists.json`);if(!e.ok)throw Error(`Failed to load blueprint lists data`);return B.blueprintLists=await e.json(),B.blueprintLists}catch(e){throw console.error(`Error loading blueprint lists:`,e),e}}async function se(){if(B.animations)return B.animations;try{let e=await fetch(`${z}/all_animation_data.json`);if(!e.ok)throw Error(`Failed to load animation data`);return B.animations=await e.json(),B.animations}catch(e){throw console.error(`Error loading animations:`,e),e}}var U=e([]),W=e(!1),ce=e(null);function le(){async function e(){if(!(U.value.length>0)){W.value=!0,ce.value=null;try{U.value=await V()}catch(e){ce.value=e.message,console.error(`Failed to load sectors:`,e)}finally{W.value=!1}}}let t=S(()=>{let e={Civilian:{unique:[],standard:[]},Neutral:{unique:[],standard:[]},Hostile:{unique:[],standard:[]},Nebula:{unique:[],standard:[]},Secret:{unique:[],standard:[]},Other:{unique:[],standard:[]}},t=[`FEDERATION`,`UNION`,`HARMONY`,`MINISTRY`,`GATHERING`,`FREEMANTIS`,`IMPERIAL`,`OUTCAST`],n=[`CONFEDERATE`,`SEPARATIST`,`GENIOCRACY`,`VAGABOND`,`PIRATE`,`REPUBLIC`],r=[`REBEL`,`AUTO`,`KLEPTOCRACY`,`HIVE`,`THEOCRACY`,`DUSKBRINGER`,`COALITION`,`DYNASTY`],i=[`LANIUS`,`LOSTSUN`,`STARGROVE`,`MORPH`,`MILITIA`,`HACKER`,`MONK`,`CLAN`,`SLUG`];return U.value.forEach(a=>{let o=a.name||``,s=a.unique===`true`||o.includes(`_UNIQUE`),c=o.startsWith(`SECRET_`),l=`Other`;if(c)l=`Secret`;else{for(let e of t)if(o.includes(e)){l=`Civilian`;break}if(l===`Other`){for(let e of n)if(o.includes(e)){l=`Neutral`;break}}if(l===`Other`){for(let e of r)if(o.includes(e)){l=`Hostile`;break}}if(l===`Other`){for(let e of i)if(o.includes(e)){l=`Nebula`;break}}}s?e[l].unique.push(a):e[l].standard.push(a)}),e});function n(e){return U.value.find(t=>t.name===e)}function r(e){if(!e)return U.value;let t=e.toLowerCase();return U.value.filter(e=>{if(e.name?.toLowerCase().includes(t))return!0;let n=e=>e?.some(e=>e.toLowerCase().includes(t));return n(e.crew)||n(e.weapons)||n(e.augments)||n(e.drones)})}return{sectors:U,loading:W,error:ce,sectorsByType:t,fetchSectors:e,getSector:n,searchSectors:r}}var G=e([]),K=e([]),ue=e([]),q=e([]),J=e(!1),de=e(null);function fe(){async function e(){if(!(G.value.length>0)){J.value=!0,de.value=null;try{let[e,t,n,r]=await Promise.all([re(),ie(),ae(),H()]);G.value=e,K.value=t,ue.value=n,q.value=r}catch(e){de.value=e.message,console.error(`Failed to load blueprints:`,e)}finally{J.value=!1}}}let t=S(()=>({weapons:G.value,crew:K.value,augments:ue.value,drones:q.value}));function n(e,t){return{weapon:G.value,crew:K.value,augment:ue.value,drone:q.value}[e]?.find(e=>(e.weaponBlueprint?.name||e.crewBlueprint?.name||e.augBlueprint?.name||e.droneBlueprint?.name)===t)}function r(e){if(!e)return t.value;let n=e.toLowerCase();return{weapons:G.value.filter(e=>{let t=e.weaponBlueprint;return t?.name?.toLowerCase().includes(n)||t?.title?.toLowerCase().includes(n)}),crew:K.value.filter(e=>{let t=e.crewBlueprint;return t?.name?.toLowerCase().includes(n)||t?.race?.toLowerCase().includes(n)}),augments:ue.value.filter(e=>{let t=e.augBlueprint;return t?.name?.toLowerCase().includes(n)||t?.title?.toLowerCase().includes(n)}),drones:q.value.filter(e=>{let t=e.droneBlueprint;return t?.name?.toLowerCase().includes(n)||t?.title?.toLowerCase().includes(n)})}}return{weapons:G,crew:K,augments:ue,drones:q,loading:J,error:de,blueprintArrays:t,fetchBlueprints:e,getBlueprint:n,searchBlueprints:r}}var pe=e([]),me=e(new Map),Y=e([]),he=e(new Map),ge=e(!1),X=e(null);function Z(){async function e(){if(!(pe.value.length>0)){ge.value=!0,X.value=null;try{let e=await fetch(`/data/all_event_data.json`);if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let t=await e.json();pe.value=t,me.value=new Map(t.filter(e=>e.name).map(e=>[e.name,e])),console.log(`Loaded ${pe.value.length} events`)}catch(e){X.value=e.message,console.error(`Failed to load events:`,e)}finally{ge.value=!1}}}async function t(){if(!(Y.value.length>0))try{let e=await fetch(`/data/all_event_lists.json`);if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let t=await e.json();Y.value=t,he.value=new Map(t.filter(e=>e.name).map(e=>[e.name,e])),console.log(`Loaded ${Y.value.length} event lists`)}catch(e){console.error(`Failed to load event lists:`,e)}}function n(e){return me.value.get(e)}function r(e){return he.value.get(e)}return{events:pe,eventsMap:me,eventLists:Y,eventListsMap:he,loading:ge,error:X,fetchEvents:e,fetchEventLists:t,getEvent:n,getEventList:r}}var Q={class:`border border-gray-700 rounded-lg overflow-hidden`},$={class:`flex items-center gap-3`},_e={class:`text-lg font-semibold text-gray-200`},ve={key:0,class:`text-sm text-gray-500`},ye={class:`bg-gray-800/50 p-4`},be={__name:`CollapsibleSection`,props:{title:{type:String,required:!0},defaultOpen:{type:Boolean,default:!1},count:{type:Number,default:null}},setup(n){let r=e(n.defaultOpen);function a(){r.value=!r.value}return(e,o)=>(t(),O(`div`,Q,[_(`button`,{onClick:a,class:`w-full px-4 py-3 bg-gray-800 hover:bg-gray-750 transition-colors flex items-center justify-between`},[_(`div`,$,[_(`span`,{class:i([`text-gray-400 text-xl transition-transform`,{"rotate-90":r.value}])},` ▶ `,2),_(`h3`,_e,s(n.title),1),n.count===null?u(``,!0):(t(),O(`span`,ve,` (`+s(n.count)+`) `,1))])]),b(_(`div`,ye,[l(e.$slots,`default`)],512),[[D,r.value]])]))}},xe={class:`relative`},Se=[`value`,`placeholder`],Ce={__name:`SearchBar`,props:{modelValue:{type:String,default:``},placeholder:{type:String,default:`Search...`}},emits:[`update:modelValue`],setup(r,{emit:i}){let a=r,o=i,s=e(a.modelValue);n(()=>a.modelValue,e=>{s.value=e});function c(e){s.value=e.target.value,o(`update:modelValue`,s.value)}function l(){s.value=``,o(`update:modelValue`,``)}return(e,n)=>(t(),O(`div`,xe,[_(`input`,{value:s.value,onInput:c,type:`text`,placeholder:r.placeholder,class:`w-full px-4 py-2 pl-10 pr-10 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors`},null,40,Se),n[1]||=_(`div`,{class:`absolute left-3 top-1/2 -translate-y-1/2 text-gray-500`},[_(`svg`,{class:`w-5 h-5`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[_(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z`})])],-1),s.value?(t(),O(`button`,{key:0,onClick:l,class:`absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300 transition-colors`},[...n[0]||=[_(`svg`,{class:`w-5 h-5`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[_(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M6 18L18 6M6 6l12 12`})],-1)]])):u(``,!0)]))}},we={class:`bg-gray-800 rounded-lg border border-gray-700 max-w-2xl w-full max-h-[80vh] overflow-hidden flex flex-col`},Te={class:`flex items-center justify-between p-6 border-b border-gray-700`},Ee={class:`text-2xl font-bold text-gray-100`},De={class:`p-6 overflow-y-auto flex-1`},Oe={key:0,class:`text-gray-400 text-center py-8`},ke={key:1,class:`text-gray-400 text-center py-8`},Ae={key:2,class:`space-y-3`},je={class:`text-sm text-gray-400 mb-4`},Me={class:`grid gap-2`},Ne=[`onClick`],Pe={class:`font-mono text-sm text-blue-400`},Fe={class:`p-4 border-t border-gray-700 flex justify-end`},Ie={__name:`BlueprintListModal`,props:{listName:{type:String,required:!0},listData:{type:Object,default:null}},emits:[`close`,`navigate`],setup(e,{emit:n}){let r=e,i=n,a=S(()=>!r.listData||!r.listData.items?[]:r.listData.items);function o(e){i(`navigate`,e),i(`close`)}function c(e){e.target===e.currentTarget&&i(`close`)}return(n,r)=>(t(),O(`div`,{class:`fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4`,onClick:c},[_(`div`,we,[_(`div`,Te,[_(`div`,null,[_(`h2`,Ee,s(e.listName),1),r[2]||=_(`p`,{class:`text-sm text-gray-400 mt-1`},`Blueprint List`,-1)]),_(`button`,{onClick:r[0]||=e=>i(`close`),class:`text-gray-400 hover:text-gray-200 transition-colors text-2xl leading-none`,"aria-label":`Close`},` × `)]),_(`div`,De,[e.listData?a.value.length===0?(t(),O(`div`,ke,[...r[4]||=[_(`p`,null,`No blueprints in this list`,-1)]])):(t(),O(`div`,Ae,[_(`p`,je,` Contains `+s(a.value.length)+` blueprint`+s(a.value.length===1?``:`s`),1),_(`div`,Me,[(t(!0),O(h,null,k(a.value,(e,n)=>(t(),O(`button`,{key:n,onClick:t=>o(e),class:`text-left px-4 py-3 bg-gray-900 hover:bg-gray-700 rounded border border-gray-700 hover:border-blue-500 transition-colors`},[_(`div`,Pe,s(e),1)],8,Ne))),128))])])):(t(),O(`div`,Oe,[...r[3]||=[_(`p`,null,`List data not found`,-1)]]))]),_(`div`,Fe,[_(`button`,{onClick:r[1]||=e=>i(`close`),class:`px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-100 rounded transition-colors`},` Close `)])])]))}},Le={key:1,class:`text-gray-600 mr-2 inline-block w-3`},Re={key:0,class:`text-gray-500 text-[10px] ml-1`},ze={key:1,class:`text-yellow-500 text-[10px] ml-1`},Be={key:0,class:`mt-2 ml-4 space-y-2 text-xs`},Ve={key:0},He={class:`space-y-1`},Ue={key:0,class:`text-gray-500 font-semibold text-[10px]`},We={key:1,class:`space-y-1`},Ge={class:`space-y-1`},Ke={key:2,class:`flex flex-wrap gap-1`},qe=[`onClick`],Je={key:0,class:`text-blue-400`},Ye={key:3,class:`flex flex-wrap gap-1`},Xe=[`onClick`],Ze={key:4,class:`flex flex-wrap gap-1`},Qe=[`onClick`],$e={key:5,class:`flex flex-wrap gap-1`},et=[`onClick`],tt={key:6,class:`space-y-1`},nt={key:0},rt={key:1,class:`text-gray-400 ml-2`},it={key:7,class:`flex flex-wrap gap-1`},at={key:8,class:`flex flex-wrap gap-1`},ot=[`title`],st={key:1,class:`mt-2 ml-4 space-y-2 text-xs`},ct={key:0,class:`text-gray-300 bg-gray-800/50 p-2 rounded border border-gray-700`},lt={class:`mt-1 whitespace-pre-wrap`},ut={key:1,class:`text-gray-300 bg-yellow-900/20 p-2 rounded border border-yellow-700/50`},dt={class:`ml-2`},ft={key:0,class:`text-yellow-300`},pt={key:1,class:`text-gray-400 ml-2`},mt={key:2,class:`space-y-2`},ht={key:0,class:`space-y-1`},gt={class:`space-y-1`},_t={key:1,class:`flex flex-wrap gap-1`},vt=[`onClick`],yt={key:0,class:`text-blue-400`},bt={key:2,class:`flex flex-wrap gap-1`},xt=[`onClick`],St={key:3,class:`flex flex-wrap gap-1`},Ct=[`onClick`],wt={key:4,class:`flex flex-wrap gap-1`},Tt=[`onClick`],Et={key:5,class:`flex flex-wrap gap-1`},Dt=[`onClick`],Ot={key:6,class:`flex flex-wrap gap-1`},kt=[`onClick`],At={key:7,class:`flex flex-wrap gap-1`},jt=[`onClick`,`title`],Mt={key:8,class:`flex flex-wrap gap-1`},Nt={key:9,class:`space-y-1`},Pt={key:0},Ft={key:1,class:`text-gray-400 ml-2`},It={key:10,class:`space-y-1`},Lt={key:0},Rt={key:1},zt={key:11,class:`flex flex-wrap gap-1`},Bt=[`title`],Vt={key:12,class:`space-y-1`},Ht={class:`text-gray-500 italic`},Ut={__name:`EventViewer`,props:{eventName:{type:String,required:!0},depth:{type:Number,default:0},visitedEvents:{type:Set,default:()=>new Set}},emits:[`navigate-blueprint`,`navigate-sector`,`navigate-event`],setup(n,{emit:a}){let o=n,c=a,{getEvent:l,getEventList:d}=Z(),f=e(!1),p=e(!1),m={coords_spider:`SECRET_SPIDER`,coords_jerry:`SECRET_JERRY`,coords_nights:`SECRET_NIGHTS`,coords_hektar:`SECRET_HEKTAR`,coords_estate:`SECRET_ESTATE`,coords_rhyme:`SECRET_RHYME`,coords_hive:`SECTOR_HIVE_UNIQUE`},v=S(()=>o.visitedEvents.has(o.eventName)),y=S(()=>{let e=new Set(o.visitedEvents);return e.add(o.eventName),e}),b=S(()=>l(o.eventName)),x=S(()=>d(o.eventName)),C=S(()=>!b.value&&x.value),w=S(()=>b.value&&Object.keys(b.value).length>1||C.value),T=S(()=>`ml-${Math.min(o.depth,6)*4}`);function ee(){w.value&&(f.value=!f.value)}function te(e,t=``,n=``){let r={events:new Set,crew:[],weapons:new Set,augments:new Set,drones:new Set,sectors:new Set,coordinates:new Set,shipUnlocks:new Set,autoRewards:[],sectorWarps:new Set,pursuitMods:[],blueprintLists:new Set};if(!e||typeof e!=`object`)return r;e.load&&typeof e.load==`string`&&r.events.add(e.load),e.name&&typeof e.name==`string`&&t.includes(`event`)&&!e.name.startsWith(`coords_`)&&!e.name.includes(`LIST`)&&r.events.add(e.name),n===`quest`&&e.event&&typeof e.event==`string`&&r.events.add(e.event),n===`crewMember`&&e.class&&typeof e.class==`string`&&r.crew.push({class:e.class,name:e.text||null}),n===`weapon`&&e.name&&typeof e.name==`string`&&(e.name.includes(`LIST`)?r.blueprintLists.add(e.name):r.weapons.add(e.name)),n===`augment`&&e.name&&typeof e.name==`string`&&(e.name.includes(`LIST`)?r.blueprintLists.add(e.name):r.augments.add(e.name)),n===`drone`&&e.name&&typeof e.name==`string`&&(e.name.includes(`LIST`)?r.blueprintLists.add(e.name):r.drones.add(e.name)),e.secretSector&&typeof e.secretSector==`string`&&r.sectors.add(e.secretSector),n===`secretSectorWarp`&&e.text&&typeof e.text==`string`&&r.sectorWarps.add(e.text),n===`variable`&&e.name&&typeof e.name==`string`&&e.name.startsWith(`coords_`)&&r.coordinates.add(e.name),n===`unlockCustomShip`&&e.text&&typeof e.text==`string`&&r.shipUnlocks.add(e.text),e.autoReward&&typeof e.autoReward==`object`&&r.autoRewards.push(e.autoReward),e.modifyPursuit&&typeof e.modifyPursuit==`object`&&e.modifyPursuit.amount&&r.pursuitMods.push(e.modifyPursuit);for(let[n,i]of Object.entries(e))if(typeof i==`object`&&i){let e=te(i,`${t}.${n}`,n);r.events=new Set([...r.events,...e.events]),r.crew=[...r.crew,...e.crew],r.weapons=new Set([...r.weapons,...e.weapons]),r.augments=new Set([...r.augments,...e.augments]),r.drones=new Set([...r.drones,...e.drones]),r.sectors=new Set([...r.sectors,...e.sectors]),r.coordinates=new Set([...r.coordinates,...e.coordinates]),r.shipUnlocks=new Set([...r.shipUnlocks,...e.shipUnlocks]),r.autoRewards=[...r.autoRewards,...e.autoRewards],r.sectorWarps=new Set([...r.sectorWarps,...e.sectorWarps]),r.pursuitMods=[...r.pursuitMods,...e.pursuitMods],r.blueprintLists=new Set([...r.blueprintLists,...e.blueprintLists])}return r}let E=S(()=>b.value?te(b.value):null),D=S(()=>!C.value||!x.value?null:te(x.value)),ne=S(()=>!C.value||!x.value||!x.value.event?[]:(Array.isArray(x.value.event)?x.value.event:[x.value.event]).map(e=>e.load||e.name).filter(Boolean)),j=S(()=>!C.value||!x.value||!x.value.event?0:(Array.isArray(x.value.event)?x.value.event:[x.value.event]).length);function M(e,t){c(`navigate-blueprint`,e,t)}function N(e){c(`navigate-sector`,e)}function P(e){c(`navigate-event`,e)}return(e,a)=>{let o=r(`EventViewer`,!0);return t(),O(`div`,{class:i([`event-item`,[T.value,n.depth>0?`border-l-2 border-gray-700 pl-2`:``]])},[_(`button`,{onClick:ee,class:i([`w-full text-left px-2 py-1 rounded text-sm transition-colors`,[w.value?`hover:bg-gray-700/50 cursor-pointer`:`cursor-default`,f.value?`bg-gray-700/30`:``]])},[w.value?(t(),O(`span`,{key:0,class:i([`text-gray-400 mr-2 inline-block w-3 transition-transform`,{"rotate-90":f.value}])},` ▶ `,2)):(t(),O(`span`,Le,`•`)),_(`span`,{class:i([`font-mono text-xs`,w.value?C.value?`text-orange-400`:`text-blue-400`:`text-gray-500`])},[A(s(n.eventName)+` `,1),C.value?(t(),O(`span`,Re,`(list: `+s(j.value)+`)`,1)):u(``,!0),v.value?(t(),O(`span`,ze,`(circular)`)):u(``,!0)],2)],2),f.value&&C.value?(t(),O(`div`,Be,[ne.value.length>0?(t(),O(`div`,Ve,[a[1]||=_(`div`,{class:`text-gray-500 font-semibold`},`→ Events in list:`,-1),_(`div`,He,[(t(!0),O(h,null,k(ne.value,e=>(t(),g(o,{key:e,"event-name":e,depth:n.depth+1,onNavigateBlueprint:M,onNavigateSector:N,onNavigateEvent:P},null,8,[`event-name`,`depth`]))),128))])])):u(``,!0),D.value&&(D.value.events.size>0||D.value.crew.length>0||D.value.weapons.size>0||D.value.augments.size>0||D.value.drones.size>0||D.value.autoRewards.length>0||D.value.shipUnlocks.size>0||D.value.blueprintLists.size>0)?(t(),O(`div`,{key:1,class:i([`space-y-2`,{"mt-3 border-t border-gray-700 pt-2":ne.value.length>0}])},[D.value.crew.length>0||D.value.weapons.size>0||D.value.augments.size>0||D.value.drones.size>0||D.value.autoRewards.length>0||D.value.shipUnlocks.size>0||D.value.blueprintLists.size>0?(t(),O(`div`,Ue,`→ Items from this event list:`)):u(``,!0),D.value.events.size>0&&ne.value.length===0?(t(),O(`div`,We,[a[2]||=_(`div`,{class:`text-gray-500 font-semibold text-[10px]`},`→ Events in this list:`,-1),_(`div`,Ge,[(t(!0),O(h,null,k(Array.from(D.value.events),e=>(t(),g(o,{key:e,"event-name":e,depth:n.depth+1,"visited-events":y.value,onNavigateBlueprint:M,onNavigateSector:N,onNavigateEvent:P},null,8,[`event-name`,`depth`,`visited-events`]))),128))])])):u(``,!0),D.value.crew.length>0?(t(),O(`div`,Ke,[a[3]||=_(`span`,{class:`text-gray-500 font-semibold mr-2 text-[10px]`},`→ Crew:`,-1),(t(!0),O(h,null,k(D.value.crew,(e,n)=>(t(),O(`button`,{key:n,onClick:t=>M(e.class,`crew`),class:`px-1.5 py-0.5 bg-blue-900/30 border border-blue-700/50 rounded text-xs text-blue-300 hover:bg-blue-800/50 transition-colors`},[A(s(e.class),1),e.name?(t(),O(`span`,Je,` (`+s(e.name)+`)`,1)):u(``,!0)],8,qe))),128))])):u(``,!0),D.value.weapons.size>0?(t(),O(`div`,Ye,[a[4]||=_(`span`,{class:`text-gray-500 font-semibold mr-2 text-[10px]`},`→ Weapons:`,-1),(t(!0),O(h,null,k(Array.from(D.value.weapons),e=>(t(),O(`button`,{key:e,onClick:t=>M(e,`weapons`),class:`px-1.5 py-0.5 bg-red-900/30 border border-red-700/50 rounded text-xs text-red-300 hover:bg-red-800/50 transition-colors`},s(e),9,Xe))),128))])):u(``,!0),D.value.augments.size>0?(t(),O(`div`,Ze,[a[5]||=_(`span`,{class:`text-gray-500 font-semibold mr-2 text-[10px]`},`→ Augments:`,-1),(t(!0),O(h,null,k(Array.from(D.value.augments),e=>(t(),O(`button`,{key:e,onClick:t=>M(e,`augments`),class:`px-1.5 py-0.5 bg-purple-900/30 border border-purple-700/50 rounded text-xs text-purple-300 hover:bg-purple-800/50 transition-colors`},s(e),9,Qe))),128))])):u(``,!0),D.value.drones.size>0?(t(),O(`div`,$e,[a[6]||=_(`span`,{class:`text-gray-500 font-semibold mr-2 text-[10px]`},`→ Drones:`,-1),(t(!0),O(h,null,k(Array.from(D.value.drones),e=>(t(),O(`button`,{key:e,onClick:t=>M(e,`drones`),class:`px-1.5 py-0.5 bg-green-900/30 border border-green-700/50 rounded text-xs text-green-300 hover:bg-green-800/50 transition-colors`},s(e),9,et))),128))])):u(``,!0),D.value.autoRewards.length>0?(t(),O(`div`,tt,[a[7]||=_(`span`,{class:`text-gray-500 font-semibold text-[10px]`},`→ Auto Rewards:`,-1),(t(!0),O(h,null,k(D.value.autoRewards,(e,n)=>(t(),O(`div`,{key:n,class:`text-yellow-300 bg-yellow-900/20 px-2 py-1 rounded border border-yellow-700/50`},[e.level?(t(),O(`span`,nt,`Level: `+s(e.level),1)):u(``,!0),e.text?(t(),O(`span`,rt,`(`+s(e.text)+`)`,1)):u(``,!0)]))),128))])):u(``,!0),D.value.shipUnlocks.size>0?(t(),O(`div`,it,[a[8]||=_(`span`,{class:`text-gray-500 font-semibold mr-2 text-[10px]`},`→ Ship Unlocks:`,-1),(t(!0),O(h,null,k(Array.from(D.value.shipUnlocks),e=>(t(),O(`span`,{key:e,class:`px-1.5 py-0.5 bg-yellow-900/30 border border-yellow-700/50 rounded text-xs text-yellow-300`},s(e),1))),128))])):u(``,!0),D.value.blueprintLists.size>0?(t(),O(`div`,at,[a[9]||=_(`span`,{class:`text-gray-500 font-semibold mr-2 text-[10px]`},`→ Random Item Pool:`,-1),(t(!0),O(h,null,k(Array.from(D.value.blueprintLists),e=>(t(),O(`span`,{key:e,class:`px-1.5 py-0.5 bg-teal-900/30 border border-teal-700/50 rounded text-xs text-teal-300`,title:`Random selection from `+e},s(e),9,ot))),128))])):u(``,!0)],2)):u(``,!0)])):u(``,!0),f.value&&b.value?(t(),O(`div`,st,[b.value.text?(t(),O(`div`,ct,[a[10]||=_(`span`,{class:`text-gray-500 font-semibold`},`Text:`,-1),_(`div`,lt,s(b.value.text),1)])):u(``,!0),b.value.autoReward?(t(),O(`div`,ut,[a[11]||=_(`span`,{class:`text-yellow-400 font-semibold`},`Auto Reward:`,-1),_(`span`,dt,[b.value.autoReward.level?(t(),O(`span`,ft,`Level: `+s(b.value.autoReward.level),1)):u(``,!0),b.value.autoReward.text?(t(),O(`span`,pt,`(`+s(b.value.autoReward.text)+`)`,1)):u(``,!0)])])):u(``,!0),E.value&&(E.value.events.size>0||E.value.crew.length>0||E.value.weapons.size>0||E.value.augments.size>0||E.value.drones.size>0||E.value.sectors.size>0||E.value.coordinates.size>0||E.value.shipUnlocks.size>0||E.value.autoRewards.length>0||E.value.sectorWarps.size>0||E.value.pursuitMods.length>0||E.value.blueprintLists.size>0)?(t(),O(`div`,mt,[E.value.events.size>0&&(n.depth<3||p.value)?(t(),O(`div`,ht,[a[12]||=_(`div`,{class:`text-gray-500 font-semibold`},`→ Events:`,-1),_(`div`,gt,[(t(!0),O(h,null,k(Array.from(E.value.events),e=>(t(),g(o,{key:e,"event-name":e,depth:n.depth+1,"visited-events":y.value,onNavigateBlueprint:M,onNavigateSector:N,onNavigateEvent:P},null,8,[`event-name`,`depth`,`visited-events`]))),128))])])):u(``,!0),E.value.crew.length>0?(t(),O(`div`,_t,[a[13]||=_(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Crew:`,-1),(t(!0),O(h,null,k(E.value.crew,(e,n)=>(t(),O(`button`,{key:n,onClick:t=>M(e.class,`crew`),class:`px-1.5 py-0.5 bg-blue-900/30 border border-blue-700/50 rounded text-xs text-blue-300 hover:bg-blue-800/50 transition-colors`},[A(s(e.class),1),e.name?(t(),O(`span`,yt,` (`+s(e.name)+`)`,1)):u(``,!0)],8,vt))),128))])):u(``,!0),E.value.weapons.size>0?(t(),O(`div`,bt,[a[14]||=_(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Weapons:`,-1),(t(!0),O(h,null,k(Array.from(E.value.weapons),e=>(t(),O(`button`,{key:e,onClick:t=>M(e,`weapons`),class:`px-1.5 py-0.5 bg-red-900/30 border border-red-700/50 rounded text-xs text-red-300 hover:bg-red-800/50 transition-colors`},s(e),9,xt))),128))])):u(``,!0),E.value.augments.size>0?(t(),O(`div`,St,[a[15]||=_(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Augments:`,-1),(t(!0),O(h,null,k(Array.from(E.value.augments),e=>(t(),O(`button`,{key:e,onClick:t=>M(e,`augments`),class:`px-1.5 py-0.5 bg-purple-900/30 border border-purple-700/50 rounded text-xs text-purple-300 hover:bg-purple-800/50 transition-colors`},s(e),9,Ct))),128))])):u(``,!0),E.value.drones.size>0?(t(),O(`div`,wt,[a[16]||=_(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Drones:`,-1),(t(!0),O(h,null,k(Array.from(E.value.drones),e=>(t(),O(`button`,{key:e,onClick:t=>M(e,`drones`),class:`px-1.5 py-0.5 bg-green-900/30 border border-green-700/50 rounded text-xs text-green-300 hover:bg-green-800/50 transition-colors`},s(e),9,Tt))),128))])):u(``,!0),E.value.sectors.size>0?(t(),O(`div`,Et,[a[17]||=_(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Sectors:`,-1),(t(!0),O(h,null,k(Array.from(E.value.sectors),e=>(t(),O(`button`,{key:e,onClick:t=>N(e),class:`px-1.5 py-0.5 bg-pink-900/30 border border-pink-700/50 rounded text-xs text-pink-300 hover:bg-pink-800/50 transition-colors`},s(e),9,Dt))),128))])):u(``,!0),E.value.sectorWarps.size>0?(t(),O(`div`,Ot,[a[18]||=_(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Sector Warps:`,-1),(t(!0),O(h,null,k(Array.from(E.value.sectorWarps),e=>(t(),O(`button`,{key:e,onClick:t=>N(e),class:`px-1.5 py-0.5 bg-pink-900/30 border border-pink-700/50 rounded text-xs text-pink-300 hover:bg-pink-800/50 transition-colors`},s(e),9,kt))),128))])):u(``,!0),E.value.coordinates.size>0?(t(),O(`div`,At,[a[19]||=_(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Coordinates:`,-1),(t(!0),O(h,null,k(Array.from(E.value.coordinates),e=>(t(),O(`button`,{key:e,onClick:t=>N(m[e]),title:m[e]?`Go to ${m[e]}`:e,class:`px-1.5 py-0.5 bg-cyan-900/30 border border-cyan-700/50 rounded text-xs text-cyan-300 hover:bg-cyan-800/50 transition-colors`},s(e),9,jt))),128))])):u(``,!0),E.value.shipUnlocks.size>0?(t(),O(`div`,Mt,[a[20]||=_(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Ship Unlocks:`,-1),(t(!0),O(h,null,k(Array.from(E.value.shipUnlocks),e=>(t(),O(`span`,{key:e,class:`px-1.5 py-0.5 bg-yellow-900/30 border border-yellow-700/50 rounded text-xs text-yellow-300`},s(e),1))),128))])):u(``,!0),E.value.autoRewards.length>0?(t(),O(`div`,Nt,[a[21]||=_(`span`,{class:`text-gray-500 font-semibold`},`→ Auto Rewards:`,-1),(t(!0),O(h,null,k(E.value.autoRewards,(e,n)=>(t(),O(`div`,{key:n,class:`text-yellow-300 bg-yellow-900/20 px-2 py-1 rounded border border-yellow-700/50`},[e.level?(t(),O(`span`,Pt,`Level: `+s(e.level),1)):u(``,!0),e.text?(t(),O(`span`,Ft,`(`+s(e.text)+`)`,1)):u(``,!0)]))),128))])):u(``,!0),E.value.pursuitMods.length>0?(t(),O(`div`,It,[a[22]||=_(`span`,{class:`text-gray-500 font-semibold`},`→ Fleet Pursuit:`,-1),(t(!0),O(h,null,k(E.value.pursuitMods,(e,n)=>(t(),O(`div`,{key:n,class:i([`px-2 py-1 rounded border`,parseInt(e.amount)<0?`text-green-300 bg-green-900/20 border-green-700/50`:`text-red-300 bg-red-900/20 border-red-700/50`])},[parseInt(e.amount)>0?(t(),O(`span`,Lt,`Fleet advances: +`+s(e.amount),1)):(t(),O(`span`,Rt,`Fleet delayed: `+s(e.amount),1))],2))),128))])):u(``,!0),E.value.blueprintLists.size>0?(t(),O(`div`,zt,[a[23]||=_(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Random Item Pool:`,-1),(t(!0),O(h,null,k(Array.from(E.value.blueprintLists),e=>(t(),O(`span`,{key:e,class:`px-1.5 py-0.5 bg-teal-900/30 border border-teal-700/50 rounded text-xs text-teal-300`,title:`Random selection from `+e},s(e),9,Bt))),128))])):u(``,!0),E.value.events.size>0&&n.depth>=3&&!p.value?(t(),O(`div`,Vt,[_(`div`,Ht,` (`+s(E.value.events.size)+` more event(s) hidden) `,1),_(`button`,{onClick:a[0]||=e=>p.value=!0,class:`px-2 py-1 bg-blue-900/30 border border-blue-700/50 rounded text-xs text-blue-300 hover:bg-blue-800/50 transition-colors`},` Show All Events (depth `+s(n.depth+1)+`+) `,1)])):u(``,!0)])):u(``,!0)])):u(``,!0)],2)}}},Wt={class:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4`},Gt={class:`bg-gray-800 rounded-lg border border-gray-700 p-6 max-w-md`},Kt={class:`flex items-center gap-3 mb-4`},qt={class:`text-xl font-semibold text-gray-100`},Jt={__name:`LoadingSpinner`,props:{message:{type:String,required:!0}},setup(e){return(n,r)=>(t(),O(`div`,Wt,[_(`div`,Gt,[_(`div`,Kt,[r[0]||=_(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400`},null,-1),_(`h2`,qt,s(e.message),1)])])]))}},Yt={class:`min-h-screen flex items-center justify-center p-4`},Xt={class:`bg-red-900/20 border border-red-700 rounded-lg p-8 max-w-2xl`},Zt={class:`flex items-start gap-4`},Qt={class:`text-gray-300 mb-4`},$t={__name:`ErrorDisplay`,props:{error:{type:String,required:!0}},setup(e){let n=w();function r(){n.push(`/sectors`)}return(n,i)=>(t(),O(`div`,Yt,[_(`div`,Xt,[_(`div`,Zt,[i[1]||=_(`div`,{class:`text-red-400 text-4xl`},`⚠`,-1),_(`div`,null,[i[0]||=_(`h2`,{class:`text-2xl font-bold text-red-400 mb-2`},`Error Loading Data`,-1),_(`p`,Qt,s(e.error),1),_(`button`,{onClick:r,class:`px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors`},` Go to Sectors Page `)])])])]))}},en={key:2,class:`space-y-6`},tn={class:`space-y-4`},nn={class:`bg-gray-800 rounded-lg p-4 border border-gray-700`},rn={class:`text-gray-300`},an={class:`font-bold text-blue-400`},on={class:`space-y-2`},sn=[`onClick`],cn={class:`flex items-center gap-3`},ln={class:`font-bold text-blue-400`},un={class:`text-sm text-gray-400 flex gap-4`},dn={key:0,class:`text-blue-400`},fn={key:1},pn={key:2},mn={key:3},hn={key:4},gn={key:0,class:`bg-gray-800/50 p-4 space-y-3`},_n={class:`flex flex-wrap gap-4 items-center text-xs mb-2`},vn={class:`text-gray-500`},yn={key:0,class:`px-2 py-0.5 bg-blue-900/40 border border-blue-600/50 rounded text-blue-300`},bn={key:0,class:`space-y-1`},xn={class:`text-sm font-semibold text-gray-300`},Sn={class:`flex flex-wrap gap-2`},Cn=[`onClick`],wn={key:0,class:`text-yellow-400 mr-1`,title:`Unique crew`},Tn={key:1,class:`space-y-1`},En={class:`text-sm font-semibold text-gray-300`},Dn={class:`flex flex-wrap gap-2`},On=[`onClick`],kn={key:0,class:`text-yellow-400 mr-1`,title:`Unique weapon`},An={key:2,class:`space-y-1`},jn={class:`text-sm font-semibold text-gray-300`},Mn={class:`flex flex-wrap gap-2`},Nn=[`onClick`],Pn={key:0,class:`text-yellow-400 mr-1`,title:`Unique augment`},Fn={key:3,class:`space-y-1`},In={class:`text-sm font-semibold text-gray-300`},Ln={class:`flex flex-wrap gap-2`},Rn=[`onClick`],zn={key:0,class:`text-yellow-400 mr-1`,title:`Unique drone`},Bn={key:4,class:`space-y-1`},Vn={class:`text-sm font-semibold text-gray-300`},Hn={class:`flex flex-wrap gap-2`},Un={key:5,class:`space-y-1`},Wn={class:`text-sm font-semibold text-gray-300`},Gn={class:`flex flex-wrap gap-2`},Kn=[`onClick`,`title`],qn={key:6,class:`space-y-1`},Jn={class:`text-sm font-semibold text-gray-300`},Yn={class:`flex flex-wrap gap-2`},Xn=[`onClick`],Zn={key:7,class:`space-y-1`},Qn={class:`text-sm font-semibold text-gray-300`},$n={class:`bg-gray-800/30 rounded border border-gray-700 p-2 max-h-96 overflow-y-auto`},er={class:`space-y-2`},tr=[`onClick`],nr={class:`flex items-center gap-3`},rr={class:`font-bold text-gray-300`},ir={class:`text-sm text-gray-400 flex gap-4`},ar={key:0,class:`text-blue-400`},or={key:1},sr={key:2},cr={key:3},lr={key:4},ur={key:0,class:`bg-gray-800/50 p-4 space-y-3`},dr={class:`flex flex-wrap gap-4 items-center text-xs mb-2`},fr={class:`text-gray-500`},pr={key:0,class:`px-2 py-0.5 bg-blue-900/40 border border-blue-600/50 rounded text-blue-300`},mr={key:0,class:`space-y-1`},hr={class:`text-sm font-semibold text-gray-300`},gr={class:`flex flex-wrap gap-2`},_r=[`onClick`],vr={key:0,class:`text-yellow-400 mr-1`,title:`Unique crew`},yr={key:1,class:`space-y-1`},br={class:`text-sm font-semibold text-gray-300`},xr={class:`flex flex-wrap gap-2`},Sr=[`onClick`],Cr={key:0,class:`text-yellow-400 mr-1`,title:`Unique weapon`},wr={key:2,class:`space-y-1`},Tr={class:`text-sm font-semibold text-gray-300`},Er={class:`flex flex-wrap gap-2`},Dr=[`onClick`],Or={key:0,class:`text-yellow-400 mr-1`,title:`Unique augment`},kr={key:3,class:`space-y-1`},Ar={class:`text-sm font-semibold text-gray-300`},jr={class:`flex flex-wrap gap-2`},Mr=[`onClick`],Nr={key:0,class:`text-yellow-400 mr-1`,title:`Unique drone`},Pr={key:4,class:`space-y-1`},Fr={class:`text-sm font-semibold text-gray-300`},Ir={class:`flex flex-wrap gap-2`},Lr={key:5,class:`space-y-1`},Rr={class:`text-sm font-semibold text-gray-300`},zr={class:`flex flex-wrap gap-2`},Br=[`onClick`,`title`],Vr={key:6,class:`space-y-1`},Hr={class:`text-sm font-semibold text-gray-300`},Ur={class:`flex flex-wrap gap-2`},Wr=[`onClick`],Gr={key:7,class:`space-y-1`},Kr={class:`text-sm font-semibold text-gray-300`},qr={class:`bg-gray-800/30 rounded border border-gray-700 p-2 max-h-96 overflow-y-auto`},Jr={__name:`SectorsPage`,setup(r){let a=d(),l=w(),{sectors:p,loading:m,error:v,sectorsByType:b,fetchSectors:x}=le(),{blueprintArrays:C,fetchBlueprints:T}=fe(),{fetchEvents:ee,fetchEventLists:te}=Z(),E=e(null),D=e(``),j=e([]),M=e(!1),N=e(null),P={coords_spider:`SECRET_SPIDER`,coords_jerry:`SECRET_JERRY`,coords_nights:`SECRET_NIGHTS`,coords_hektar:`SECRET_HEKTAR`,coords_estate:`SECRET_ESTATE`,coords_rhyme:`SECRET_RHYME`,coords_hive:`SECTOR_HIVE_UNIQUE`};ne(()=>{x(),T(),ee(),te(),oe().then(e=>{j.value=e}).catch(e=>{console.error(`Failed to load blueprint lists:`,e)}),a.query.search&&(D.value=a.query.search),window.addEventListener(`keydown`,I)}),c(()=>{window.removeEventListener(`keydown`,I)});function F(e,t){if(!C.value[t])return e.replace(/_/g,` `);if(t===`crew`&&e.startsWith(`unique_`))return e.substring(7).split(`_`).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(` `);let n=null;switch(t){case`crew`:n=C.value.crew?.find(t=>t?.crewBlueprint?.name===e)?.crewBlueprint;break;case`weapons`:n=C.value.weapons?.find(t=>t?.weaponBlueprint?.name===e)?.weaponBlueprint;break;case`augments`:n=C.value.augments?.find(t=>t?.augBlueprint?.name===e)?.augBlueprint;break;case`drones`:n=C.value.drones?.find(t=>t?.droneBlueprint?.name===e)?.droneBlueprint;break}return n?.title||e.replace(/_/g,` `)}function I(e){(e.ctrlKey||e.metaKey)&&e.key===`k`&&(e.preventDefault(),document.querySelector(`input[type="text"]`)?.focus()),e.key===`Escape`&&D.value&&(D.value=``)}n(()=>a.query.search,e=>{e&&(D.value=e)});let L=S(()=>{if(!D.value)return b.value;let e=D.value.toLowerCase(),t={};for(let[n,r]of Object.entries(b.value))t[n]={unique:r.unique.filter(t=>R(t,e)),standard:r.standard.filter(t=>R(t,e))};return t});function R(e,t){if(e.name?.toLowerCase().includes(t))return!0;let n=e.nameList?.name;if(n&&(Array.isArray(n)?n:[n]).some(e=>e.toLowerCase().includes(t)))return!0;let r=e=>e?.some(e=>e.toLowerCase().includes(t));return r(e.crew)||r(e.weapons)||r(e.augments)||r(e.drones)||r(e.ship_unlocks)}function z(e,t){if(e.includes(`LIST`)||e.includes(`GIFT`)){let t=j.value.find(t=>t.name===e);if(t){N.value=t,M.value=!0;return}}l.push({path:`/blueprints`,query:{id:e,tab:t}})}function B(e){let t=`weapons`;e.includes(`crew`)||e.startsWith(`unique_`)?t=`crew`:e.includes(`aug`)?t=`augments`:e.includes(`drone`)&&(t=`drones`),l.push({path:`/blueprints`,query:{id:e,tab:t}})}function V(e){let t=e.nameList?.name;return t?Array.isArray(t)?t[0]:t:e.name.replace(/_/g,` `).replace(/SECTOR /g,``)}function re(e){switch(e){case`CIVILIAN`:return`bg-green-900/30 hover:bg-green-800/40 border-l-4 border-l-green-500`;case`HOSTILE`:return`bg-red-900/30 hover:bg-red-800/40 border-l-4 border-l-red-500`;case`NEUTRAL`:return`bg-gray-700/30 hover:bg-gray-600/40 border-l-4 border-l-gray-400`;case`NEBULA`:return`bg-purple-900/30 hover:bg-purple-800/40 border-l-4 border-l-purple-500`;default:return`bg-gray-800 hover:bg-gray-750`}}function ie(e){E.value=E.value===e?null:e}function ae(e){return E.value===e}function H(e){D.value=e,E.value=e}return(e,n)=>(t(),O(`div`,null,[n[3]||=_(`h2`,{class:`text-3xl font-bold mb-6`},`Sectors`,-1),y(m)?(t(),g(Jt,{key:0,message:`Loading sectors data...`})):y(v)?(t(),g($t,{key:1,error:y(v)},null,8,[`error`])):(t(),O(`div`,en,[_(`div`,tn,[_(`div`,nn,[_(`p`,rn,[n[2]||=A(` Total sectors: `,-1),_(`span`,an,s(y(p).length),1)])]),f(Ce,{modelValue:D.value,"onUpdate:modelValue":n[0]||=e=>D.value=e,placeholder:`Search sectors or items...`},null,8,[`modelValue`])]),(t(!0),O(h,null,k(L.value,(e,n)=>(t(),O(`div`,{key:n,class:`space-y-4`},[e.unique.length>0||e.standard.length>0?(t(),O(h,{key:0},[e.unique.length>0?(t(),g(be,{key:0,title:`${n} - Unique`,count:e.unique.length,"default-open":!0},{default:o(()=>[_(`div`,on,[(t(!0),O(h,null,k(e.unique,e=>(t(),O(`div`,{key:e.name,class:`border border-gray-700 rounded-lg overflow-hidden`},[_(`button`,{onClick:t=>ie(e.name),class:i([`w-full px-4 py-3 transition-colors flex items-center justify-between`,re(e.zone)])},[_(`div`,cn,[_(`span`,{class:i([`text-gray-400 text-sm transition-transform`,{"rotate-90":ae(e.name)}])},` ▶ `,2),_(`h5`,ln,s(V(e)),1)]),_(`div`,un,[e.sectorRange?(t(),O(`span`,dn,`S`+s(e.sectorRange.minSector)+`-`+s(e.sectorRange.maxSector),1)):u(``,!0),e.crew?.length?(t(),O(`span`,fn,`Crew: `+s(e.crew.length),1)):u(``,!0),e.weapons?.length?(t(),O(`span`,pn,`Weapons: `+s(e.weapons.length),1)):u(``,!0),e.augments?.length?(t(),O(`span`,mn,`Augments: `+s(e.augments.length),1)):u(``,!0),e.drones?.length?(t(),O(`span`,hn,`Drones: `+s(e.drones.length),1)):u(``,!0)])],10,sn),ae(e.name)?(t(),O(`div`,gn,[_(`div`,_n,[_(`span`,vn,s(e.name),1),e.sectorRange?(t(),O(`span`,yn,` Sectors `+s(e.sectorRange.minSector)+`-`+s(e.sectorRange.maxSector),1)):u(``,!0),e.zone?(t(),O(`span`,{key:1,class:i([`px-2 py-0.5 rounded`,{"bg-green-900/40 border border-green-600/50 text-green-300":e.zone===`CIVILIAN`,"bg-red-900/40 border border-red-600/50 text-red-300":e.zone===`HOSTILE`,"bg-gray-700/40 border border-gray-500/50 text-gray-300":e.zone===`NEUTRAL`,"bg-purple-900/40 border border-purple-600/50 text-purple-300":e.zone===`NEBULA`}])},s(e.zone),3)):u(``,!0)]),e.crew?.length?(t(),O(`div`,bn,[_(`h6`,xn,`Crew (`+s(e.crew.length)+`)`,1),_(`div`,Sn,[(t(!0),O(h,null,k(e.crew,e=>(t(),O(`button`,{key:e,onClick:t=>z(e,`crew`),class:`px-2 py-1 bg-blue-900/30 border border-blue-700/50 rounded text-xs text-blue-300 hover:bg-blue-800/50 transition-colors cursor-pointer`},[e.startsWith(`unique_`)?(t(),O(`span`,wn,`⭐`)):u(``,!0),A(s(F(e,`crew`)),1)],8,Cn))),128))])])):u(``,!0),e.weapons?.length?(t(),O(`div`,Tn,[_(`h6`,En,`Weapons (`+s(e.weapons.length)+`)`,1),_(`div`,Dn,[(t(!0),O(h,null,k(e.weapons,e=>(t(),O(`button`,{key:e,onClick:t=>z(e,`weapons`),class:`px-2 py-1 bg-red-900/30 border border-red-700/50 rounded text-xs text-red-300 hover:bg-red-800/50 transition-colors cursor-pointer`},[e.startsWith(`GATLING`)?(t(),O(`span`,kn,`⭐`)):u(``,!0),A(s(F(e,`weapons`)),1)],8,On))),128))])])):u(``,!0),e.augments?.length?(t(),O(`div`,An,[_(`h6`,jn,`Augments (`+s(e.augments.length)+`)`,1),_(`div`,Mn,[(t(!0),O(h,null,k(e.augments,e=>(t(),O(`button`,{key:e,onClick:t=>z(e,`augments`),class:`px-2 py-1 bg-purple-900/30 border border-purple-700/50 rounded text-xs text-purple-300 hover:bg-purple-800/50 transition-colors cursor-pointer`},[e.includes(`PREIGNITE`)?(t(),O(`span`,Pn,`⭐`)):u(``,!0),A(s(F(e,`augments`)),1)],8,Nn))),128))])])):u(``,!0),e.drones?.length?(t(),O(`div`,Fn,[_(`h6`,In,`Drones (`+s(e.drones.length)+`)`,1),_(`div`,Ln,[(t(!0),O(h,null,k(e.drones,e=>(t(),O(`button`,{key:e,onClick:t=>z(e,`drones`),class:`px-2 py-1 bg-green-900/30 border border-green-700/50 rounded text-xs text-green-300 hover:bg-green-800/50 transition-colors cursor-pointer`},[e.startsWith(`A55_`)?(t(),O(`span`,zn,`⭐`)):u(``,!0),A(s(F(e,`drones`)),1)],8,Rn))),128))])])):u(``,!0),e.ship_unlocks?.length?(t(),O(`div`,Bn,[_(`h6`,Vn,`Ships (`+s(e.ship_unlocks.length)+`)`,1),_(`div`,Hn,[(t(!0),O(h,null,k(e.ship_unlocks,e=>(t(),O(`span`,{key:e,class:`px-2 py-1 bg-yellow-900/30 border border-yellow-700/50 rounded text-xs text-yellow-300`},s(e.replace(/_/g,` `)),1))),128))])])):u(``,!0),e.coordinates?.length?(t(),O(`div`,Un,[_(`h6`,Wn,`Coordinates (`+s(e.coordinates.length)+`)`,1),_(`div`,Gn,[(t(!0),O(h,null,k(e.coordinates,e=>(t(),O(`button`,{key:e,onClick:t=>H(P[e]||e),class:`px-2 py-1 bg-cyan-900/30 border border-cyan-700/50 rounded text-xs text-cyan-300 hover:bg-cyan-800/50 transition-colors cursor-pointer`,title:P[e]?`Jump to ${P[e].replace(/_/g,` `)}`:e},s(e.replace(/_/g,` `)),9,Kn))),128))])])):u(``,!0),e.secret_warps?.length?(t(),O(`div`,qn,[_(`h6`,Jn,`Secret Warps (`+s(e.secret_warps.length)+`)`,1),_(`div`,Yn,[(t(!0),O(h,null,k(e.secret_warps,e=>(t(),O(`button`,{key:e,onClick:t=>H(e),class:`px-2 py-1 bg-pink-900/30 border border-pink-700/50 rounded text-xs text-pink-300 hover:bg-pink-800/50 transition-colors cursor-pointer`},s(e.replace(/_/g,` `)),9,Xn))),128))])])):u(``,!0),e.sourceEvents?.length?(t(),O(`div`,Zn,[_(`h6`,Qn,`Events (`+s(e.sourceEvents.length)+`)`,1),_(`div`,$n,[(t(!0),O(h,null,k(e.sourceEvents,(e,n)=>(t(),g(Ut,{key:e.name||n,"event-name":typeof e==`string`?e:e.name,onNavigateBlueprint:z,onNavigateSector:H},null,8,[`event-name`]))),128))])])):u(``,!0)])):u(``,!0)]))),128))])]),_:2},1032,[`title`,`count`])):u(``,!0),e.standard.length>0?(t(),g(be,{key:1,title:`${n} - Standard`,count:e.standard.length,"default-open":!1},{default:o(()=>[_(`div`,er,[(t(!0),O(h,null,k(e.standard,e=>(t(),O(`div`,{key:e.name,class:`border border-gray-700 rounded-lg overflow-hidden`},[_(`button`,{onClick:t=>ie(e.name),class:i([`w-full px-4 py-3 transition-colors flex items-center justify-between`,re(e.zone)])},[_(`div`,nr,[_(`span`,{class:i([`text-gray-400 text-sm transition-transform`,{"rotate-90":ae(e.name)}])},` ▶ `,2),_(`h5`,rr,s(V(e)),1)]),_(`div`,ir,[e.sectorRange?(t(),O(`span`,ar,`S`+s(e.sectorRange.minSector)+`-`+s(e.sectorRange.maxSector),1)):u(``,!0),e.crew?.length?(t(),O(`span`,or,`Crew: `+s(e.crew.length),1)):u(``,!0),e.weapons?.length?(t(),O(`span`,sr,`Weapons: `+s(e.weapons.length),1)):u(``,!0),e.augments?.length?(t(),O(`span`,cr,`Augments: `+s(e.augments.length),1)):u(``,!0),e.drones?.length?(t(),O(`span`,lr,`Drones: `+s(e.drones.length),1)):u(``,!0)])],10,tr),ae(e.name)?(t(),O(`div`,ur,[_(`div`,dr,[_(`span`,fr,s(e.name),1),e.sectorRange?(t(),O(`span`,pr,` Sectors `+s(e.sectorRange.minSector)+`-`+s(e.sectorRange.maxSector),1)):u(``,!0),e.zone?(t(),O(`span`,{key:1,class:i([`px-2 py-0.5 rounded`,{"bg-green-900/40 border border-green-600/50 text-green-300":e.zone===`CIVILIAN`,"bg-red-900/40 border border-red-600/50 text-red-300":e.zone===`HOSTILE`,"bg-gray-700/40 border border-gray-500/50 text-gray-300":e.zone===`NEUTRAL`,"bg-purple-900/40 border border-purple-600/50 text-purple-300":e.zone===`NEBULA`}])},s(e.zone),3)):u(``,!0)]),e.crew?.length?(t(),O(`div`,mr,[_(`h6`,hr,`Crew (`+s(e.crew.length)+`)`,1),_(`div`,gr,[(t(!0),O(h,null,k(e.crew,e=>(t(),O(`button`,{key:e,onClick:t=>z(e,`crew`),class:`px-2 py-1 bg-blue-900/30 border border-blue-700/50 rounded text-xs text-blue-300 hover:bg-blue-800/50 transition-colors cursor-pointer`},[e.startsWith(`unique_`)?(t(),O(`span`,vr,`⭐`)):u(``,!0),A(s(F(e,`crew`)),1)],8,_r))),128))])])):u(``,!0),e.weapons?.length?(t(),O(`div`,yr,[_(`h6`,br,`Weapons (`+s(e.weapons.length)+`)`,1),_(`div`,xr,[(t(!0),O(h,null,k(e.weapons,e=>(t(),O(`button`,{key:e,onClick:t=>z(e,`weapons`),class:`px-2 py-1 bg-red-900/30 border border-red-700/50 rounded text-xs text-red-300 hover:bg-red-800/50 transition-colors cursor-pointer`},[e.startsWith(`GATLING`)?(t(),O(`span`,Cr,`⭐`)):u(``,!0),A(s(F(e,`weapons`)),1)],8,Sr))),128))])])):u(``,!0),e.augments?.length?(t(),O(`div`,wr,[_(`h6`,Tr,`Augments (`+s(e.augments.length)+`)`,1),_(`div`,Er,[(t(!0),O(h,null,k(e.augments,e=>(t(),O(`button`,{key:e,onClick:t=>z(e,`augments`),class:`px-2 py-1 bg-purple-900/30 border border-purple-700/50 rounded text-xs text-purple-300 hover:bg-purple-800/50 transition-colors cursor-pointer`},[e.includes(`PREIGNITE`)?(t(),O(`span`,Or,`⭐`)):u(``,!0),A(s(F(e,`augments`)),1)],8,Dr))),128))])])):u(``,!0),e.drones?.length?(t(),O(`div`,kr,[_(`h6`,Ar,`Drones (`+s(e.drones.length)+`)`,1),_(`div`,jr,[(t(!0),O(h,null,k(e.drones,e=>(t(),O(`button`,{key:e,onClick:t=>z(e,`drones`),class:`px-2 py-1 bg-green-900/30 border border-green-700/50 rounded text-xs text-green-300 hover:bg-green-800/50 transition-colors cursor-pointer`},[e.startsWith(`A55_`)?(t(),O(`span`,Nr,`⭐`)):u(``,!0),A(s(F(e,`drones`)),1)],8,Mr))),128))])])):u(``,!0),e.ship_unlocks?.length?(t(),O(`div`,Pr,[_(`h6`,Fr,`Ships (`+s(e.ship_unlocks.length)+`)`,1),_(`div`,Ir,[(t(!0),O(h,null,k(e.ship_unlocks,e=>(t(),O(`span`,{key:e,class:`px-2 py-1 bg-yellow-900/30 border border-yellow-700/50 rounded text-xs text-yellow-300`},s(e.replace(/_/g,` `)),1))),128))])])):u(``,!0),e.coordinates?.length?(t(),O(`div`,Lr,[_(`h6`,Rr,`Coordinates (`+s(e.coordinates.length)+`)`,1),_(`div`,zr,[(t(!0),O(h,null,k(e.coordinates,e=>(t(),O(`button`,{key:e,onClick:t=>H(P[e]||e),class:`px-2 py-1 bg-cyan-900/30 border border-cyan-700/50 rounded text-xs text-cyan-300 hover:bg-cyan-800/50 transition-colors cursor-pointer`,title:P[e]?`Jump to ${P[e].replace(/_/g,` `)}`:e},s(e.replace(/_/g,` `)),9,Br))),128))])])):u(``,!0),e.secret_warps?.length?(t(),O(`div`,Vr,[_(`h6`,Hr,`Secret Warps (`+s(e.secret_warps.length)+`)`,1),_(`div`,Ur,[(t(!0),O(h,null,k(e.secret_warps,e=>(t(),O(`button`,{key:e,onClick:t=>H(e),class:`px-2 py-1 bg-pink-900/30 border border-pink-700/50 rounded text-xs text-pink-300 hover:bg-pink-800/50 transition-colors cursor-pointer`},s(e.replace(/_/g,` `)),9,Wr))),128))])])):u(``,!0),e.sourceEvents?.length?(t(),O(`div`,Gr,[_(`h6`,Kr,`Events (`+s(e.sourceEvents.length)+`)`,1),_(`div`,qr,[(t(!0),O(h,null,k(e.sourceEvents,(e,n)=>(t(),g(Ut,{key:e.name||n,"event-name":typeof e==`string`?e:e.name,onNavigateBlueprint:z,onNavigateSector:H},null,8,[`event-name`]))),128))])])):u(``,!0)])):u(``,!0)]))),128))])]),_:2},1032,[`title`,`count`])):u(``,!0)],64)):u(``,!0)]))),128))])),M.value?(t(),g(Ie,{key:3,listName:N.value?.name||``,listData:N.value,onClose:n[1]||=e=>M.value=!1,onNavigate:B},null,8,[`listName`,`listData`])):u(``,!0)]))}};function Yr(){let{sectors:e}=le(),t=S(()=>{let t={crew:new Map,weapons:new Map,augments:new Map,drones:new Map,ships:new Map};return e.value.forEach(e=>{e.crew?.forEach(n=>{t.crew.has(n)||t.crew.set(n,[]),t.crew.get(n).push(e.name)}),e.weapons?.forEach(n=>{t.weapons.has(n)||t.weapons.set(n,[]),t.weapons.get(n).push(e.name)}),e.augments?.forEach(n=>{t.augments.has(n)||t.augments.set(n,[]),t.augments.get(n).push(e.name)}),e.drones?.forEach(n=>{t.drones.has(n)||t.drones.set(n,[]),t.drones.get(n).push(e.name)}),e.ship_unlocks?.forEach(n=>{t.ships.has(n)||t.ships.set(n,[]),t.ships.get(n).push(e.name)})}),t});function n(e,n){return t.value[n]?.get(e)||[]}function r(e,t){return n(e,t).length}return{itemToSectorsMap:t,getSectorsForItem:n,getSectorCount:r}}var Xr=e({}),Zr=e(!1),Qr=e(null);function $r(){async function e(){if(!(Object.keys(Xr.value).length>0)){Zr.value=!0,Qr.value=null;try{let e=await fetch(`/data/all_text_blueprints.json`);if(!e.ok)throw Error(`Failed to fetch text blueprints: ${e.statusText}`);Xr.value=await e.json()}catch(e){Qr.value=e.message,console.error(`Error loading text blueprints:`,e)}finally{Zr.value=!1}}}function t(e){return e?Xr.value[e]||e:``}return{textBlueprints:Xr,loading:Zr,error:Qr,fetchTextBlueprints:e,getText:t}}var ei=e(null),ti=e(!1),ni=e(null);function ri(){async function e(){if(!ei.value){ti.value=!0,ni.value=null;try{ei.value=await se()}catch(e){ni.value=e.message,console.error(`Failed to load animation data:`,e)}finally{ti.value=!1}}}function t(e){if(!ei.value||!e)return null;let t=e.toLowerCase();t.endsWith(`_chaos`)?t=t.slice(0,-6):t.endsWith(`_temp`)?t=t.slice(0,-5):t.endsWith(`_automated`)&&(t=t.slice(0,-10));let n={},r=ei.value.animSheets||{},i=ei.value.animations||{};if(!r[t]||(Object.keys(i).forEach(e=>{let r=e.toLowerCase();(r===t||r.startsWith(t+`_`))&&(n[e]=i[e])}),Object.keys(n).length===0))return null;let a=t,o=n[`${t}_walk_down`];return o?.sheet?a=o.sheet:r[a]||(a=Object.values(n)[0]?.sheet||t),{animations:n,sheet:r[a],sheetName:a}}function n(e){if(!e)return{};let n=e.name,r=ei.value?t(n):null;if(!r||!r.sheet)return{backgroundImage:`url(/img/crew-placeholder.svg)`,backgroundPosition:`0px 0px`,backgroundSize:`70px 70px`,width:`70px`,height:`70px`,imageRendering:`auto`};let{sheet:i,sheetName:a,animations:o}=r,s=i.frameHeight||35,c=i.frameWidth||35,l=i.height||455,u=i.width||35,d=o[`${a}_walk_down`],f=0;d&&(f=(Math.floor(l/s)-1-d.y)*s);let p=n===`human_humanoid`?`hue-rotate(180deg) saturate(1.2)`:void 0;return{backgroundImage:`url(/img/${i.path})`,backgroundPosition:`0px -${f*2}px`,backgroundSize:`${u*2}px ${l*2}px`,width:`${c*2}px`,height:`${s*2}px`,imageRendering:`pixelated`,filter:p}}return{animationData:ei,loading:ti,error:ni,fetchAnimations:e,getCrewAnimations:t,getCrewThumbnailStyle:n}}var{animationData:ii}=ri(),ai=new Map,oi=null,si=new Map;function ci(){function e(e){if(!e||!ii.value)return null;let t=ii.value.weaponAnims||{},n=ii.value.animSheets||{};if(!e.weaponArt)return null;let r=e.weaponArt.toLowerCase();return r===`invisible`&&e.iconReplace?(r=e.iconReplace.toLowerCase(),n[r]?r:null):!t[r]||!n[t[r].sheet]?null:r}function t(e){return ai.has(e)?Promise.resolve(ai.get(e)):new Promise((t,n)=>{let r=new Image;r.onload=()=>{ai.set(e,r),t(r)},r.onerror=n,r.src=e})}function n(e,t){let n=e.getContext(`2d`);n.fillStyle=`#4B5563`,n.fillRect(0,0,t,t),n.strokeStyle=`#6B7280`,n.lineWidth=2,n.strokeRect(1,1,t-2,t-2),n.fillStyle=`#9CA3AF`,n.font=`${t*.6}px Arial`,n.textAlign=`center`,n.textBaseline=`middle`,n.fillText(`?`,t/2,t/2)}async function r(r,i,a=40){if(!i||!ii.value)return;let o=e(r);if(!o){n(i,a);return}ii.value.animations;let s=ii.value.animSheets,c=ii.value.weaponAnims||{},l,u;if(c[o]?(u=c[o],l=s[u.sheet]):s[o]&&(l=s[o],u=null),!l){n(i,a);return}try{let e=await t(`/img/${l.path}`),n=i.getContext(`2d`);n.clearRect(0,0,a,a),n.imageSmoothingEnabled=!1;let r,o;u&&u.length?(r=Math.floor(e.width/u.length),o=e.height):(r=l.frameWidth||l.width,o=l.frameHeight||l.height);let s=u?u.x:0,c=u?u.y:0;u&&u.chargedFrame!==void 0&&(s+=u.chargedFrame);let d=s*r,f=c*o;n.save();let p=Math.min(a/o,a/r),m=r*p,h=o*p,g=(a-m)/2,_=(a-h)/2;n.drawImage(e,d,f,r,o,g,_,m,h),n.restore()}catch(e){console.error(`Failed to render weapon:`,e),n(i,a)}}function i(){oi||=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let t=e.target,n=si.get(t);n&&(r(n.weapon,t,n.size),oi.unobserve(t),si.delete(t))}})},{rootMargin:`100px`,threshold:.01})}function a(e,t,n=40){if(t)return i(),si.set(t,{weapon:e,size:n}),oi.observe(t),t}function o(){oi&&=(oi.disconnect(),null),si.clear()}return c(()=>{o()}),{renderWeaponThumbnail:r,observeThumbnail:a,getWeaponAnimationName:e}}var li={SPAWN_BATTLE:{crewBlueprint:`eldritch_spawn`,tooltipName:`Eldritch Spawn`},SPAWN_BOARDER:{crewBlueprint:`eldritch_spawn`,tooltipName:`Eldritch Spawn`},DIVREPAIR:{crewBlueprint:`divrepair`,tooltipName:`Divine Repair`},REPAIR:{crewBlueprint:`repair`,tooltipName:`Maintenance`},REPAIR_BOARDER:{crewBlueprint:`repairboarder`,tooltipName:`"Repair"`},RECON_DEFAULT:{crewBlueprint:`drone_recon`,tooltipName:`Recon`},RECON_DEFENSE:{crewBlueprint:`drone_recon_defense`,tooltipName:`Recon`},RECON_BOARDER:{crewBlueprint:`drone_recon_boarder`,tooltipName:`Recon`},DOCTOR_DEFENSE:{crewBlueprint:`doctor`,tooltipName:`Doctor Drone`},DOCTOR_BOARDER:{crewBlueprint:`doctor`,tooltipName:`Doctor Drone`},SURGEON_BATTLE:{crewBlueprint:`surgeon`,tooltipName:`Surgeon`},SURGEON_BOARDER:{crewBlueprint:`surgeon`,tooltipName:`Surgeon`},SURGEON_BATTLE_CHAOS:{crewBlueprint:`surgeon_chaos`,tooltipName:`Surgeon`},SURGEON_BOARDER_CHAOS:{crewBlueprint:`surgeon_chaos`,tooltipName:`Surgeon`},FOREMAN_BATTLE:{crewBlueprint:`drone_vamp_foreman`,tooltipName:`Foreman`},FOREMAN_BOARDER:{crewBlueprint:`drone_vamp_foreman`,tooltipName:`Foreman`},FOREMAN_BATTLE_CHAOS:{crewBlueprint:`drone_vamp_foreman_chaos`,tooltipName:`Foreman`},FOREMAN_BOARDER_CHAOS:{crewBlueprint:`drone_vamp_foreman_chaos`,tooltipName:`Foreman`},HOLODRONE_BATTLE:{crewBlueprint:`drone_holodrone`,tooltipName:`Holo-Drone`},HOLODRONE_BOARDER:{crewBlueprint:`drone_holodrone`,tooltipName:`Holo-Drone`},HOLODRONE_BATTLE_CHAOS:{crewBlueprint:`drone_holodrone_chaos`,tooltipName:`Holo-Drone`},HOLODRONE_BOARDER_CHAOS:{crewBlueprint:`drone_holodrone_chaos`,tooltipName:`Holo-Drone`},MANNING:{crewBlueprint:`manning`,tooltipName:`Manager`},MANNING_ENEMY:{crewBlueprint:`manningenemy`,tooltipName:`Manager`},LOOT_SEPARATIST_1_DEFEND:{crewBlueprint:`loot_separatist_1`,tooltipName:`Battle Mk I`},LOOT_SEPARATIST_1_BOARDER:{crewBlueprint:`loot_separatist_1`,tooltipName:`Battle Mk I`},YINYANG_BATTLE:{crewBlueprint:`drone_yinyang`,tooltipName:`Yin Yang`},YINYANG_BOARDER:{crewBlueprint:`drone_yinyang_board`,tooltipName:`Yin Yang`},YINYANG_BATTLE_CHAOS:{crewBlueprint:`drone_yinyang_chaos`,tooltipName:`Yin Yang`},YINYANG_BOARDER_CHAOS:{crewBlueprint:`drone_yinyang_chaos`,tooltipName:`Yin Yang`},BATTLETOG_DEFEND:{crewBlueprint:`drone_battle`,tooltipName:`Battle Mk I`},BATTLETOG_BOARDER:{crewBlueprint:`drone_battle`,tooltipName:`Battle Mk I`},BATTLETOG2_DEFEND:{crewBlueprint:`drone_battle2`,tooltipName:`Battle Mk II`},BATTLETOG2_BOARDER:{crewBlueprint:`drone_battle2`,tooltipName:`Battle Mk II`},BATTLETOG2_BOARDER_SYLVAN:{crewBlueprint:`drone_battle2`,tooltipName:`Battle Mk II`},CONSTRUCTOR:{crewBlueprint:`drone_vamp_constructor`,tooltipName:`Constructor`},PRODUCER:{crewBlueprint:`drone_vamp_producer`,tooltipName:`Producer`},GRAZIER_BATTLE:{crewBlueprint:`drone_vamp_grazier`,tooltipName:`Grazier`},GRAZIER_BOARDER:{crewBlueprint:`drone_vamp_grazier`,tooltipName:`Grazier`},BUTLER_DEFENSE:{crewBlueprint:`butler`,tooltipName:`Butler`},BUTLER_BOARDER:{crewBlueprint:`butler`,tooltipName:`Butler`},A55_BATTLE:{crewBlueprint:`a55`,tooltipName:`A5540L3`},A55_BOARDER:{crewBlueprint:`a55`,tooltipName:`A5540L3`},GANA_BATTLE:{crewBlueprint:`gana`,tooltipName:`Gana`},GANA_BOARDER:{crewBlueprint:`gana`,tooltipName:`Gana`},MENDER:{crewBlueprint:`mender`,tooltipName:`Mender`},MENDERR:{crewBlueprint:`menderr`,tooltipName:`Mender`},DIRECTOR:{crewBlueprint:`director`,tooltipName:`Director`},ATOM_DEFEND:{crewBlueprint:`atom`,tooltipName:`Atomizer`},ATOM_BOARDER:{crewBlueprint:`atom`,tooltipName:`Atomizer`},ATOMR_DEFEND:{crewBlueprint:`atomr`,tooltipName:`Royal Atomizer`},ATOMR_BOARDER:{crewBlueprint:`atomr`,tooltipName:`Royal Atomizer`},ROOMBA_DEFEND:{crewBlueprint:`roomba`,tooltipName:`Roomba`},ROOMBA_BOARDER:{crewBlueprint:`roomba`,tooltipName:`Roomba`}},{animationData:ui,getCrewAnimations:di,fetchAnimations:fi}=ri();fi();var pi=new Map,mi=null,hi=new Map;function gi(){function e(e){return pi.has(e)?Promise.resolve(pi.get(e)):new Promise((t,n)=>{let r=new Image;r.onload=()=>{pi.set(e,r),t(r)},r.onerror=n,r.src=e})}function t(e,t){let n=e.getContext(`2d`);n.fillStyle=`#4B5563`,n.fillRect(0,0,t,t),n.strokeStyle=`#6B7280`,n.lineWidth=2,n.strokeRect(1,1,t-2,t-2),n.fillStyle=`#9CA3AF`,n.font=`${t*.6}px Arial`,n.textAlign=`center`,n.textBaseline=`middle`,n.fillText(`?`,t/2,t/2)}async function n(n,i,a=40){if(!i)return;ui.value||await fi();let o=n?.type;if(o===`BATTLE`||o===`BOARDER`||o===`REPAIR`){let e=li[n.name];if(e?.crewBlueprint){await r(e.crewBlueprint,i,a);return}else{t(i,a);return}}if(o===`DEFENSE`){if(!n.droneImage){t(i,a);return}let r=`/img/ship/drones/${n.droneImage}_base.png`,o=`/img/ship/drones/${n.droneImage}_gun.png`;try{let t=await e(r),n=await e(o),s=i.getContext(`2d`);s.clearRect(0,0,a,a),s.imageSmoothingEnabled=!1;let c=Math.min(a/t.height,a/t.width),l=t.width*c,u=t.height*c,d=(a-l)/2,f=(a-u)/2;s.drawImage(t,0,0,t.width,t.height,d,f,l,u),s.drawImage(n,0,0,n.width,n.height,d,f,l,u)}catch(e){console.error(`Failed to render defense drone:`,e),t(i,a)}return}if(o===`COMBAT`){if(!n.droneImage){t(i,a);return}let r=`/img/ship/drones/${n.droneImage}_on.png`;try{let t=await e(r),n=i.getContext(`2d`);n.clearRect(0,0,a,a),n.imageSmoothingEnabled=!1;let o=Math.min(a/t.height,a/t.width),s=t.width*o,c=t.height*o,l=(a-s)/2,u=(a-c)/2;n.drawImage(t,0,0,t.width,t.height,l,u,s,c)}catch(e){console.error(`Failed to render drone:`,e),t(i,a)}return}t(i,a)}async function r(n,r,i=40){if(!r||!ui.value)return;let a=di(n);if(!a||!a.sheet){t(r,i);return}let{sheet:o,sheetName:s,animations:c}=a,l=o.frameHeight||35,u=o.frameWidth||35,d=o.height||455,f=c[`${s}_walk_down`],p=0;f&&(p=(Math.ceil(d/l)-1-f.y)*l);try{let t=await e(`/img/${o.path}`),a=r.getContext(`2d`);a.clearRect(0,0,i,i),a.imageSmoothingEnabled=!1;let s=i/l,c=u*s,d=l*s,f=(i-c)/2,m=(i-d)/2;n===`human_humanoid`&&(a.filter=`hue-rotate(180deg) saturate(1.2)`),a.drawImage(t,0,p,u,l,f,m,c,d),a.filter=`none`}catch(e){console.error(`Failed to render crew drone:`,e),t(r,i)}}function i(){mi||=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let t=e.target,r=hi.get(t);r&&(n(r.drone,t,r.size),mi.unobserve(t),hi.delete(t))}})},{rootMargin:`100px`,threshold:.01})}function a(e,t,n=40){if(t)return i(),hi.set(t,{drone:e,size:n}),mi.observe(t),t}function o(){mi&&=(mi.disconnect(),null),hi.clear()}return c(()=>{o()}),{renderDroneThumbnail:n,observeThumbnail:a}}var _i={class:`flex flex-col gap-2`},vi={class:`text-sm font-semibold text-gray-300`},yi=[`value`],bi=[`value`],xi={__name:`FilterDropdown`,props:{modelValue:{type:String,default:``},label:{type:String,required:!0},options:{type:Array,required:!0}},emits:[`update:modelValue`],setup(e,{emit:n}){let r=n;function i(e){r(`update:modelValue`,e.target.value)}return(n,r)=>(t(),O(`div`,_i,[_(`label`,vi,s(e.label),1),_(`select`,{value:e.modelValue,onChange:i,class:`px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:outline-none focus:border-blue-500 transition-colors`},[r[0]||=_(`option`,{value:``},`All`,-1),(t(!0),O(h,null,k(e.options,e=>(t(),O(`option`,{key:e.value,value:e.value},s(e.label),9,bi))),128))],40,yi)]))}},Si=(e,t)=>{let n=e.__vccOpts||e;for(let[e,r]of t)n[e]=r;return n},Ci={class:`flex items-center justify-between p-6 border-b border-gray-700`},wi={class:`flex items-center gap-4 flex-1`},Ti={class:`flex-1`},Ei={class:`flex items-center justify-between`},Di={class:`text-2xl font-bold text-blue-400`},Oi={key:0,class:`text-sm text-gray-500 mt-1`},ki={key:0,class:`flex gap-2 items-center`},Ai={class:`text-sm text-gray-400 min-w-[3rem] text-center`},ji={class:`flex-1 overflow-y-auto p-6 space-y-6`},Mi={class:`grid grid-cols-2 gap-4`},Ni={key:0,class:`bg-gray-800 p-3 rounded`},Pi={class:`text-gray-300 break-words`},Fi={class:`text-orange-400 font-mono`},Ii={key:1,class:`bg-gray-800 p-3 rounded`},Li={class:`text-gray-300 break-words`},Ri={class:`text-cyan-400 font-mono`},zi={key:0,class:`bg-gray-800 p-3 rounded`},Bi={class:`text-xs text-gray-500 mb-1`},Vi={class:`text-gray-300 break-words`},Hi={key:1,class:`text-green-400`},Ui={key:2,class:`text-yellow-400`},Wi={key:3,class:`text-red-400`},Gi={key:4,class:`text-orange-400 font-mono`},Ki={key:5,class:`text-red-400 font-mono`},qi={key:6,class:`text-purple-400 font-mono`},Ji={key:7,class:`text-cyan-400 font-mono`},Yi={key:8,class:`text-green-400 font-mono`},Xi={key:9,class:`text-blue-400 font-mono`},Zi={key:10,class:`text-yellow-400 font-bold`},Qi={key:11,class:`text-cyan-400`},$i={key:12,class:`text-purple-400`},ea={key:13,class:`font-mono text-sm`},ta={key:0,class:`bg-gray-800 p-4 rounded`},na={class:`text-gray-300`},ra={key:1,class:`bg-gray-800 p-4 rounded`},ia={class:`text-gray-300 whitespace-pre-wrap`},aa={key:2,class:`bg-gray-800 p-4 rounded`},oa={class:`text-gray-300 whitespace-pre-wrap`},sa={key:3,class:`bg-gray-800 p-4 rounded`},ca={class:`text-gray-300 whitespace-pre-wrap`},la={key:4,class:`bg-gray-800 p-4 rounded`},ua={class:`grid grid-cols-2 gap-4`},da={key:0,class:`flex justify-between`},fa={class:`text-red-400 font-mono`},pa={key:1,class:`flex justify-between`},ma={class:`text-orange-400 font-mono`},ha={key:2,class:`flex justify-between`},ga={class:`text-purple-400 font-mono`},_a={key:3,class:`flex justify-between`},va={class:`text-cyan-400 font-mono`},ya={key:5,class:`bg-gray-800 p-4 rounded`},ba={class:`grid grid-cols-2 gap-4`},xa={class:`flex justify-between`},Sa={class:`text-blue-400 font-mono`},Ca={class:`flex justify-between`},wa={class:`text-green-400 font-mono`},Ta={key:0,class:`flex justify-between`},Ea={class:`text-yellow-400 font-mono`},Da={key:1,class:`flex justify-between`},Oa={class:`text-purple-400 font-mono`},ka={key:6,class:`bg-gray-800 p-4 rounded`},Aa={class:`space-y-2`},ja={class:`flex justify-between col-span-2`},Ma={class:`text-blue-400 font-mono`},Na={class:`flex justify-between`},Pa={class:`text-green-400 font-mono`},Fa={key:0,class:`flex justify-between col-span-3`},Ia={class:`text-red-400 font-mono`},La={key:7,class:`bg-gray-800 p-4 rounded`},Ra=Si({__name:`WeaponDetailModal`,props:{weapon:{type:Object,required:!0},show:{type:Boolean,default:!1},versions:{type:Array,default:null},currentIndex:{type:Number,default:0}},emits:[`close`,`navigate-sector`,`change-version`],setup(r,{emit:a}){let c=r,d=a,{getText:p}=$r(),{renderWeaponThumbnail:v}=ci(),y=e(null),b=S(()=>c.weapon?.weaponBlueprint||{});ne(()=>{y.value&&b.value&&v(b.value,y.value,200)}),n(()=>b.value,e=>{y.value&&e&&v(e,y.value,200)},{deep:!0});function x(){d(`close`)}function C(e){d(`change-version`,e)}function w(e){let t={sp:`Shield Piercing`,bp:`Blueprint Cost`,ion:`Ion Damage`,persDamage:`Personnel Damage`,sysDamage:`System Damage`,hullBust:`Hull Bust`,noSysDamage:`No System Damage`,noPersDamage:`No Personnel Damage`,accuracyMod:`Accuracy Modifier`,drone_targetable:`Targetable by Drones`,statBoostChance:`Stat Boost Chance`,freeMissiles:`Free Missiles`,freepower:`Free Power`,freeMissileChance:`Free Missile Chance`,chargeLevels:`Charge Levels`,spawnCrew:`Spawns Crew`,crewSpawnChance:`Crew Spawn Chance`,statBoosts:`Stat Boosts`,roomStatBoosts:`Room Stat Boosts`,roomStatBoostChance:`Room Stat Boost Chance`,erosion:`Erosion Damage`,erosionChance:`Erosion Chance`,"mv-stealth":`Stealth (No Cloak Penalty)`,simultaneousFire:`Simultaneous Fire`,fireTime:`Fire Time`};return t[e]?t[e]:e.replace(/([A-Z])/g,` $1`).replace(/^./,e=>e.toUpperCase()).trim()}function ee(e,t){return!([`_`,`E`,`N`,`R`,`O`,`A`,`D`,`S`,`M`,`L`,`I`,`B`,`F`,`C`,`T`,`P`,`U`,`Y`,`G`,`K`,`H`,`1`,`2`,`3`].includes(e)||t==null||t===``)}function E(e,t){return t===`tip`||t===`tooltip`?Array.isArray(e)?e.map(e=>p(e)).join(`

`):p(e):typeof e==`object`?JSON.stringify(e,null,2):String(e)}function D(e,t){return!e&&!t?null:!t||e===t?e?.toFixed(3):`${e.toFixed(3)} - ${t.toFixed(3)}`}let A=S(()=>{let e=`type.rarity.cost.power.damage.shots.sp.ion.sysDamage.hullBust.fireChance.breachChance.statBoostChance.lockdown.cooldown.speed.chargeTime.fireTime.length.missiles.drones.shotLimit.chargeLevels.spawnCrew.crewSpawnChance.statBoosts.roomStatBoosts.roomStatBoostChance.erosion.erosionChance.radius.accuracyMod.drone_targetable.noSysDamage.noPersDamage.freepower.freeMissiles.freeMissileChance.mv-stealth.simultaneousFire`.split(`.`),t=[];for(let n of e)ee(n,b.value[n])&&t.push({key:n,label:w(n),value:b.value[n]});return t}),j=S(()=>{let e=parseFloat(b.value.damage)||0,t=parseFloat(b.value.persDamage)||0;return e===0&&t===0?null:(e+t)*15}),M=S(()=>{let e=parseFloat(b.value.stunChance)||0,t=parseFloat(b.value.stun)||0;if(e===0&&t===0)return null;let n;return n=t>0?t:e>10?e:e===10?6:3,{chance:Math.min(e*10,100),duration:n}}),N=S(()=>{let e=b.value.boost;return e?{type:e.type,amount:e.amount,count:e.count,boostCount:e.boostCount}:null}),P=S(()=>{let e=b.value.projectiles?.projectile;return e?Array.isArray(e)?e:[e]:null});return(e,n)=>(t(),g(T,{to:`body`},[f(te,{name:`modal`},{default:o(()=>[r.show?(t(),O(`div`,{key:0,class:`fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70`,onClick:x},[_(`div`,{class:`bg-gray-900 border-2 border-gray-700 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col`,onClick:n[2]||=m(()=>{},[`stop`])},[_(`div`,Ci,[_(`div`,wi,[_(`canvas`,{ref_key:`weaponCanvas`,ref:y,width:`200`,height:`200`,class:`weapon-modal-image flex-shrink-0`,style:{"image-rendering":`pixelated`}},null,512),_(`div`,Ti,[_(`div`,Ei,[_(`div`,null,[_(`h2`,Di,s(b.value.title||b.value.name),1),b.value.name?(t(),O(`div`,Oi,s(b.value.name),1)):u(``,!0)]),r.versions&&r.versions.length>1?(t(),O(`div`,ki,[_(`button`,{onClick:n[0]||=e=>C(-1),class:`w-10 h-10 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-lg`,title:`Previous version`},` ‹ `),_(`span`,Ai,s(r.currentIndex+1)+` / `+s(r.versions.length),1),_(`button`,{onClick:n[1]||=e=>C(1),class:`w-10 h-10 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-lg`,title:`Next version`},` › `)])):u(``,!0)])])]),_(`button`,{onClick:x,class:`text-gray-400 hover:text-white text-2xl leading-none px-2 ml-4`,"aria-label":`Close`},` × `)]),_(`div`,ji,[_(`div`,Mi,[j.value?(t(),O(`div`,Ni,[n[3]||=_(`div`,{class:`text-xs text-gray-500 mb-1`},`Crew Damage`,-1),_(`div`,Pi,[_(`span`,Fi,s(j.value.toFixed(1)),1)])])):u(``,!0),M.value?(t(),O(`div`,Ii,[n[4]||=_(`div`,{class:`text-xs text-gray-500 mb-1`},`Stun`,-1),_(`div`,Li,[_(`span`,Ri,s(M.value.chance.toFixed(0))+`% chance, `+s(M.value.duration.toFixed(1))+`s`,1)])])):u(``,!0),(t(!0),O(h,null,k(A.value,e=>(t(),O(h,{key:e.key},[e.key!==`desc`&&e.key!==`tooltip`&&e.key!==`tip`&&e.key!==`short`?(t(),O(`div`,zi,[_(`div`,Bi,s(e.label),1),_(`div`,Vi,[e.key===`rarity`?(t(),O(`span`,{key:0,class:i({"text-gray-400":e.value===`0`,"text-green-400":e.value===`1`,"text-blue-400":e.value===`2`,"text-purple-400":e.value===`3`,"text-orange-400":e.value===`4`,"text-red-400":e.value===`5`})},s([`Unpurchaseable`,`Common`,`Uncommon`,`Rare`,`Very Rare`,`Ultra Rare`][parseInt(e.value)]||e.value),3)):e.key===`cost`?(t(),O(`span`,Hi,s(e.value),1)):e.key===`power`?(t(),O(`span`,Ui,s(e.value),1)):e.key===`damage`?(t(),O(`span`,Wi,s(e.value),1)):e.key===`breachChance`?(t(),O(`span`,Gi,s((parseFloat(e.value)*10).toFixed(0))+`%`,1)):e.key===`fireChance`?(t(),O(`span`,Ki,s((parseFloat(e.value)*10).toFixed(0))+`%`,1)):e.key===`crewSpawnChance`?(t(),O(`span`,qi,s((parseFloat(e.value)*10).toFixed(0))+`%`,1)):e.key===`erosionChance`?(t(),O(`span`,Ji,s((parseFloat(e.value)*10).toFixed(0))+`%`,1)):e.key===`freeMissileChance`?(t(),O(`span`,Yi,s(parseFloat(e.value).toFixed(0))+`%`,1)):e.key===`roomStatBoostChance`?(t(),O(`span`,Xi,s((parseFloat(e.value)*10).toFixed(0))+`%`,1)):e.key===`shotLimit`?(t(),O(`span`,Zi,s(e.value)+` uses per fight`,1)):e.key===`mv-stealth`?(t(),O(`span`,Qi,s(e.value===`true`?`Yes`:`No`),1)):e.key===`simultaneousFire`?(t(),O(`span`,$i,s(e.value===`true`?`Yes`:`No`),1)):(t(),O(`span`,ea,s(E(e.value,e.key)),1))])])):u(``,!0)],64))),128))]),b.value.short?(t(),O(`div`,ta,[n[5]||=_(`div`,{class:`text-xs text-gray-500 mb-2`},`Short Description`,-1),_(`div`,na,s(b.value.short),1)])):u(``,!0),b.value.desc?(t(),O(`div`,ra,[n[6]||=_(`div`,{class:`text-xs text-gray-500 mb-2`},`Description`,-1),_(`div`,ia,s(typeof b.value.desc==`string`?b.value.desc:b.value.desc?.text||JSON.stringify(b.value.desc)),1)])):u(``,!0),b.value.tooltip?(t(),O(`div`,aa,[n[7]||=_(`div`,{class:`text-xs text-gray-500 mb-2`},`Tooltip`,-1),_(`div`,oa,s(E(b.value.tooltip,`tooltip`)),1)])):u(``,!0),b.value.tip?(t(),O(`div`,sa,[n[8]||=_(`div`,{class:`text-xs text-gray-500 mb-2`},`Tip`,-1),_(`div`,ca,s(E(b.value.tip,`tip`)),1)])):u(``,!0),b.value.hullDPS||b.value.crewDPS||b.value.sysDPS||b.value.ionDPS?(t(),O(`div`,la,[n[13]||=_(`div`,{class:`text-xs text-gray-500 mb-3`},`Damage Per Second (DPS)`,-1),_(`div`,ua,[D(b.value.hullDPS,b.value.hullDPSMax)?(t(),O(`div`,da,[n[9]||=_(`span`,{class:`text-gray-400`},`Hull DPS:`,-1),_(`span`,fa,s(D(b.value.hullDPS,b.value.hullDPSMax)),1)])):u(``,!0),D(b.value.crewDPS,b.value.crewDPSMax)?(t(),O(`div`,pa,[n[10]||=_(`span`,{class:`text-gray-400`},`Crew DPS:`,-1),_(`span`,ma,s(D(b.value.crewDPS,b.value.crewDPSMax)),1)])):u(``,!0),D(b.value.sysDPS,b.value.sysDPSMax)?(t(),O(`div`,ha,[n[11]||=_(`span`,{class:`text-gray-400`},`System DPS:`,-1),_(`span`,ga,s(D(b.value.sysDPS,b.value.sysDPSMax)),1)])):u(``,!0),D(b.value.ionDPS,b.value.ionDPSMax)?(t(),O(`div`,_a,[n[12]||=_(`span`,{class:`text-gray-400`},`Ion DPS:`,-1),_(`span`,va,s(D(b.value.ionDPS,b.value.ionDPSMax)),1)])):u(``,!0)])])):u(``,!0),N.value?(t(),O(`div`,ya,[n[18]||=_(`div`,{class:`text-xs text-gray-500 mb-3`},`Boost Mechanics`,-1),_(`div`,ba,[_(`div`,xa,[n[14]||=_(`span`,{class:`text-gray-400`},`Type:`,-1),_(`span`,Sa,s(N.value.type),1)]),_(`div`,Ca,[n[15]||=_(`span`,{class:`text-gray-400`},`Amount:`,-1),_(`span`,wa,s(N.value.amount),1)]),N.value.count?(t(),O(`div`,Ta,[n[16]||=_(`span`,{class:`text-gray-400`},`Per Shot:`,-1),_(`span`,Ea,s(N.value.count),1)])):u(``,!0),N.value.boostCount?(t(),O(`div`,Da,[n[17]||=_(`span`,{class:`text-gray-400`},`Max Stacks:`,-1),_(`span`,Oa,s(N.value.boostCount),1)])):u(``,!0)])])):u(``,!0),P.value&&P.value.length>0?(t(),O(`div`,ka,[n[22]||=_(`div`,{class:`text-xs text-gray-500 mb-3`},`Projectiles`,-1),_(`div`,Aa,[(t(!0),O(h,null,k(P.value,(e,r)=>(t(),O(`div`,{key:r,class:`grid grid-cols-3 gap-4 bg-gray-900 p-2 rounded`},[_(`div`,ja,[n[19]||=_(`span`,{class:`text-gray-400`},`Type:`,-1),_(`span`,Ma,s(e._text),1)]),_(`div`,Na,[n[20]||=_(`span`,{class:`text-gray-400`},`Count:`,-1),_(`span`,Pa,s(e.count),1)]),e.fake?(t(),O(`div`,Fa,[n[21]||=_(`span`,{class:`text-gray-400`},`Fake:`,-1),_(`span`,Ia,s(e.fake),1)])):u(``,!0)]))),128))])])):u(``,!0),e.$slots.sectors?(t(),O(`div`,La,[n[23]||=_(`div`,{class:`text-xs text-gray-500 mb-2`},`Found In Sectors`,-1),l(e.$slots,`sectors`,{},void 0,!0)])):u(``,!0)])])])):u(``,!0)]),_:3})]))}},[[`__scopeId`,`data-v-cd30bacf`]]),za={class:`flex items-center justify-between p-6 border-b border-gray-700`},Ba={class:`flex-1`},Va={class:`flex items-center gap-4`},Ha={class:`flex-1`},Ua={class:`text-2xl font-bold text-blue-400`},Wa={key:0,class:`text-yellow-400 mr-2`},Ga={key:1,class:`mr-2`},Ka={key:0,class:`text-sm text-gray-500 mt-1`},qa={key:1,class:`text-sm text-gray-400 mt-1`},Ja={key:1,class:`flex gap-2 items-center`},Ya={class:`text-sm text-gray-400 min-w-[3rem] text-center`},Xa={class:`flex-1 overflow-y-auto p-6 space-y-6`},Za={class:`grid grid-cols-2 gap-4`},Qa={key:0,class:`bg-gray-800 p-3 rounded`},$a={class:`text-green-400`},eo={key:1,class:`bg-gray-800 p-3 rounded`},to={key:0,class:`bg-gray-800 p-4 rounded`},no={class:`text-gray-300 whitespace-pre-wrap`},ro={key:1,class:`bg-gray-800 p-4 rounded`},io={class:`list-disc list-inside space-y-1 text-gray-300`},ao={key:2,class:`bg-gray-800 p-4 rounded`},oo={class:`grid grid-cols-2 gap-3`},so={class:`text-xs text-gray-500 mb-1`},co={key:3,class:`bg-gray-800 p-4 rounded`},lo=Si({__name:`CrewDetailModal`,props:{crew:{type:Object,required:!0},show:{type:Boolean,default:!1},versions:{type:Array,default:null},currentIndex:{type:Number,default:0}},emits:[`close`,`navigate-sector`,`change-version`],setup(e,{emit:n}){let r=e,c=n,{getCrewThumbnailStyle:d}=ri(),p=S(()=>r.crew?.crewBlueprint||{}),v=S(()=>p.value.race||{});function b(){c(`close`)}function x(e){c(`change-version`,e)}function C(e){return e?e.name?.startsWith(`unique_`)?e.name.substring(7).split(`_`).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(` `):e.name?.toLowerCase().startsWith(`gb`)?e.name.substring(2).split(`_`).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(` `):e.title||e.name:`Unknown`}function w(e){if(!e?.powerList)return[];let t=e.powerList;if(t.power){if(Array.isArray(t.power))return t.power;if(typeof t.power==`string`)return[t.power]}return[]}function ee(e){let t={maxHealth:`Max Health`,repairSpeed:`Repair Speed`,moveSpeedMultiplier:`Move Speed`,damageMultiplier:`Damage Multiplier`,suffocationModifier:`Suffocation Modifier`,fireDamageMultiplier:`Fire Damage Multiplier`,bonusPower:`Bonus Power`,canFight:`Can Fight`,canRepair:`Can Repair`,canSabotage:`Can Sabotage`,canSuffocate:`Can Suffocate`,canBurn:`Can Burn`,canTeleport:`Can Teleport`,teleportMove:`Teleport Move`,resistsMindControl:`Resists Mind Control`,canPhaseThroughDoors:`Can Phase Through Doors`,stunMultiplier:`Stun Multiplier`,healSpeed:`Heal Speed`,oxygenChangeSpeed:`Oxygen Change Speed`,noClone:`No Clone`,noSlot:`No Slot`,controllable:`Controllable`,damageTakenMultiplier:`Damage Taken Multiplier`,passiveHealAmount:`Passive Heal Amount`,passiveHealDelay:`Passive Heal Delay`,lowHealthThreshold:`Low Health Threshold`,lowHealthThresholdPercentage:`Low Health Threshold %`,fireRepairMultiplier:`Fire Repair Multiplier`,cloneLoseSkills:`Clone Lose Skills`,defaultSkillLevel:`Default Skill Level`,noWarning:`No Warning`};return t[e]?t[e]:e.replace(/([A-Z])/g,` $1`).replace(/^./,e=>e.toUpperCase()).trim()}function E(e,t){return!([`name`,`animBase`,`animSheet`,`skills`,`deathSounds`,`shootingSounds`,`repairSounds`,`powerEffect`,`passiveStatBoosts`,`deathEffect`,`nameRace`,`hasCustomDeathAnimation`,`hasDeathExplosion`].includes(e)||t==null||t===``||typeof t==`object`&&Object.keys(t).length===0)}function D(e){return e===`true`||e===!0?`Yes`:e===`false`||e===!1?`No`:e}function ne(e){return e===`true`||e===!0?`text-green-400`:e===`false`||e===!1?`text-red-400`:`text-gray-300`}let j=S(()=>{let e=[];for(let[t,n]of Object.entries(v.value))E(t,n)&&e.push({key:t,label:ee(t),value:n});return e});return(n,r)=>(t(),g(T,{to:`body`},[f(te,{name:`modal`},{default:o(()=>[e.show?(t(),O(`div`,{key:0,class:`fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70`,onClick:b},[_(`div`,{class:`bg-gray-900 border-2 border-gray-700 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col`,onClick:r[2]||=m(()=>{},[`stop`])},[_(`div`,za,[_(`div`,Ba,[_(`div`,Va,[y(d)(p.value).backgroundImage?(t(),O(`div`,{key:0,style:a(y(d)(p.value)),class:`flex-shrink-0`},null,4)):u(``,!0),_(`div`,Ha,[_(`h2`,Ua,[p.value.name?.startsWith(`unique_`)?(t(),O(`span`,Wa,`⭐`)):u(``,!0),p.value.name?.toUpperCase().includes(`CHAOS`)?(t(),O(`span`,Ga,`🤯`)):u(``,!0),A(` `+s(C(p.value)),1)]),p.value.name?(t(),O(`div`,Ka,s(p.value.name),1)):u(``,!0),p.value.title&&p.value.name?.startsWith(`unique_`)?(t(),O(`div`,qa,s(p.value.title),1)):u(``,!0)]),e.versions&&e.versions.length>1?(t(),O(`div`,Ja,[_(`button`,{onClick:r[0]||=e=>x(-1),class:`w-10 h-10 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-lg`,title:`Previous version`},` ‹ `),_(`span`,Ya,s(e.currentIndex+1)+` / `+s(e.versions.length),1),_(`button`,{onClick:r[1]||=e=>x(1),class:`w-10 h-10 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-lg`,title:`Next version`},` › `)])):u(``,!0)])]),_(`button`,{onClick:b,class:`text-gray-400 hover:text-white text-2xl leading-none px-2 ml-4`,"aria-label":`Close`},` × `)]),_(`div`,Xa,[_(`div`,Za,[p.value.cost?(t(),O(`div`,Qa,[r[3]||=_(`div`,{class:`text-xs text-gray-500 mb-1`},`Cost`,-1),_(`div`,$a,s(p.value.cost),1)])):u(``,!0),p.value.rarity?(t(),O(`div`,eo,[r[4]||=_(`div`,{class:`text-xs text-gray-500 mb-1`},`Rarity`,-1),_(`div`,{class:i({"text-gray-400":p.value.rarity===`0`,"text-green-400":p.value.rarity===`1`,"text-blue-400":p.value.rarity===`2`,"text-purple-400":p.value.rarity===`3`,"text-orange-400":p.value.rarity===`4`,"text-red-400":p.value.rarity===`5`})},s([`Unpurchaseable`,`Common`,`Uncommon`,`Rare`,`Very Rare`,`Ultra Rare`][parseInt(p.value.rarity)]||p.value.rarity),3)])):u(``,!0)]),p.value.desc?(t(),O(`div`,to,[r[5]||=_(`div`,{class:`text-xs text-gray-500 mb-2`},`Description`,-1),_(`div`,no,s(p.value.desc),1)])):u(``,!0),w(p.value).length>0?(t(),O(`div`,ro,[r[6]||=_(`div`,{class:`text-xs text-gray-500 mb-2`},`Powers`,-1),_(`ul`,io,[(t(!0),O(h,null,k(w(p.value),(e,n)=>(t(),O(`li`,{key:n},s(e),1))),128))])])):u(``,!0),j.value.length>0?(t(),O(`div`,ao,[r[7]||=_(`div`,{class:`text-xs text-gray-500 mb-3`},`Race Statistics`,-1),_(`div`,oo,[(t(!0),O(h,null,k(j.value,e=>(t(),O(`div`,{key:e.key,class:`bg-gray-900 p-2 rounded`},[_(`div`,so,s(e.label),1),_(`div`,{class:i([`font-mono text-sm`,e.value===`true`||e.value===!0||e.value===`false`||e.value===!1?ne(e.value):`text-gray-300`])},s(D(e.value)),3)]))),128))])])):u(``,!0),n.$slots.sectors?(t(),O(`div`,co,[r[8]||=_(`div`,{class:`text-xs text-gray-500 mb-2`},`Found In Sectors`,-1),l(n.$slots,`sectors`,{},void 0,!0)])):u(``,!0)])])])):u(``,!0)]),_:3})]))}},[[`__scopeId`,`data-v-9be0b8f0`]]),uo={class:`sticky top-0 bg-gray-800 border-b border-gray-700 p-4 flex justify-between items-center gap-4`},fo={class:`flex items-center gap-4 flex-1`},po={class:`flex-1`},mo={class:`text-xl font-bold text-blue-400`},ho={key:0,class:`text-yellow-400 mr-1`,title:`Unique drone`},go={key:1,class:`mr-1`,title:`Ancient/Royal`},_o={key:2,class:`mr-1`,title:`Loot`},vo={key:3,class:`mr-1`,title:`Chaos`},yo={class:`flex items-center gap-2`},bo={key:0,class:`flex items-center gap-1`},xo={class:`px-2 text-sm text-gray-400`},So={class:`p-6 space-y-6`},Co={class:`text-sm text-gray-500 mb-2`},wo={class:`text-sm text-gray-400 space-y-2`},To={key:0,class:`flex`},Eo={key:1,class:`flex`},Do={key:0,class:`border-t border-gray-700 pt-4`},Oo={class:`text-gray-400 whitespace-pre-line`},ko={key:1,class:`border-t border-gray-700 pt-4`},Ao={class:`text-gray-400 whitespace-pre-line`},jo={key:2,class:`border-t border-gray-700 pt-4`},Mo={class:`grid grid-cols-2 gap-x-4 gap-y-2`},No={class:`font-semibold text-gray-400 w-40`},Po={class:`text-gray-300`},Fo={key:3,class:`border-t border-gray-700 pt-4`},Io={class:`space-y-4`},Lo={class:`text-blue-400 font-semibold text-lg mb-2`},Ro={class:`text-xs text-gray-500 ml-2`},zo={key:0,class:`text-gray-300 text-sm mb-3 pb-3 border-b border-gray-700`},Bo={class:`grid grid-cols-2 gap-x-6 gap-y-2 text-sm`},Vo={key:0,class:`flex items-center`},Ho={class:`text-gray-300`},Uo={key:1,class:`flex items-center`},Wo={class:`text-red-400 font-mono`},Go={key:2,class:`flex items-center`},Ko={class:`text-gray-300 font-mono`},qo={key:3,class:`flex items-center`},Jo={class:`text-yellow-400 font-mono`},Yo={key:4,class:`flex items-center`},Xo={class:`text-gray-300 font-mono`},Zo={key:5,class:`flex items-center`},Qo={class:`text-purple-400 font-mono`},$o={key:6,class:`flex items-center`},es={class:`text-orange-400 font-mono`},ts={key:7,class:`flex items-center`},ns={class:`text-orange-400 font-mono`},rs={key:8,class:`flex items-center`},is={class:`text-blue-400 font-mono`},as={key:9,class:`flex items-center`},os={class:`text-cyan-400 font-mono`},ss={key:4,class:`border-t border-gray-700 pt-4`},cs={class:`bg-gray-900 rounded-lg p-4 space-y-2`},ls={class:`text-blue-400 font-semibold text-lg mb-2`},us={key:0,class:`text-gray-300 text-sm mb-3 pb-3 border-b border-gray-700`},ds={class:`grid grid-cols-2 gap-x-6 gap-y-2 text-sm`},fs={key:0,class:`flex items-center`},ps={class:`text-gray-300`},ms={key:1,class:`flex items-center`},hs={class:`text-red-400 font-mono`},gs={key:2,class:`flex items-center`},_s={class:`text-gray-300 font-mono`},vs={key:3,class:`flex items-center`},ys={class:`text-yellow-400 font-mono`},bs={key:4,class:`flex items-center`},xs={class:`text-gray-300 font-mono`},Ss={key:5,class:`flex items-center`},Cs={class:`text-purple-400 font-mono`},ws={key:6,class:`flex items-center`},Ts={class:`text-orange-400 font-mono`},Es={key:7,class:`flex items-center`},Ds={class:`text-orange-400 font-mono`},Os={key:8,class:`flex items-center`},ks={class:`text-blue-400 font-mono`},As={key:5,class:`border-t border-gray-700 pt-4`},js={class:`grid grid-cols-2 gap-x-6 gap-y-2 text-sm`},Ms={class:`flex items-center`},Ns={class:`text-gray-300 font-mono`},Ps={class:`flex items-center`},Fs={class:`text-gray-300 font-mono`},Is={class:`flex items-center`},Ls={class:`flex items-center`},Rs={class:`text-gray-300 font-mono`},zs={class:`flex items-center`},Bs={class:`flex items-center`},Vs={class:`flex items-center`},Hs={class:`flex items-center`},Us={key:0,class:`mt-4`},Ws={class:`list-disc list-inside text-gray-300 space-y-1`},Gs={key:1},Ks={class:`border-t border-gray-700 pt-4`},qs={class:`flex flex-wrap gap-2`},Js=Si({__name:`DroneDetailModal`,props:{drone:{type:Object,required:!0},show:{type:Boolean,default:!1},versions:{type:Array,default:()=>[]},currentIndex:{type:Number,default:0}},emits:[`close`,`navigate-sector`,`change-version`],setup(r,{emit:a}){let c=r,d=a,{getText:p}=$r(),{blueprintArrays:v}=fe(),{renderDroneThumbnail:y}=gi(),b=e(null),x=S(()=>c.drone?.droneBlueprint||{});ne(()=>{b.value&&x.value&&y(x.value,b.value,200)}),n(()=>x.value,e=>{b.value&&e&&y(e,b.value,200)},{deep:!0});let C=S(()=>{if(!x.value.name)return null;let e=li[x.value.name];if(!e)return null;let t=e.crewBlueprint;return v.value?.crew?.find(e=>e.crewBlueprint?.name===t)?.crewBlueprint}),w=S(()=>{if(!x.value.weaponBlueprint)return null;let e=x.value.weaponBlueprint;return v.value?.weapons?.find(t=>t.weaponBlueprint?.name===e)?.weaponBlueprint}),ee=S(()=>{if(x.value.name!==`COMBAT_RANDOM`)return null;let e=[`MISSILES_1`,`DRONE_LASER_COMBAT`,`DRONE_ION_AMP_1`,`DRONE_BEAM_COMBAT`],t=[];for(let n of e){let e=v.value?.weapons?.find(e=>e.weaponBlueprint?.name===n)?.weaponBlueprint;e&&t.push(e)}return t.length>0?t:null});function E(){d(`close`)}function D(e){d(`change-version`,e)}function j(e){return e===`sp`?`Shield Piercing`:e===`bp`?`Blueprint Rarity`:e.replace(/([A-Z])/g,` $1`).replace(/^./,e=>e.toUpperCase()).trim()}let M=S(()=>{let e=x.value.type,t=[],n=[`power`,`cost`,`bp`,`rarity`],r=[];switch(e){case`COMBAT`:case`BEAM`:r=[`cooldown`,`dodge`,`speed`,`image`,`droneImage`];break;case`DEFENSE`:r=[`cooldown`,`orbitalSpeed`,`dodge`,`shots`,`target`,`targetable`,`droneImage`];break;case`BATTLE`:r=[`locked`,`droneImage`];break;case`BOARDER`:r=[`speed`,`locked`,`droneImage`];break;case`REPAIR`:r=[`cooldown`,`speed`,`repairSpeed`,`locked`,`droneImage`];break;case`HACKING`:r=[`speed`,`time`,`locked`,`droneImage`];break;case`SHIELD`:r=[`number`,`droneImage`];break;default:r=Object.keys(x.value).filter(e=>![`name`,`type`,`title`,`short`,`desc`,`tip`,`tooltip`].includes(e)&&!n.includes(e))}let i=[...n,...r];for(let e of i)x.value[e]!==null&&x.value[e]!==void 0&&x.value[e]!==``&&t.push({key:e,label:j(e),value:x.value[e]});return t});function N(e,t){return t===`tip`||t===`tooltip`?Array.isArray(e)?e.map(e=>p(e)).join(`

`):p(e):typeof e==`object`?JSON.stringify(e,null,2):String(e)}return(e,n)=>(t(),g(T,{to:`body`},[f(te,{name:`modal`},{default:o(()=>[r.show?(t(),O(`div`,{key:0,class:`fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70`,onClick:E},[_(`div`,{class:`bg-gray-800 border border-gray-700 rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto`,onClick:n[2]||=m(()=>{},[`stop`])},[_(`div`,uo,[_(`div`,fo,[_(`canvas`,{ref_key:`droneCanvas`,ref:b,width:`200`,height:`200`,class:`drone-modal-image flex-shrink-0`,style:{"image-rendering":`pixelated`}},null,512),_(`div`,po,[_(`h2`,mo,[x.value.name?.startsWith(`A55_`)?(t(),O(`span`,ho,`⭐`)):u(``,!0),x.value.name?.includes(`ANCIENT`)||x.value.name?.includes(`ROYAL`)||x.value.title?.toUpperCase().includes(`ANCIENT`)||x.value.title?.toUpperCase().includes(`ROYAL`)?(t(),O(`span`,go,`🗿`)):u(``,!0),x.value.name?.startsWith(`LOOT_`)?(t(),O(`span`,_o,`💰`)):u(``,!0),x.value.name?.includes(`CHAOS`)?(t(),O(`span`,vo,`🤯`)):u(``,!0),A(` `+s(x.value.title||x.value.name),1)])])]),_(`div`,yo,[r.versions.length>1?(t(),O(`div`,bo,[_(`button`,{onClick:n[0]||=e=>D(-1),class:`px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-sm transition-colors`,title:`Previous version`},` ‹ `),_(`span`,xo,s(r.currentIndex+1)+`/`+s(r.versions.length),1),_(`button`,{onClick:n[1]||=e=>D(1),class:`px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-sm transition-colors`,title:`Next version`},` › `)])):u(``,!0),_(`button`,{onClick:E,class:`text-gray-400 hover:text-white text-2xl leading-none`},` × `)])]),_(`div`,So,[_(`div`,null,[_(`div`,Co,s(x.value.name),1),_(`div`,wo,[x.value.type?(t(),O(`div`,To,[n[3]||=_(`span`,{class:`font-semibold text-gray-300 w-32`},`Type:`,-1),_(`span`,null,s(x.value.type),1)])):u(``,!0),x.value.short?(t(),O(`div`,Eo,[n[4]||=_(`span`,{class:`font-semibold text-gray-300 w-32`},`Short Name:`,-1),_(`span`,null,s(x.value.short),1)])):u(``,!0)])]),x.value.desc?(t(),O(`div`,Do,[n[5]||=_(`h3`,{class:`text-lg font-semibold text-gray-300 mb-2`},`Description`,-1),_(`p`,Oo,s(x.value.desc),1)])):u(``,!0),x.value.tooltip||x.value.tip?(t(),O(`div`,ko,[n[6]||=_(`h3`,{class:`text-lg font-semibold text-gray-300 mb-2`},`Details`,-1),_(`p`,Ao,s(N(x.value.tooltip||x.value.tip,`tooltip`)),1)])):u(``,!0),M.value.length>0?(t(),O(`div`,jo,[n[7]||=_(`h3`,{class:`text-lg font-semibold text-gray-300 mb-3`},`Properties`,-1),_(`div`,Mo,[(t(!0),O(h,null,k(M.value,e=>(t(),O(`div`,{key:e.key,class:`flex`},[_(`span`,No,s(e.label)+`:`,1),_(`span`,Po,s(N(e.value,e.key)),1)]))),128))])])):u(``,!0),ee.value?(t(),O(`div`,Fo,[n[18]||=_(`h3`,{class:`text-lg font-semibold text-gray-300 mb-3`},`Random Weapon Pool`,-1),n[19]||=_(`p`,{class:`text-sm text-gray-400 mb-3`},[A(` This drone randomly fires one of the following weapons on each shot. `),_(`span`,{class:`text-gray-500 italic`},`(Hardcoded special case - data extracted from wonderdrone.lua script)`)],-1),_(`div`,Io,[(t(!0),O(h,null,k(ee.value,(e,r)=>(t(),O(`div`,{key:r,class:`bg-gray-900 rounded-lg p-4 space-y-2`},[_(`div`,Lo,[A(s(e.title||e.name)+` `,1),_(`span`,Ro,`(`+s(e.name)+`)`,1)]),e.desc?(t(),O(`div`,zo,s(e.desc),1)):u(``,!0),_(`div`,Bo,[e.type?(t(),O(`div`,Vo,[n[8]||=_(`span`,{class:`text-gray-400 w-32`},`Type:`,-1),_(`span`,Ho,s(e.type),1)])):u(``,!0),e.damage?(t(),O(`div`,Uo,[n[9]||=_(`span`,{class:`text-gray-400 w-32`},`Damage:`,-1),_(`span`,Wo,s(e.damage),1)])):u(``,!0),e.cooldown?(t(),O(`div`,Go,[n[10]||=_(`span`,{class:`text-gray-400 w-32`},`Cooldown:`,-1),_(`span`,Ko,s(e.cooldown),1)])):u(``,!0),e.power?(t(),O(`div`,qo,[n[11]||=_(`span`,{class:`text-gray-400 w-32`},`Power:`,-1),_(`span`,Jo,s(e.power),1)])):u(``,!0),e.shots?(t(),O(`div`,Yo,[n[12]||=_(`span`,{class:`text-gray-400 w-32`},`Shots:`,-1),_(`span`,Xo,s(e.shots),1)])):u(``,!0),e.sp?(t(),O(`div`,Zo,[n[13]||=_(`span`,{class:`text-gray-400 w-32`},`Shield Piercing:`,-1),_(`span`,Qo,s(e.sp),1)])):u(``,!0),e.fireChance?(t(),O(`div`,$o,[n[14]||=_(`span`,{class:`text-gray-400 w-32`},`Fire Chance:`,-1),_(`span`,es,s(e.fireChance),1)])):u(``,!0),e.breachChance?(t(),O(`div`,ts,[n[15]||=_(`span`,{class:`text-gray-400 w-32`},`Breach Chance:`,-1),_(`span`,ns,s(e.breachChance),1)])):u(``,!0),e.stunChance?(t(),O(`div`,rs,[n[16]||=_(`span`,{class:`text-gray-400 w-32`},`Stun Chance:`,-1),_(`span`,is,s(e.stunChance),1)])):u(``,!0),e.ion?(t(),O(`div`,as,[n[17]||=_(`span`,{class:`text-gray-400 w-32`},`Ion Damage:`,-1),_(`span`,os,s(e.ion),1)])):u(``,!0)])]))),128))])])):w.value?(t(),O(`div`,ss,[n[29]||=_(`h3`,{class:`text-lg font-semibold text-gray-300 mb-3`},`Weapon Details`,-1),n[30]||=_(`p`,{class:`text-sm text-gray-400 mb-3`},`This drone uses the following weapon when attacking.`,-1),_(`div`,cs,[_(`div`,ls,s(w.value.title||w.value.name),1),w.value.desc?(t(),O(`div`,us,s(w.value.desc),1)):u(``,!0),_(`div`,ds,[w.value.type?(t(),O(`div`,fs,[n[20]||=_(`span`,{class:`text-gray-400 w-32`},`Type:`,-1),_(`span`,ps,s(w.value.type),1)])):u(``,!0),w.value.damage?(t(),O(`div`,ms,[n[21]||=_(`span`,{class:`text-gray-400 w-32`},`Damage:`,-1),_(`span`,hs,s(w.value.damage),1)])):u(``,!0),w.value.cooldown?(t(),O(`div`,gs,[n[22]||=_(`span`,{class:`text-gray-400 w-32`},`Cooldown:`,-1),_(`span`,_s,s(w.value.cooldown),1)])):u(``,!0),w.value.power?(t(),O(`div`,vs,[n[23]||=_(`span`,{class:`text-gray-400 w-32`},`Power:`,-1),_(`span`,ys,s(w.value.power),1)])):u(``,!0),w.value.shots?(t(),O(`div`,bs,[n[24]||=_(`span`,{class:`text-gray-400 w-32`},`Shots:`,-1),_(`span`,xs,s(w.value.shots),1)])):u(``,!0),w.value.sp?(t(),O(`div`,Ss,[n[25]||=_(`span`,{class:`text-gray-400 w-32`},`Shield Piercing:`,-1),_(`span`,Cs,s(w.value.sp),1)])):u(``,!0),w.value.fireChance?(t(),O(`div`,ws,[n[26]||=_(`span`,{class:`text-gray-400 w-32`},`Fire Chance:`,-1),_(`span`,Ts,s(w.value.fireChance),1)])):u(``,!0),w.value.breachChance?(t(),O(`div`,Es,[n[27]||=_(`span`,{class:`text-gray-400 w-32`},`Breach Chance:`,-1),_(`span`,Ds,s(w.value.breachChance),1)])):u(``,!0),w.value.stunChance?(t(),O(`div`,Os,[n[28]||=_(`span`,{class:`text-gray-400 w-32`},`Stun Chance:`,-1),_(`span`,ks,s(w.value.stunChance),1)])):u(``,!0)])])])):u(``,!0),C.value?(t(),O(`div`,As,[n[40]||=_(`h3`,{class:`text-lg font-semibold text-gray-300 mb-3`},`Crew Mode Statistics`,-1),n[41]||=_(`p`,{class:`text-sm text-gray-400 mb-3`},`This drone can function as a crew member when activated.`,-1),_(`div`,js,[_(`div`,Ms,[n[31]||=_(`span`,{class:`text-gray-400 w-40`},`Max Health:`,-1),_(`span`,Ns,s(C.value.race?.maxHealth||`N/A`),1)]),_(`div`,Ps,[n[32]||=_(`span`,{class:`text-gray-400 w-40`},`Damage Multiplier:`,-1),_(`span`,Fs,s(C.value.race?.damageMultiplier||`N/A`),1)]),_(`div`,Is,[n[33]||=_(`span`,{class:`text-gray-400 w-40`},`Can Fight:`,-1),_(`span`,{class:i(C.value.race?.canFight===`true`||C.value.race?.canFight===!0?`text-green-400`:`text-red-400`)},s(C.value.race?.canFight===`true`||C.value.race?.canFight===!0?`Yes`:`No`),3)]),_(`div`,Ls,[n[34]||=_(`span`,{class:`text-gray-400 w-40`},`Bonus Power:`,-1),_(`span`,Rs,s(C.value.race?.bonusPower||`N/A`),1)]),_(`div`,zs,[n[35]||=_(`span`,{class:`text-gray-400 w-40`},`Can Repair:`,-1),_(`span`,{class:i(C.value.race?.canRepair===`true`||C.value.race?.canRepair===!0?`text-green-400`:`text-red-400`)},s(C.value.race?.canRepair===`true`||C.value.race?.canRepair===!0?`Yes`:`No`),3)]),_(`div`,Bs,[n[36]||=_(`span`,{class:`text-gray-400 w-40`},`Can Man:`,-1),_(`span`,{class:i(C.value.race?.canMan===`true`||C.value.race?.canMan===!0?`text-green-400`:`text-red-400`)},s(C.value.race?.canMan===`true`||C.value.race?.canMan===!0?`Yes`:`No`),3)]),_(`div`,Vs,[n[37]||=_(`span`,{class:`text-gray-400 w-40`},`Can Suffocate:`,-1),_(`span`,{class:i(C.value.race?.canSuffocate===`true`||C.value.race?.canSuffocate===!0?`text-red-400`:`text-green-400`)},s(C.value.race?.canSuffocate===`true`||C.value.race?.canSuffocate===!0?`Yes`:`No`),3)]),_(`div`,Hs,[n[38]||=_(`span`,{class:`text-gray-400 w-40`},`Telepathic:`,-1),_(`span`,{class:i(C.value.race?.telepathic===`true`||C.value.race?.telepathic===!0?`text-green-400`:`text-gray-400`)},s(C.value.race?.telepathic===`true`||C.value.race?.telepathic===!0?`Yes`:`No`),3)])]),C.value.powerList?(t(),O(`div`,Us,[n[39]||=_(`h4`,{class:`text-sm font-semibold text-gray-400 mb-2`},`Special Abilities:`,-1),_(`ul`,Ws,[Array.isArray(C.value.powerList.power)?(t(!0),O(h,{key:0},k(C.value.powerList.power,(e,n)=>(t(),O(`li`,{key:n},s(e),1))),128)):(t(),O(`li`,Gs,s(C.value.powerList.power),1))])])):u(``,!0)])):u(``,!0),_(`div`,Ks,[n[42]||=_(`h3`,{class:`text-lg font-semibold text-gray-300 mb-3`},`Found in Sectors`,-1),_(`div`,qs,[l(e.$slots,`sectors`,{},void 0,!0)])])])])])):u(``,!0)]),_:3})]))}},[[`__scopeId`,`data-v-ef280adb`]]),Ys={key:2,class:`space-y-6`},Xs={class:`flex gap-2 border-b border-gray-700`},Zs=[`onClick`],Qs={key:0,class:`absolute bottom-0 left-0 right-0 h-0.5 bg-blue-400`},$s={class:`bg-gray-800 rounded-lg p-4 border border-gray-700`},ec={class:`text-gray-300`},tc={class:`font-bold text-blue-400`},nc={key:0,class:`text-gray-500 text-sm ml-2`},rc={class:`flex gap-4 flex-wrap items-center`},ic={class:`flex-1 min-w-[200px]`},ac={key:0,class:`w-48`},oc={key:1,class:`w-48`},sc={key:2,class:`w-56`},cc={key:3,class:`flex items-center gap-2 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg`},lc={key:4,class:`flex items-center gap-2 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg`},uc={key:0,class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`},dc=[`onClick`],fc={key:0,class:`absolute top-2 right-2 flex gap-1`},pc=[`onClick`],mc={class:`w-7 h-7 bg-gray-900 rounded flex items-center justify-center text-xs text-gray-400`},hc=[`onClick`],gc={class:`flex items-start gap-3 mb-2`},_c={class:`font-bold text-blue-400 flex-1 pr-24`},vc={key:0,class:`text-yellow-400 mr-1`,title:`Unique weapon`},yc={key:1,class:`mr-1`,title:`Ancient/Royal`},bc={key:2,class:`mr-1`,title:`Loot`},xc={key:3,class:`mr-1`,title:`Chaos`},Sc={class:`text-sm text-gray-400 space-y-1`},Cc={key:0,class:`text-xs text-gray-500`},wc={key:1},Tc={key:2},Ec={key:3},Dc={key:4,class:`text-green-400`},Oc={key:5,class:`mt-2 pt-2 border-t border-gray-700`},kc={class:`text-xs text-gray-500 mb-1`},Ac={class:`flex flex-wrap gap-1`},jc=[`onClick`],Mc={class:`text-xs px-2 py-1 text-gray-400 italic`},Nc=[`onClick`],Pc=[`onClick`],Fc={class:`flex items-start gap-3 mb-2`},Ic={class:`font-bold text-blue-400 flex-1`},Lc={key:0,class:`text-yellow-400 mr-1`,title:`Unique weapon`},Rc={key:1,class:`mr-1`,title:`Ancient/Royal`},zc={key:2,class:`mr-1`,title:`Loot`},Bc={key:3,class:`mr-1`,title:`Chaos`},Vc={class:`text-sm text-gray-400 space-y-1`},Hc={key:0,class:`text-xs text-gray-500`},Uc={key:1},Wc={key:2},Gc={key:3},Kc={key:4,class:`text-green-400`},qc={key:5,class:`mt-2 pt-2 border-t border-gray-700`},Jc={class:`text-xs text-gray-500 mb-1`},Yc={class:`flex flex-wrap gap-1`},Xc=[`onClick`],Zc={class:`text-xs px-2 py-1 text-gray-400 italic`},Qc=[`onClick`],$c={key:1,class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`},el=[`onClick`],tl={class:`absolute top-2 right-2 flex gap-1`},nl=[`onClick`],rl={class:`w-7 h-7 bg-gray-900 rounded flex items-center justify-center text-xs text-gray-400`},il=[`onClick`],al={class:`flex items-start gap-3 mb-2`},ol={class:`font-bold text-blue-400 flex-1`},sl={key:0,class:`text-yellow-400 mr-1`,title:`Unique crew`},cl={key:1,class:`mr-1`,title:`Chaos`},ll={class:`text-sm text-gray-400 space-y-1`},ul={key:0,class:`text-xs text-gray-500`},dl={key:1,class:`text-gray-300 py-2`},fl={key:2,class:`py-2`},pl={class:`list-disc list-inside space-y-0.5 text-gray-300`},ml={key:3,class:`text-green-400`},hl={key:4,class:`mt-2 pt-2 border-t border-gray-700`},gl={class:`text-xs text-gray-500 mb-1`},_l={class:`flex flex-wrap gap-1`},vl=[`onClick`],yl={class:`text-xs px-2 py-1 text-gray-400 italic`},bl=[`onClick`],xl=[`onClick`],Sl={class:`flex items-start gap-3 mb-2`},Cl={class:`font-bold text-blue-400 flex-1`},wl={key:0,class:`text-yellow-400 mr-1`,title:`Unique crew`},Tl={key:1,class:`mr-1`,title:`Chaos`},El={class:`text-sm text-gray-400 space-y-1`},Dl={key:0,class:`text-xs text-gray-500`},Ol={key:1,class:`text-gray-300 py-2`},kl={key:2,class:`py-2`},Al={class:`list-disc list-inside space-y-0.5 text-gray-300`},jl={key:3,class:`text-green-400`},Ml={key:4,class:`mt-2 pt-2 border-t border-gray-700`},Nl={class:`text-xs text-gray-500 mb-1`},Pl={class:`flex flex-wrap gap-1`},Fl=[`onClick`],Il={class:`text-xs px-2 py-1 text-gray-400 italic`},Ll=[`onClick`],Rl={key:2,class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`},zl={key:0,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors relative`},Bl={key:0,class:`absolute top-2 right-2 flex gap-1`},Vl=[`onClick`],Hl={class:`w-7 h-7 bg-gray-900 rounded flex items-center justify-center text-xs text-gray-400`},Ul=[`onClick`],Wl={class:`font-bold text-blue-400 mb-2 pr-24`},Gl={key:0,class:`text-yellow-400 mr-1`,title:`Locked augment`},Kl={key:1,class:`text-yellow-400 mr-1`,title:`Unique augment`},ql={key:2,class:`mr-1`,title:`Ancient/Royal`},Jl={key:3,class:`mr-1`,title:`Chaos`},Yl={class:`text-sm text-gray-400 space-y-1`},Xl={key:0,class:`text-xs text-gray-500`},Zl={key:1,class:`text-gray-300 py-1`},Ql={key:2,class:`text-green-400`},$l={key:3},eu={key:4},tu={key:5,class:`mt-2 pt-2 border-t border-gray-700`},nu={class:`text-xs text-gray-500 mb-1`},ru={class:`flex flex-wrap gap-1`},iu=[`onClick`],au={class:`text-xs px-2 py-1 text-gray-400 italic`},ou=[`onClick`],su={key:1,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors`},cu={class:`font-bold text-blue-400 mb-2`},lu={key:0,class:`text-yellow-400 mr-1`,title:`Locked augment`},uu={key:1,class:`text-yellow-400 mr-1`,title:`Unique augment`},du={key:2,class:`mr-1`,title:`Ancient/Royal`},fu={key:3,class:`mr-1`,title:`Chaos`},pu={class:`text-sm text-gray-400 space-y-1`},mu={key:0,class:`text-xs text-gray-500`},hu={key:1,class:`text-gray-300 py-1`},gu={key:2,class:`text-green-400`},_u={key:3},vu={key:4},yu={key:5,class:`mt-2 pt-2 border-t border-gray-700`},bu={class:`text-xs text-gray-500 mb-1`},xu={class:`flex flex-wrap gap-1`},Su=[`onClick`],Cu={class:`text-xs px-2 py-1 text-gray-400 italic`},wu=[`onClick`],Tu={key:3,class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`},Eu=[`onClick`],Du={class:`absolute top-2 right-2 flex gap-1`},Ou=[`onClick`],ku={class:`px-2 py-1 text-xs text-gray-400`},Au=[`onClick`],ju={class:`flex items-start gap-3 mb-2`},Mu={class:`font-bold text-blue-400 flex-1 pr-24`},Nu={key:0,class:`text-yellow-400 mr-1`,title:`Unique drone`},Pu={key:1,class:`mr-1`,title:`Ancient/Royal`},Fu={key:2,class:`mr-1`,title:`Loot`},Iu={key:3,class:`mr-1`,title:`Chaos`},Lu={class:`text-sm text-gray-400 space-y-1`},Ru={key:0,class:`text-xs text-gray-500`},zu={key:1},Bu={key:2},Vu={key:3,class:`text-green-400`},Hu={key:4,class:`mt-2 pt-2 border-t border-gray-700`},Uu={class:`text-xs text-gray-500 mb-1`},Wu={class:`flex flex-wrap gap-1`},Gu=[`onClick`],Ku={class:`text-xs px-2 py-1 text-gray-400 italic`},qu=[`onClick`],Ju=[`onClick`],Yu={class:`flex items-start gap-3 mb-2`},Xu={class:`font-bold text-blue-400 flex-1`},Zu={key:0,class:`text-yellow-400 mr-1`,title:`Unique drone`},Qu={key:1,class:`mr-1`,title:`Ancient/Royal`},$u={key:2,class:`mr-1`,title:`Loot`},ed={key:3,class:`mr-1`,title:`Chaos`},td={class:`text-sm text-gray-400 space-y-1`},nd={key:0,class:`text-xs text-gray-500`},rd={key:1},id={key:2},ad={key:3,class:`text-green-400`},od={key:4,class:`mt-2 pt-2 border-t border-gray-700`},sd={class:`text-xs text-gray-500 mb-1`},cd={class:`flex flex-wrap gap-1`},ld=[`onClick`],ud={class:`text-xs px-2 py-1 text-gray-400 italic`},dd=[`onClick`],fd={class:`flex flex-wrap gap-1`},pd=[`onClick`],md={class:`flex flex-wrap gap-1`},hd=[`onClick`],gd=[`onClick`],_d={__name:`BlueprintsPage`,setup(r){let l=d(),p=w(),{loading:v,error:C,blueprintArrays:T,fetchBlueprints:ee}=fe(),{fetchSectors:te}=le(),{getSectorsForItem:E,getSectorCount:D}=Yr(),{fetchTextBlueprints:j}=$r(),{fetchAnimations:M,getCrewThumbnailStyle:N}=ri(),{observeThumbnail:P}=ci(),{observeThumbnail:F}=gi(),I=e(`weapons`),L=e(``),R=e(``),z=e(``),B=e(``),V=e(``),re=e(!1),ie=e(!1),ae=e({}),H=e({}),oe=e({}),se=e({}),U=e(null),W=e(null),ce=S({get:()=>U.value!==null,set:e=>{e||(U.value=null,W.value=null)}}),G=e(null),K=e(null),ue=S({get:()=>G.value!==null,set:e=>{e||(G.value=null,K.value=null)}}),q=e(null),J=e(null),de=S({get:()=>q.value!==null,set:e=>{e||(q.value=null,J.value=null)}}),pe=[{id:`weapons`,name:`Weapons`},{id:`crew`,name:`Crew`},{id:`augments`,name:`Augments`},{id:`drones`,name:`Drones`}];ne(async()=>{await Promise.all([ee(),te(),j(),M()]),l.query.tab&&(I.value=l.query.tab),l.query.search&&(L.value=l.query.search),l.query.id&&(B.value=l.query.id),l.query.rarity&&(R.value=l.query.rarity),l.query.type&&(z.value=l.query.type),window.addEventListener(`keydown`,me)}),c(()=>{window.removeEventListener(`keydown`,me)});function me(e){if((e.ctrlKey||e.metaKey)&&e.key===`k`&&(e.preventDefault(),document.querySelector(`input[type="text"]`)?.focus()),e.key===`Escape`&&(ce.value?U.value=null:ue.value?(G.value=null,K.value=null):de.value?(q.value=null,J.value=null):(L.value||R.value||z.value)&&(L.value=``,R.value=``,z.value=``)),e.key>=`1`&&e.key<=`4`&&!e.ctrlKey&&!e.metaKey){let t=e.target;if(t.tagName===`INPUT`||t.tagName===`SELECT`)return;let n=pe[parseInt(e.key)-1]?.id;n&&(I.value=n)}}n(()=>l.query,e=>{e.tab&&(I.value=e.tab),e.search!==void 0&&(L.value=e.search||``),e.id!==void 0&&(B.value=e.id||``),e.rarity!==void 0&&(R.value=e.rarity||``),e.type!==void 0&&(z.value=e.type||``)},{deep:!0}),n([L,B,R,z],()=>{let e={};L.value&&(e.search=L.value),B.value&&(e.id=B.value),I.value!==`weapons`&&(e.tab=I.value),R.value&&(e.rarity=R.value),z.value&&(e.type=z.value),p.replace({query:e})});let Y=S(()=>{let e=L.value.toLowerCase(),t=t=>t&&typeof t==`string`&&t.toLowerCase().includes(e),n=e=>R.value?e&&e.toString()===R.value:!0,r=e=>z.value?e&&typeof e==`string`&&e.toLowerCase().includes(z.value.toLowerCase()):!0,i=e=>B.value?e&&e===B.value:!0,a=(e,t,n)=>{if(e){let t=(typeof e==`string`?e:e.text||``).toLowerCase();if(t.includes(`you should never see`)||t.includes(`should never be seen`))return!0}return!!(n&&(typeof n==`string`?n:n.text||``).toLowerCase().includes(`should never see`)||t&&t.toUpperCase().endsWith(`_ENEMY`)||t.toUpperCase().includes(`_PROJ`))},o=e=>e?e.toLowerCase().startsWith(`task_`):!1,s=e=>{if(!e)return!1;let t=e.toLowerCase();return[`energy`,`human_rebel`,`human_rebel_medic`,`tinybug`,`unique_vance`,`unique_leah`,`unique_leah_mfk`,`unique_cyra`,`sylvanleah`,`nexus_pants`,`easter_`,`a55`,`gana`].some(e=>t.includes(e))},c=(e,t)=>{if(!e)return!1;if(/\[(M|X|L)\]/i.test(e))return!0;if(t){let e=typeof t==`string`?t:t.text||``;if(/\[Level\s+\w+\]/i.test(e))return!0}return!1},l=e=>{let t=new Set([`Performance Upgrade`,`Blessed`]),n=e=>e?e.replace(/\s*\[(M|X|L)\]\s*$/i,``).replace(/^\s*\[(M|X|L)\]\s*/i,``).trim():null,r=e=>e?e.replace(/^UPG_TECH_/i,``).replace(/^UPG_WEAPONS_/i,``).replace(/^UPG_ARTILLERY_/i,``).replace(/^UPG_/i,``).replace(/^EX_/i,``):null,i={},a=e=>(i[e]===void 0&&(i[e]=e),i[e]!==e&&(i[e]=a(i[e])),i[e]),o=(e,t)=>{let n=a(e),r=a(t);n!==r&&(i[n]=r)},s={},l={};e.forEach((e,t)=>{let i=e?.augBlueprint;if(!i)return;let a=n(i.title||i.name),o=r(i.name);a&&(s[a]||(s[a]=[]),s[a].push(t)),o&&(l[o]||(l[o]=[]),l[o].push(t))}),Object.entries(s).forEach(([e,n])=>{if(!t.has(e))for(let e=1;e<n.length;e++)o(n[0],n[e])}),Object.values(l).forEach(e=>{for(let t=1;t<e.length;t++)o(e[0],e[t])});let u={};e.forEach((e,t)=>{let n=a(t);u[n]||(u[n]=[]),u[n].push(e)});let d=[];return Object.values(u).forEach(e=>{let t=e[0]?.augBlueprint;if(!t)return;let r=n(t.title||t.name)||t.name,i=e.some(e=>c(e?.augBlueprint?.title,e?.augBlueprint?.desc));if(e.length>1||i){let t=[...e].sort((e,t)=>{let n=e?.augBlueprint,r=t?.augBlueprint,i=D(n?.name,`augments`),a=D(r?.name,`augments`);if(i!==a)return a-i;let o=n?.desc,s=r?.desc,c=typeof o==`string`?o:o?.text||``;return(typeof s==`string`?s:s?.text||``).length-c.length});d.push({isGroup:!0,baseName:r,versions:t,currentIndex:ae.value[r]||0})}else d.push({isGroup:!1,augment:e[0]})}),d.sort((e,t)=>{let n=e.isGroup?e.baseName:e.augment?.augBlueprint?.title||e.augment?.augBlueprint?.name||``,r=t.isGroup?t.baseName:t.augment?.augBlueprint?.title||t.augment?.augBlueprint?.name||``;return n.localeCompare(r)}),d},u=e=>{let t=[`CLONE_CANNON`,`SCANNER_`,`AWESOME_`,`MODULAR_CHARGE_`,`MODULAR_CHARGE_CHAOS_`,`MODULAR_LASER_`,`MODULAR_BEAM_`,`MODULAR_MISSILE_`,`MODULAR_ION_`,`SHOTGUN_TOGGLE`,`GATLING_SYLVAN`],n=[`SHOTGUN_TOGGLE_CHAOS`,`GATLING_ANCIENT`,`PART_GATLING_BARREL`,`PART_GATLING_BASE`],r={},i=[];e.forEach(e=>{let a=e?.weaponBlueprint;if(!a?.name){i.push(e);return}if(n.some(e=>a.name.includes(e))){i.push(e);return}if(a.name===`GATLING`||a.name.startsWith(`GATLING_VERSION`)){r.GATLING_NUMBERED||=[],r.GATLING_NUMBERED.push(e);return}let o=t.find(e=>a.name.includes(e));o?(r[o]||(r[o]=[]),r[o].push(e)):i.push(e)});let a=[];for(let[e,t]of Object.entries(r))if(t.length>1){let n=t.sort((t,n)=>{let r=t?.weaponBlueprint,i=n?.weaponBlueprint;if(e===`GATLING_NUMBERED`){if(r?.name===`GATLING`)return-1;if(i?.name===`GATLING`)return 1}let a=D(r?.name,`weapons`),o=D(i?.name,`weapons`);return a===o?(r?.title||r?.name||``).localeCompare(i?.title||i?.name||``):o-a}),r=n[0]?.weaponBlueprint?.title||e;a.push({isGroup:!0,groupName:r,versions:n,currentIndex:H.value[r]||0})}else i.push(t[0]);return i.forEach(e=>{a.push({isGroup:!1,weapon:e})}),a.sort((e,t)=>{let n=e.isGroup?e.groupName:e.weapon?.weaponBlueprint?.title||e.weapon?.weaponBlueprint?.name||``,r=t.isGroup?t.groupName:t.weapon?.weaponBlueprint?.title||t.weapon?.weaponBlueprint?.name||``;return n.localeCompare(r)}),a},d=e=>{let t=[`_nano`,`_box`,`_automated`,`_defector`,`_tamed`,`_temp`,`_noclone`],n=[`unique_freddy`,`unique_ellie`,`unique_ooj`,`unique_irwin`,`sylvan`,`blob`,`techno`,`gold`],r={};e.forEach(e=>{let i=e?.crewBlueprint;if(!i?.name)return;let a=i.name.toLowerCase(),o=null,s=!1,c=n.find(e=>a.startsWith(e.toLowerCase()));if(c&&(o=c,s=!0),!s){let e=t.find(e=>a.includes(e.toLowerCase()));if(e){let t=a.indexOf(e.toLowerCase());o=i.name.substring(0,t)+i.name.substring(t+e.length)}else o=i.name}r[o]||(r[o]=[]),r[o].push(e)});let i=[];for(let[e,t]of Object.entries(r))if(t.length>1){let n=t.sort((e,t)=>{let n=e?.crewBlueprint,r=t?.crewBlueprint,i=D(n?.name,`crew`),a=D(r?.name,`crew`);return i===a?(n?.name||``).localeCompare(r?.name||``):a-i}),r=n[0]?.crewBlueprint?.name||e;i.push({isGroup:!0,groupName:r,versions:n,currentIndex:se.value[r]||0})}else i.push({isGroup:!1,crew:t[0]});return i.sort((e,t)=>{let n=e.isGroup?e.groupName:e.crew?.crewBlueprint?.name||``,r=t.isGroup?t.groupName:t.crew?.crewBlueprint?.name||``;return n.localeCompare(r)}),i},f=e=>{let t=`SYMBIONT.A55_.AMPHI_.ASSAULT_.ATOMR_.ATOM_.BATTLETOG2_.BATTLETOG_.BUTLER_.COMBAT_1_.COMBAT_2_.COMBAT_CONSERVATIVE_.DEFENSE_TRINITY_.DOCTOR_.FOREMAN_.GANA_.GRAZIER_.GUARDIAN_1_.GUARDIAN_2_.HELLRAISER_.HOLODRONE_.LOOT_AUTO_1_.LOOT_ESTATE_1_.LOOT_SEPARATIST_1_.PEST_.RECON_.ROOMBA_.SURGEON_.YINYANG_`.split(`.`),n={},r=[];e.forEach(e=>{let i=e?.droneBlueprint;if(!i?.name){r.push(e);return}let a=t.find(e=>i.name.startsWith(e));if(a){let t=i.name.includes(`_CHAOS`)||i.name.includes(`_PLAYER`)?`${a}_VARIANT`:a;n[t]||(n[t]=[]),n[t].push(e)}else{let t=i.name.match(/^(.+)_AMP\d+$/);if(t){let r=t[1];n[r]||(n[r]=[]),n[r].push(e)}else r.push(e)}});let i=[];for(let[e,t]of Object.entries(n))if(t.length>1){let n=t.sort((e,t)=>{let n=e?.droneBlueprint,r=t?.droneBlueprint,i=D(n?.name,`drones`),a=D(r?.name,`drones`);return i===a?(n?.title||n?.name||``).localeCompare(r?.title||r?.name||``):a-i}),r=n[0]?.droneBlueprint?.title||e;i.push({isGroup:!0,groupName:r,versions:n,currentIndex:oe.value[r]||0})}else r.push(t[0]);return r.forEach(e=>{i.push({isGroup:!1,drone:e})}),i.sort((e,t)=>{let n=e.isGroup?e.groupName:e.drone?.droneBlueprint?.title||e.drone?.droneBlueprint?.name||``,r=t.isGroup?t.groupName:t.drone?.droneBlueprint?.title||t.drone?.droneBlueprint?.name||``;return n.localeCompare(r)}),i},p=u((T.value.weapons||[]).filter(n=>{let o=n?.weaponBlueprint;return a(o?.desc,o?.name,o?.tooltip)||!i(o?.name)||o?.name&&o.name.includes(`DRONE_`)&&!e.includes(`drone`)||!ie.value&&o?.name&&(o.name.includes(`ARTILLERY`)&&o.name!==`BA_LASER_ARTILLERY_2`||o.name.includes(`ARBITER`))?!1:(!e||t(o?.name)||t(o?.title)||t(o?.type))&&r(o?.type)}));return V.value&&(p=p.sort((e,t)=>{let n,r;return n=e.isGroup?Math.max(...e.versions.map(e=>parseFloat(e?.weaponBlueprint?.[V.value])||0)):parseFloat(e?.weapon?.weaponBlueprint?.[V.value])||0,r=t.isGroup?Math.max(...t.versions.map(e=>parseFloat(e?.weaponBlueprint?.[V.value])||0)):parseFloat(t?.weapon?.weaponBlueprint?.[V.value])||0,r-n})),{weapons:p,crew:d((T.value.crew||[]).filter(n=>{let r=n?.crewBlueprint;if(a(r?.desc,r?.name)||!i(r?.name)||s(r?.name)&&!e||r?.cost&&parseInt(r.cost)>=1e4&&!e)return!1;let o=!e||t(r?.name)||t(r?.race),c=r?.name?.startsWith(`unique_`),l=!z.value||z.value===`unique`&&c||z.value===`non-unique`&&!c;return o&&l})),augments:l((T.value.augments||[]).filter(r=>{let s=r?.augBlueprint;return a(s?.desc,s?.name)||!i(s?.name)||!re.value&&o(s?.name)?!1:(!e||t(s?.name)||t(s?.title))&&n(s?.rarity)})),drones:f((T.value.drones||[]).filter(n=>{let o=n?.droneBlueprint;if(a(o?.desc,o?.name)||!i(o?.name))return!1;let s=parseInt(o?.cost);return!isNaN(s)&&s>1e3?!1:(!e||t(o?.name)||t(o?.title)||t(o?.type))&&r(o?.type)}))}}),he=S(()=>{if(I.value===`augments`){let e=new Set;return T.value.augments?.forEach(t=>{let n=t?.augBlueprint?.rarity;n&&e.add(n.toString())}),{type:`rarity`,options:Array.from(e).sort((e,t)=>parseInt(e)-parseInt(t)).map(e=>({value:e,label:`Rarity ${e}`}))}}else if(I.value===`weapons`){let e=new Set;return T.value.weapons?.forEach(t=>{let n=t?.weaponBlueprint?.type;n&&e.add(n)}),{type:`type`,options:Array.from(e).sort().map(e=>({value:e,label:e}))}}else if(I.value===`crew`)return{type:`type`,options:[{value:`unique`,label:`Unique Crew Only`},{value:`non-unique`,label:`Non-Unique Crew Only`}]};else if(I.value===`drones`){let e=new Set;return T.value.drones?.forEach(t=>{let n=t?.droneBlueprint?.type;n&&e.add(n)}),{type:`type`,options:Array.from(e).sort().map(e=>({value:e,label:e}))}}return{type:null,options:[]}}),ge=S(()=>I.value===`weapons`?[{value:`hullDPSMax`,label:`Hull DPS (High to Low)`},{value:`crewDPSMax`,label:`Crew DPS (High to Low)`},{value:`sysDPSMax`,label:`System DPS (High to Low)`},{value:`ionDPSMax`,label:`Ion DPS (High to Low)`}]:[]);n(I,()=>{R.value=``,z.value=``,V.value=``});function X(e){return e?.replace(/_/g,` `)||`Unknown`}function Z(e){return e.replace(/_/g,` `).replace(/SECTOR /g,``)}function Q(e){p.push({path:`/sectors`,query:{search:e}})}function $(e,t){let n=E(e,t);return n.length<=4?{sectors:n,hasMore:!1,remaining:0}:{sectors:n.slice(0,4),hasMore:!0,remaining:n.length-4}}function _e(e){return e?e.name?.startsWith(`unique_`)?e.name.substring(7).split(`_`).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(` `):e.name?.toLowerCase().startsWith(`gb`)?e.name.substring(2).split(`_`).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(` `):e.title||X(e.name):`Unknown`}function ve(e){if(!e?.powerList)return[];let t=e.powerList;if(t.power){if(Array.isArray(t.power))return t.power;if(typeof t.power==`string`)return[t.power]}return[]}function ye(e,t=null){U.value=e,W.value=t}function be(e){if(!W.value)return;let{versions:t,groupName:n}=W.value,r=(H.value[n]||0)+e;r<0&&(r=t.length-1),r>=t.length&&(r=0),H.value[n]=r,U.value=t[r]}function xe(e,t=null){G.value=e,K.value=t}function Se(e){if(!K.value)return;let{versions:t,groupName:n}=K.value,r=(se.value[n]||0)+e;r<0&&(r=t.length-1),r>=t.length&&(r=0),se.value[n]=r,G.value=t[r]}function we(e,t=null){q.value=e,J.value=t}function Te(e){if(!J.value)return;let{versions:t,groupName:n}=J.value,r=(oe.value[n]||0)+e;r<0&&(r=t.length-1),r>=t.length&&(r=0),oe.value[n]=r,q.value=t[r]}function Ee(e,t){let n=Y.value.augments.find(t=>t.isGroup&&t.baseName===e);if(!n)return;let r=(ae.value[e]||0)+t;r<0&&(r=n.versions.length-1),r>=n.versions.length&&(r=0),ae.value[e]=r}function De(e,t){let n=Y.value.weapons.find(t=>t.isGroup&&t.groupName===e);if(!n)return;let r=(H.value[e]||0)+t;r<0&&(r=n.versions.length-1),r>=n.versions.length&&(r=0),H.value[e]=r}function Oe(e,t){let n=Y.value.drones.find(t=>t.isGroup&&t.groupName===e);if(!n)return;let r=(oe.value[e]||0)+t;r<0&&(r=n.versions.length-1),r>=n.versions.length&&(r=0),oe.value[e]=r}function ke(e,t){let n=Y.value.crew.find(t=>t.isGroup&&t.groupName===e);if(!n)return;let r=(se.value[e]||0)+t;r<0&&(r=n.versions.length-1),r>=n.versions.length&&(r=0),se.value[e]=r}return(e,n)=>(t(),O(`div`,null,[n[15]||=_(`h2`,{class:`text-3xl font-bold mb-6`},`Blueprints`,-1),y(v)?(t(),g(Jt,{key:0,message:`Loading blueprints data...`})):y(C)?(t(),g($t,{key:1,error:y(C)},null,8,[`error`])):(t(),O(`div`,Ys,[_(`div`,Xs,[(t(),O(h,null,k(pe,e=>_(`button`,{key:e.id,onClick:t=>I.value=e.id,class:i([`px-6 py-3 font-semibold transition-colors relative`,I.value===e.id?`text-blue-400`:`text-gray-400 hover:text-gray-300`])},[A(s(e.name)+` `,1),I.value===e.id?(t(),O(`span`,Qs)):u(``,!0)],10,Zs)),64))]),_(`div`,$s,[_(`p`,ec,[A(` Total `+s(I.value)+`: `,1),_(`span`,tc,s(Y.value[I.value]?.length||0),1),L.value||B.value||R.value||z.value?(t(),O(`span`,nc,` (filtered from `+s(y(T)[I.value]?.length||0)+`) `,1)):u(``,!0)])]),_(`div`,rc,[_(`div`,ic,[f(Ce,{modelValue:L.value,"onUpdate:modelValue":n[0]||=e=>L.value=e,placeholder:`Search blueprints...`},null,8,[`modelValue`])]),he.value.type===`rarity`?(t(),O(`div`,ac,[f(xi,{modelValue:R.value,"onUpdate:modelValue":n[1]||=e=>R.value=e,label:`Rarity`,options:he.value.options},null,8,[`modelValue`,`options`])])):u(``,!0),he.value.type===`type`?(t(),O(`div`,oc,[f(xi,{modelValue:z.value,"onUpdate:modelValue":n[2]||=e=>z.value=e,label:I.value===`crew`?`Availability`:`Type`,options:he.value.options},null,8,[`modelValue`,`label`,`options`])])):u(``,!0),ge.value.length>0?(t(),O(`div`,sc,[f(xi,{modelValue:V.value,"onUpdate:modelValue":n[3]||=e=>V.value=e,label:`Sort By`,options:ge.value},null,8,[`modelValue`,`options`])])):u(``,!0),I.value===`augments`?(t(),O(`div`,cc,[b(_(`input`,{type:`checkbox`,id:`showTaskAugments`,"onUpdate:modelValue":n[4]||=e=>re.value=e,class:`w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500`},null,512),[[x,re.value]]),n[9]||=_(`label`,{for:`showTaskAugments`,class:`text-sm text-gray-300 cursor-pointer`},` Show task augments `,-1)])):u(``,!0),I.value===`weapons`?(t(),O(`div`,lc,[b(_(`input`,{type:`checkbox`,id:`showArtilleryWeapons`,"onUpdate:modelValue":n[5]||=e=>ie.value=e,class:`w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500`},null,512),[[x,ie.value]]),n[10]||=_(`label`,{for:`showArtilleryWeapons`,class:`text-sm text-gray-300 cursor-pointer`},` Show artillery weapons `,-1)])):u(``,!0)]),I.value===`weapons`?(t(),O(`div`,uc,[(t(!0),O(h,null,k(Y.value.weapons,(e,n)=>(t(),O(h,{key:n},[e.isGroup?(t(),O(`div`,{key:0,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer relative`,onClick:t=>ye(e.versions[e.currentIndex],{versions:e.versions,groupName:e.groupName})},[e.versions.length>1?(t(),O(`div`,fc,[_(`button`,{onClick:m(t=>De(e.groupName,-1),[`stop`]),class:`w-7 h-7 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-sm`,title:`Previous version`},` ‹ `,8,pc),_(`span`,mc,s(e.currentIndex+1)+`/`+s(e.versions.length),1),_(`button`,{onClick:m(t=>De(e.groupName,1),[`stop`]),class:`w-7 h-7 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-sm`,title:`Next version`},` › `,8,hc)])):u(``,!0),e.versions[e.currentIndex]?.weaponBlueprint?(t(),O(h,{key:1},[_(`div`,gc,[_(`canvas`,{width:`40`,height:`40`,class:`weapon-thumbnail flex-shrink-0`,ref_for:!0,ref:t=>t&&y(P)(e.versions[e.currentIndex].weaponBlueprint,t,40)},null,512),_(`h3`,_c,[e.versions[e.currentIndex].weaponBlueprint?.name?.startsWith(`GATLING`)?(t(),O(`span`,vc,`⭐`)):u(``,!0),e.versions[e.currentIndex].weaponBlueprint?.name?.includes(`ANCIENT`)||e.versions[e.currentIndex].weaponBlueprint?.name?.includes(`ROYAL`)?(t(),O(`span`,yc,`🗿`)):u(``,!0),e.versions[e.currentIndex].weaponBlueprint?.name?.startsWith(`LOOT_`)?(t(),O(`span`,bc,`💰`)):u(``,!0),e.versions[e.currentIndex].weaponBlueprint?.name?.includes(`CHAOS`)?(t(),O(`span`,xc,`🤯`)):u(``,!0),A(s(e.versions[e.currentIndex].weaponBlueprint?.title||X(e.versions[e.currentIndex].weaponBlueprint?.name)),1)])]),_(`div`,Sc,[e.versions[e.currentIndex].weaponBlueprint?.name?(t(),O(`div`,Cc,s(e.versions[e.currentIndex].weaponBlueprint.name),1)):u(``,!0),e.versions[e.currentIndex].weaponBlueprint?.type?(t(),O(`div`,wc,`Type: `+s(e.versions[e.currentIndex].weaponBlueprint.type),1)):u(``,!0),e.versions[e.currentIndex].weaponBlueprint?.power?(t(),O(`div`,Tc,`Power: `+s(e.versions[e.currentIndex].weaponBlueprint.power),1)):u(``,!0),e.versions[e.currentIndex].weaponBlueprint?.damage?(t(),O(`div`,Ec,`Damage: `+s(e.versions[e.currentIndex].weaponBlueprint.damage),1)):u(``,!0),e.versions[e.currentIndex].weaponBlueprint?.cost?(t(),O(`div`,Dc,`Cost: `+s(e.versions[e.currentIndex].weaponBlueprint.cost),1)):u(``,!0),e.versions[e.currentIndex].weaponBlueprint?.name?(t(),O(`div`,Oc,[_(`div`,kc,` Found in `+s(y(D)(e.versions[e.currentIndex].weaponBlueprint.name,`weapons`))+` sector(s) `,1),_(`div`,Ac,[$(e.versions[e.currentIndex].weaponBlueprint.name,`weapons`).hasMore?(t(),O(h,{key:0},[(t(!0),O(h,null,k($(e.versions[e.currentIndex].weaponBlueprint.name,`weapons`).sectors,e=>(t(),O(`button`,{key:e,onClick:m(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,jc))),128)),_(`span`,Mc,`and `+s($(e.versions[e.currentIndex].weaponBlueprint.name,`weapons`).remaining)+` more`,1)],64)):(t(!0),O(h,{key:1},k($(e.versions[e.currentIndex].weaponBlueprint.name,`weapons`).sectors,e=>(t(),O(`button`,{key:e,onClick:m(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,Nc))),128))])])):u(``,!0)])],64)):u(``,!0)],8,dc)):e.weapon?.weaponBlueprint?(t(),O(`div`,{key:1,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer`,onClick:t=>ye(e.weapon)},[_(`div`,Fc,[_(`canvas`,{width:`40`,height:`40`,class:`weapon-thumbnail flex-shrink-0`,ref_for:!0,ref:t=>y(P)(e.weapon.weaponBlueprint,t,40)},null,512),_(`h3`,Ic,[e.weapon.weaponBlueprint?.name?.startsWith(`GATLING`)?(t(),O(`span`,Lc,`⭐`)):u(``,!0),e.weapon.weaponBlueprint?.name?.includes(`ANCIENT`)||e.weapon.weaponBlueprint?.name?.includes(`ROYAL`)?(t(),O(`span`,Rc,`🗿`)):u(``,!0),e.weapon.weaponBlueprint?.name?.startsWith(`LOOT_`)?(t(),O(`span`,zc,`💰`)):u(``,!0),e.weapon.weaponBlueprint?.name?.includes(`CHAOS`)?(t(),O(`span`,Bc,`🤯`)):u(``,!0),A(s(e.weapon.weaponBlueprint?.title||X(e.weapon.weaponBlueprint?.name)),1)])]),_(`div`,Vc,[e.weapon.weaponBlueprint?.name?(t(),O(`div`,Hc,s(e.weapon.weaponBlueprint.name),1)):u(``,!0),e.weapon.weaponBlueprint?.type?(t(),O(`div`,Uc,`Type: `+s(e.weapon.weaponBlueprint.type),1)):u(``,!0),e.weapon.weaponBlueprint?.power?(t(),O(`div`,Wc,`Power: `+s(e.weapon.weaponBlueprint.power),1)):u(``,!0),e.weapon.weaponBlueprint?.damage?(t(),O(`div`,Gc,`Damage: `+s(e.weapon.weaponBlueprint.damage),1)):u(``,!0),e.weapon.weaponBlueprint?.cost?(t(),O(`div`,Kc,`Cost: `+s(e.weapon.weaponBlueprint.cost),1)):u(``,!0),e.weapon.weaponBlueprint?.name?(t(),O(`div`,qc,[_(`div`,Jc,` Found in `+s(y(D)(e.weapon.weaponBlueprint.name,`weapons`))+` sector(s) `,1),_(`div`,Yc,[$(e.weapon.weaponBlueprint.name,`weapons`).hasMore?(t(),O(h,{key:0},[(t(!0),O(h,null,k($(e.weapon.weaponBlueprint.name,`weapons`).sectors,e=>(t(),O(`button`,{key:e,onClick:m(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,Xc))),128)),_(`span`,Zc,`and `+s($(e.weapon.weaponBlueprint.name,`weapons`).remaining)+` more`,1)],64)):(t(!0),O(h,{key:1},k($(e.weapon.weaponBlueprint.name,`weapons`).sectors,e=>(t(),O(`button`,{key:e,onClick:m(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,Qc))),128))])])):u(``,!0)])],8,Pc)):u(``,!0)],64))),128))])):u(``,!0),I.value===`crew`?(t(),O(`div`,$c,[(t(!0),O(h,null,k(Y.value.crew,(e,r)=>(t(),O(h,{key:r},[e.isGroup?(t(),O(`div`,{key:0,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer relative`,onClick:t=>xe(e.versions[e.currentIndex],{versions:e.versions,groupName:e.groupName})},[_(`div`,tl,[_(`button`,{onClick:m(t=>ke(e.groupName,-1),[`stop`]),class:`w-7 h-7 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-sm`,title:`Previous version`},` ‹ `,8,nl),_(`span`,rl,s(e.currentIndex+1)+`/`+s(e.versions.length),1),_(`button`,{onClick:m(t=>ke(e.groupName,1),[`stop`]),class:`w-7 h-7 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-sm`,title:`Next version`},` › `,8,il)]),e.versions[e.currentIndex]?.crewBlueprint?(t(),O(h,{key:0},[_(`div`,al,[y(N)(e.versions[e.currentIndex].crewBlueprint).backgroundImage?(t(),O(`div`,{key:0,class:`flex-shrink-0`,style:a(y(N)(e.versions[e.currentIndex].crewBlueprint))},null,4)):u(``,!0),_(`h3`,ol,[e.versions[e.currentIndex].crewBlueprint?.name?.startsWith(`unique_`)?(t(),O(`span`,sl,`⭐`)):u(``,!0),e.versions[e.currentIndex].crewBlueprint?.name?.toUpperCase().includes(`CHAOS`)?(t(),O(`span`,cl,`🤯`)):u(``,!0),A(s(_e(e.versions[e.currentIndex].crewBlueprint)),1)])]),_(`div`,ll,[e.versions[e.currentIndex].crewBlueprint?.name?(t(),O(`div`,ul,s(e.versions[e.currentIndex].crewBlueprint.name),1)):u(``,!0),e.versions[e.currentIndex].crewBlueprint?.desc?(t(),O(`div`,dl,s(e.versions[e.currentIndex].crewBlueprint.desc),1)):u(``,!0),ve(e.versions[e.currentIndex].crewBlueprint).length>0?(t(),O(`div`,fl,[n[11]||=_(`div`,{class:`font-semibold text-gray-200 mb-1`},`Powers:`,-1),_(`ul`,pl,[(t(!0),O(h,null,k(ve(e.versions[e.currentIndex].crewBlueprint),(e,n)=>(t(),O(`li`,{key:n},s(e),1))),128))])])):u(``,!0),e.versions[e.currentIndex].crewBlueprint?.cost?(t(),O(`div`,ml,` Cost: `+s(e.versions[e.currentIndex].crewBlueprint.cost),1)):u(``,!0),e.versions[e.currentIndex].crewBlueprint?.name?(t(),O(`div`,hl,[_(`div`,gl,` Found in `+s(y(D)(e.versions[e.currentIndex].crewBlueprint.name,`crew`))+` sector(s) `,1),_(`div`,_l,[$(e.versions[e.currentIndex].crewBlueprint.name,`crew`).hasMore?(t(),O(h,{key:0},[(t(!0),O(h,null,k($(e.versions[e.currentIndex].crewBlueprint.name,`crew`).sectors,e=>(t(),O(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,vl))),128)),_(`span`,yl,`and `+s($(e.versions[e.currentIndex].crewBlueprint.name,`crew`).remaining)+` more`,1)],64)):(t(!0),O(h,{key:1},k($(e.versions[e.currentIndex].crewBlueprint.name,`crew`).sectors,e=>(t(),O(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,bl))),128))])])):u(``,!0)])],64)):u(``,!0)],8,el)):e.crew?.crewBlueprint?(t(),O(`div`,{key:1,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer`,onClick:t=>xe(e.crew)},[_(`div`,Sl,[y(N)(e.crew.crewBlueprint).backgroundImage?(t(),O(`div`,{key:0,class:`flex-shrink-0`,style:a(y(N)(e.crew.crewBlueprint))},null,4)):u(``,!0),_(`h3`,Cl,[e.crew.crewBlueprint?.name?.startsWith(`unique_`)?(t(),O(`span`,wl,`⭐`)):u(``,!0),e.crew.crewBlueprint?.name?.toUpperCase().includes(`CHAOS`)?(t(),O(`span`,Tl,`🤯`)):u(``,!0),A(s(_e(e.crew.crewBlueprint)),1)])]),_(`div`,El,[e.crew.crewBlueprint?.name?(t(),O(`div`,Dl,s(e.crew.crewBlueprint.name),1)):u(``,!0),e.crew.crewBlueprint?.desc?(t(),O(`div`,Ol,s(e.crew.crewBlueprint.desc),1)):u(``,!0),ve(e.crew.crewBlueprint).length>0?(t(),O(`div`,kl,[n[12]||=_(`div`,{class:`font-semibold text-gray-200 mb-1`},`Powers:`,-1),_(`ul`,Al,[(t(!0),O(h,null,k(ve(e.crew.crewBlueprint),(e,n)=>(t(),O(`li`,{key:n},s(e),1))),128))])])):u(``,!0),e.crew.crewBlueprint?.cost?(t(),O(`div`,jl,`Cost: `+s(e.crew.crewBlueprint.cost),1)):u(``,!0),e.crew.crewBlueprint?.name?(t(),O(`div`,Ml,[_(`div`,Nl,` Found in `+s(y(D)(e.crew.crewBlueprint.name,`crew`))+` sector(s) `,1),_(`div`,Pl,[$(e.crew.crewBlueprint.name,`crew`).hasMore?(t(),O(h,{key:0},[(t(!0),O(h,null,k($(e.crew.crewBlueprint.name,`crew`).sectors,e=>(t(),O(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,Fl))),128)),_(`span`,Il,`and `+s($(e.crew.crewBlueprint.name,`crew`).remaining)+` more`,1)],64)):(t(!0),O(h,{key:1},k($(e.crew.crewBlueprint.name,`crew`).sectors,e=>(t(),O(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,Ll))),128))])])):u(``,!0)])],8,xl)):u(``,!0)],64))),128))])):u(``,!0),I.value===`augments`?(t(),O(`div`,Rl,[(t(!0),O(h,null,k(Y.value.augments,(e,r)=>(t(),O(h,{key:r},[e.isGroup?(t(),O(`div`,zl,[e.versions.length>1?(t(),O(`div`,Bl,[_(`button`,{onClick:t=>Ee(e.baseName,-1),class:`w-7 h-7 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-sm`,title:`Previous version`},` ‹ `,8,Vl),_(`span`,Hl,s(e.currentIndex+1)+`/`+s(e.versions.length),1),_(`button`,{onClick:t=>Ee(e.baseName,1),class:`w-7 h-7 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-sm`,title:`Next version`},` › `,8,Ul)])):u(``,!0),e.versions[e.currentIndex]?.augBlueprint?(t(),O(h,{key:1},[_(`h3`,Wl,[e.versions[e.currentIndex].augBlueprint?.name?.startsWith(`LOCKED_`)?(t(),O(`span`,Gl,`🔒`)):u(``,!0),e.versions[e.currentIndex].augBlueprint?.name?.includes(`PREIGNITE`)?(t(),O(`span`,Kl,`⭐`)):u(``,!0),e.versions[e.currentIndex].augBlueprint?.name?.includes(`ANCIENT`)||e.versions[e.currentIndex].augBlueprint?.name?.includes(`ROYAL`)?(t(),O(`span`,ql,`🗿`)):u(``,!0),e.versions[e.currentIndex].augBlueprint?.name?.includes(`CHAOS`)?(t(),O(`span`,Jl,`🤯`)):u(``,!0),A(s(e.versions[e.currentIndex].augBlueprint?.title||X(e.versions[e.currentIndex].augBlueprint?.name)),1)]),_(`div`,Yl,[e.versions[e.currentIndex].augBlueprint?.name?(t(),O(`div`,Xl,s(e.versions[e.currentIndex].augBlueprint.name),1)):u(``,!0),e.versions[e.currentIndex].augBlueprint?.desc?(t(),O(`div`,Zl,s(typeof e.versions[e.currentIndex].augBlueprint.desc==`string`?e.versions[e.currentIndex].augBlueprint.desc:e.versions[e.currentIndex].augBlueprint.desc.text),1)):u(``,!0),e.versions[e.currentIndex].augBlueprint?.cost?(t(),O(`div`,Ql,` Cost: `+s(e.versions[e.currentIndex].augBlueprint.cost),1)):u(``,!0),e.versions[e.currentIndex].augBlueprint?.rarity?(t(),O(`div`,$l,` Rarity: `+s(e.versions[e.currentIndex].augBlueprint.rarity),1)):u(``,!0),e.versions[e.currentIndex].augBlueprint?.stackable?(t(),O(`div`,eu,[n[13]||=A(` Stackable: `,-1),_(`span`,{class:i(e.versions[e.currentIndex].augBlueprint.stackable===`true`?`text-green-400`:`text-red-400`)},s(e.versions[e.currentIndex].augBlueprint.stackable===`true`?`Yes`:`No`),3)])):u(``,!0),e.versions[e.currentIndex].augBlueprint?.name?(t(),O(`div`,tu,[_(`div`,nu,` Found in `+s(y(D)(e.versions[e.currentIndex].augBlueprint.name,`augments`))+` sector(s) `,1),_(`div`,ru,[$(e.versions[e.currentIndex].augBlueprint.name,`augments`).hasMore?(t(),O(h,{key:0},[(t(!0),O(h,null,k($(e.versions[e.currentIndex].augBlueprint.name,`augments`).sectors,e=>(t(),O(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,iu))),128)),_(`span`,au,`and `+s($(e.versions[e.currentIndex].augBlueprint.name,`augments`).remaining)+` more`,1)],64)):(t(!0),O(h,{key:1},k($(e.versions[e.currentIndex].augBlueprint.name,`augments`).sectors,e=>(t(),O(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,ou))),128))])])):u(``,!0)])],64)):u(``,!0)])):e.augment?.augBlueprint?(t(),O(`div`,su,[_(`h3`,cu,[e.augment.augBlueprint?.name?.startsWith(`LOCKED_`)?(t(),O(`span`,lu,`🔒`)):u(``,!0),e.augment.augBlueprint?.name?.includes(`PREIGNITE`)?(t(),O(`span`,uu,`⭐`)):u(``,!0),e.augment.augBlueprint?.name?.includes(`ANCIENT`)||e.augment.augBlueprint?.name?.includes(`ROYAL`)?(t(),O(`span`,du,`🗿`)):u(``,!0),e.augment.augBlueprint?.name?.includes(`CHAOS`)?(t(),O(`span`,fu,`🤯`)):u(``,!0),A(s(e.augment.augBlueprint?.title||X(e.augment.augBlueprint?.name)),1)]),_(`div`,pu,[e.augment.augBlueprint?.name?(t(),O(`div`,mu,s(e.augment.augBlueprint.name),1)):u(``,!0),e.augment.augBlueprint?.desc?(t(),O(`div`,hu,s(typeof e.augment.augBlueprint.desc==`string`?e.augment.augBlueprint.desc:e.augment.augBlueprint.desc.text),1)):u(``,!0),e.augment.augBlueprint?.cost?(t(),O(`div`,gu,`Cost: `+s(e.augment.augBlueprint.cost),1)):u(``,!0),e.augment.augBlueprint?.rarity?(t(),O(`div`,_u,`Rarity: `+s(e.augment.augBlueprint.rarity),1)):u(``,!0),e.augment.augBlueprint?.stackable?(t(),O(`div`,vu,[n[14]||=A(` Stackable: `,-1),_(`span`,{class:i(e.augment.augBlueprint.stackable===`true`?`text-green-400`:`text-red-400`)},s(e.augment.augBlueprint.stackable===`true`?`Yes`:`No`),3)])):u(``,!0),e.augment.augBlueprint?.name?(t(),O(`div`,yu,[_(`div`,bu,` Found in `+s(y(D)(e.augment.augBlueprint.name,`augments`))+` sector(s) `,1),_(`div`,xu,[$(e.augment.augBlueprint.name,`augments`).hasMore?(t(),O(h,{key:0},[(t(!0),O(h,null,k($(e.augment.augBlueprint.name,`augments`).sectors,e=>(t(),O(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,Su))),128)),_(`span`,Cu,`and `+s($(e.augment.augBlueprint.name,`augments`).remaining)+` more`,1)],64)):(t(!0),O(h,{key:1},k($(e.augment.augBlueprint.name,`augments`).sectors,e=>(t(),O(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,wu))),128))])])):u(``,!0)])])):u(``,!0)],64))),128))])):u(``,!0),I.value===`drones`?(t(),O(`div`,Tu,[(t(!0),O(h,null,k(Y.value.drones,(e,n)=>(t(),O(h,{key:n},[e.isGroup?(t(),O(`div`,{key:0,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors relative cursor-pointer`,onClick:t=>we(e.versions[e.currentIndex],{versions:e.versions,groupName:e.groupName})},[_(`div`,Du,[_(`button`,{onClick:m(t=>Oe(e.groupName,-1),[`stop`]),class:`px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs`,title:`Previous version`},` ‹ `,8,Ou),_(`span`,ku,s(e.currentIndex+1)+`/`+s(e.versions.length),1),_(`button`,{onClick:m(t=>Oe(e.groupName,1),[`stop`]),class:`px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs`,title:`Next version`},` › `,8,Au)]),e.versions[e.currentIndex]?.droneBlueprint?(t(),O(h,{key:0},[_(`div`,ju,[_(`canvas`,{width:`40`,height:`40`,class:`drone-thumbnail flex-shrink-0`,ref_for:!0,ref:t=>t&&y(F)(e.versions[e.currentIndex].droneBlueprint,t,40)},null,512),_(`h3`,Mu,[e.versions[e.currentIndex].droneBlueprint?.name?.startsWith(`A55_`)?(t(),O(`span`,Nu,`⭐`)):u(``,!0),e.versions[e.currentIndex].droneBlueprint?.name?.includes(`ANCIENT`)||e.versions[e.currentIndex].droneBlueprint?.name?.includes(`ROYAL`)||e.versions[e.currentIndex].droneBlueprint?.title?.toUpperCase().includes(`ANCIENT`)||e.versions[e.currentIndex].droneBlueprint?.title?.toUpperCase().includes(`ROYAL`)?(t(),O(`span`,Pu,`🗿`)):u(``,!0),e.versions[e.currentIndex].droneBlueprint?.name?.startsWith(`LOOT_`)?(t(),O(`span`,Fu,`💰`)):u(``,!0),e.versions[e.currentIndex].droneBlueprint?.name?.includes(`CHAOS`)?(t(),O(`span`,Iu,`🤯`)):u(``,!0),A(s(e.versions[e.currentIndex].droneBlueprint?.title||X(e.versions[e.currentIndex].droneBlueprint?.name)),1)])]),_(`div`,Lu,[e.versions[e.currentIndex].droneBlueprint?.name?(t(),O(`div`,Ru,s(e.versions[e.currentIndex].droneBlueprint.name),1)):u(``,!0),e.versions[e.currentIndex].droneBlueprint?.type?(t(),O(`div`,zu,`Type: `+s(e.versions[e.currentIndex].droneBlueprint.type),1)):u(``,!0),e.versions[e.currentIndex].droneBlueprint?.power?(t(),O(`div`,Bu,`Power: `+s(e.versions[e.currentIndex].droneBlueprint.power),1)):u(``,!0),e.versions[e.currentIndex].droneBlueprint?.cost?(t(),O(`div`,Vu,`Cost: `+s(e.versions[e.currentIndex].droneBlueprint.cost),1)):u(``,!0),e.versions[e.currentIndex].droneBlueprint?.name?(t(),O(`div`,Hu,[_(`div`,Uu,` Found in `+s(y(D)(e.versions[e.currentIndex].droneBlueprint.name,`drones`))+` sector(s) `,1),_(`div`,Wu,[$(e.versions[e.currentIndex].droneBlueprint.name,`drones`).hasMore?(t(),O(h,{key:0},[(t(!0),O(h,null,k($(e.versions[e.currentIndex].droneBlueprint.name,`drones`).sectors,e=>(t(),O(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,Gu))),128)),_(`span`,Ku,`and `+s($(e.versions[e.currentIndex].droneBlueprint.name,`drones`).remaining)+` more`,1)],64)):(t(!0),O(h,{key:1},k($(e.versions[e.currentIndex].droneBlueprint.name,`drones`).sectors,e=>(t(),O(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,qu))),128))])])):u(``,!0)])],64)):u(``,!0)],8,Eu)):e.drone?.droneBlueprint?(t(),O(`div`,{key:1,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer`,onClick:t=>we(e.drone)},[_(`div`,Yu,[_(`canvas`,{width:`40`,height:`40`,class:`drone-thumbnail flex-shrink-0`,ref_for:!0,ref:t=>y(F)(e.drone.droneBlueprint,t,40)},null,512),_(`h3`,Xu,[e.drone.droneBlueprint?.name?.startsWith(`A55_`)?(t(),O(`span`,Zu,`⭐`)):u(``,!0),e.drone.droneBlueprint?.name?.includes(`ANCIENT`)||e.drone.droneBlueprint?.name?.includes(`ROYAL`)||e.drone.droneBlueprint?.title?.toUpperCase().includes(`ANCIENT`)||e.drone.droneBlueprint?.title?.toUpperCase().includes(`ROYAL`)?(t(),O(`span`,Qu,`🗿`)):u(``,!0),e.drone.droneBlueprint?.name?.startsWith(`LOOT_`)?(t(),O(`span`,$u,`💰`)):u(``,!0),e.drone.droneBlueprint?.name?.includes(`CHAOS`)?(t(),O(`span`,ed,`🤯`)):u(``,!0),A(s(e.drone.droneBlueprint?.title||X(e.drone.droneBlueprint?.name)),1)])]),_(`div`,td,[e.drone.droneBlueprint?.name?(t(),O(`div`,nd,s(e.drone.droneBlueprint.name),1)):u(``,!0),e.drone.droneBlueprint?.type?(t(),O(`div`,rd,`Type: `+s(e.drone.droneBlueprint.type),1)):u(``,!0),e.drone.droneBlueprint?.power?(t(),O(`div`,id,`Power: `+s(e.drone.droneBlueprint.power),1)):u(``,!0),e.drone.droneBlueprint?.cost?(t(),O(`div`,ad,`Cost: `+s(e.drone.droneBlueprint.cost),1)):u(``,!0),e.drone.droneBlueprint?.name?(t(),O(`div`,od,[_(`div`,sd,` Found in `+s(y(D)(e.drone.droneBlueprint.name,`drones`))+` sector(s) `,1),_(`div`,cd,[$(e.drone.droneBlueprint.name,`drones`).hasMore?(t(),O(h,{key:0},[(t(!0),O(h,null,k($(e.drone.droneBlueprint.name,`drones`).sectors,e=>(t(),O(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,ld))),128)),_(`span`,ud,`and `+s($(e.drone.droneBlueprint.name,`drones`).remaining)+` more`,1)],64)):(t(!0),O(h,{key:1},k($(e.drone.droneBlueprint.name,`drones`).sectors,e=>(t(),O(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,dd))),128))])])):u(``,!0)])],8,Ju)):u(``,!0)],64))),128))])):u(``,!0)])),U.value?(t(),g(Ra,{key:3,weapon:U.value,show:ce.value,versions:W.value?.versions||null,currentIndex:W.value&&H.value[W.value.groupName]||0,onClose:n[6]||=e=>{U.value=null,W.value=null},onNavigateSector:Q,onChangeVersion:be},{sectors:o(()=>[_(`div`,fd,[(t(!0),O(h,null,k(y(E)(U.value?.weaponBlueprint?.name,`weapons`),e=>(t(),O(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,pd))),128))])]),_:1},8,[`weapon`,`show`,`versions`,`currentIndex`])):u(``,!0),G.value?(t(),g(lo,{key:4,crew:G.value,show:ue.value,versions:K.value?.versions||null,currentIndex:K.value&&se.value[K.value.groupName]||0,onClose:n[7]||=e=>{G.value=null,K.value=null},onNavigateSector:Q,onChangeVersion:Se},{sectors:o(()=>[_(`div`,md,[(t(!0),O(h,null,k(y(E)(G.value?.crewBlueprint?.name,`crew`),e=>(t(),O(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,hd))),128))])]),_:1},8,[`crew`,`show`,`versions`,`currentIndex`])):u(``,!0),q.value?(t(),g(Js,{key:5,drone:q.value,show:de.value,versions:J.value?.versions||[],"current-index":J.value&&oe.value[J.value.groupName]||0,onClose:n[8]||=e=>{q.value=null,J.value=null},onNavigateSector:Q,onChangeVersion:Te},{sectors:o(()=>[(t(!0),O(h,null,k(y(E)(q.value?.droneBlueprint?.name,`drones`),e=>(t(),O(`button`,{key:e,onClick:t=>Q(e),class:`text-sm px-3 py-1.5 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},s(Z(e)),9,gd))),128))]),_:1},8,[`drone`,`show`,`versions`,`current-index`])):u(``,!0)]))}},vd={class:`min-h-screen flex items-center justify-center p-4`},yd=[{path:`/`,redirect:`/sectors`},{path:`/sectors`,name:`Sectors`,component:Jr},{path:`/blueprints`,name:`Blueprints`,component:_d},{path:`/:pathMatch(.*)*`,name:`NotFound`,component:{__name:`NotFoundPage`,setup(e){let n=w();function r(){n.push(`/sectors`)}function i(){n.push(`/blueprints`)}return(e,n)=>(t(),O(`div`,vd,[_(`div`,{class:`text-center max-w-2xl`},[n[0]||=_(`div`,{class:`text-9xl font-bold text-gray-700 mb-4`},`404`,-1),n[1]||=_(`h1`,{class:`text-4xl font-bold text-gray-100 mb-4`},`Page Not Found`,-1),n[2]||=_(`p`,{class:`text-xl text-gray-400 mb-8`},` The page you're looking for doesn't exist or has been moved. `,-1),_(`div`,{class:`flex gap-4 justify-center`},[_(`button`,{onClick:r,class:`px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-semibold`},` Go to Sectors `),_(`button`,{onClick:i,class:`px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors font-semibold`},` Browse Blueprints `)])])]))}}}],bd=ee({history:v(),routes:yd});p(R).use(bd).mount(`#app`);