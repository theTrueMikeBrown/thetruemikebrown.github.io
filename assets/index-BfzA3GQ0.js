import{A as e,C as t,D as n,E as r,F as i,M as a,N as o,O as s,P as c,S as l,T as u,_ as d,a as f,b as p,c as m,d as h,f as g,g as _,h as v,i as y,j as b,k as x,l as S,m as C,n as w,o as ee,p as T,r as E,s as te,t as D,u as O,v as k,w as A,x as j,y as ne}from"./vue-CPWeXSHp.js";(function(){let e=document.createElement(`link`).relList;if(e&&e.supports&&e.supports(`modulepreload`))return;for(let e of document.querySelectorAll(`link[rel="modulepreload"]`))n(e);new MutationObserver(e=>{for(let t of e)if(t.type===`childList`)for(let e of t.addedNodes)e.tagName===`LINK`&&e.rel===`modulepreload`&&n(e)}).observe(document,{childList:!0,subtree:!0});function t(e){let t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),e.crossOrigin===`use-credentials`?t.credentials=`include`:e.crossOrigin===`anonymous`?t.credentials=`omit`:t.credentials=`same-origin`,t}function n(e){if(e.ep)return;e.ep=!0;let n=t(e);fetch(e.href,n)}})();var M={class:`min-h-screen bg-gray-900 text-gray-100`},N={class:`bg-gray-800 border-b border-gray-700`},P={class:`container mx-auto px-4`},F={class:`flex items-center justify-between h-16`},I={class:`flex items-center gap-6`},L={class:`flex space-x-4`},R={class:`container mx-auto px-4 py-8`},z={__name:`App`,setup(e){return(e,t)=>(A(),k(`div`,M,[v(`nav`,N,[v(`div`,P,[v(`div`,F,[t[3]||=v(`h1`,{class:`text-xl font-bold text-blue-400`},`FTL Multiverse Data Browser`,-1),v(`div`,I,[v(`div`,L,[j(a(D),{to:`/sectors`,class:`px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors`,"active-class":`bg-blue-600`},{default:x(()=>[...t[0]||=[p(` Sectors `,-1)]]),_:1}),j(a(D),{to:`/blueprints`,class:`px-4 py-2 rounded-lg hover:bg-gray-700 transition-colors`,"active-class":`bg-blue-600`},{default:x(()=>[...t[1]||=[p(` Blueprints `,-1)]]),_:1})]),t[2]||=v(`div`,{class:`text-sm text-gray-500`},[v(`kbd`,{class:`px-2 py-1 bg-gray-800 border border-gray-700 rounded text-xs`},`Ctrl+K`),p(` to search `)],-1)])])])]),v(`main`,R,[j(a(w))]),t[4]||=ne(`<footer class="bg-gray-800 border-t border-gray-700 mt-16"><div class="container mx-auto px-4 py-6"><div class="text-center text-sm text-gray-400 space-y-2"><p><strong class="text-gray-300">FTL: Multiverse</strong> created by <span class="text-blue-400">Kix, AgenTHeKat, Laythe, and Marcus McCloud</span>. </p><p> Ship layout images generated with code by <span class="text-blue-400">thebasicperson</span>, who you can find on discord. </p></div></div></footer>`,1)]))}},B=`/data`,V={sectors:null,weapons:null,crew:null,augments:null,drones:null,ships:null,blueprintLists:null,animations:null};async function re(){if(V.sectors)return V.sectors;try{let e=await fetch(`${B}/all_sector_descriptions_clean.json`);if(!e.ok)throw Error(`Failed to load sectors data`);return V.sectors=await e.json(),V.sectors}catch(e){throw console.error(`Error loading sectors:`,e),e}}async function ie(){if(V.weapons)return V.weapons;try{let e=await fetch(`${B}/all_weaponBlueprints_plus.json`);if(!e.ok)throw Error(`Failed to load weapons data`);return V.weapons=await e.json(),V.weapons}catch(e){throw console.error(`Error loading weapons:`,e),e}}async function ae(){if(V.crew)return V.crew;try{let e=await fetch(`${B}/all_crewBlueprints_plus.json`);if(!e.ok)throw Error(`Failed to load crew data`);return V.crew=await e.json(),V.crew}catch(e){throw console.error(`Error loading crew:`,e),e}}async function oe(){if(V.augments)return V.augments;try{let e=await fetch(`${B}/all_augBlueprints.json`);if(!e.ok)throw Error(`Failed to load augments data`);return V.augments=await e.json(),V.augments}catch(e){throw console.error(`Error loading augments:`,e),e}}async function H(){if(V.drones)return V.drones;try{let e=await fetch(`${B}/all_droneBlueprints.json`);if(!e.ok)throw Error(`Failed to load drones data`);return V.drones=await e.json(),V.drones}catch(e){throw console.error(`Error loading drones:`,e),e}}async function se(){if(V.ships)return V.ships;try{let e=await fetch(`${B}/all_shipBlueprints.json`);if(!e.ok)throw Error(`Failed to load ships data`);return V.ships=await e.json(),V.ships}catch(e){throw console.error(`Error loading ships:`,e),e}}async function ce(){if(V.blueprintLists)return V.blueprintLists;try{let e=await fetch(`${B}/all_blueprintLists.json`);if(!e.ok)throw Error(`Failed to load blueprint lists data`);return V.blueprintLists=await e.json(),V.blueprintLists}catch(e){throw console.error(`Error loading blueprint lists:`,e),e}}async function le(){if(V.animations)return V.animations;try{let e=await fetch(`${B}/all_animation_data.json`);if(!e.ok)throw Error(`Failed to load animation data`);return V.animations=await e.json(),V.animations}catch(e){throw console.error(`Error loading animations:`,e),e}}var U=b([]),W=b(!1),ue=b(null);function de(){async function e(){if(!(U.value.length>0)){W.value=!0,ue.value=null;try{U.value=await re()}catch(e){ue.value=e.message,console.error(`Failed to load sectors:`,e)}finally{W.value=!1}}}let t=C(()=>{let e={Civilian:{unique:[],standard:[]},Neutral:{unique:[],standard:[]},Hostile:{unique:[],standard:[]},Nebula:{unique:[],standard:[]},Secret:{unique:[],standard:[]},Other:{unique:[],standard:[]}},t=[`FEDERATION`,`UNION`,`HARMONY`,`MINISTRY`,`GATHERING`,`FREEMANTIS`,`IMPERIAL`,`OUTCAST`],n=[`CONFEDERATE`,`SEPARATIST`,`GENIOCRACY`,`VAGABOND`,`PIRATE`,`REPUBLIC`],r=[`REBEL`,`AUTO`,`KLEPTOCRACY`,`HIVE`,`THEOCRACY`,`DUSKBRINGER`,`COALITION`,`DYNASTY`],i=[`LANIUS`,`LOSTSUN`,`STARGROVE`,`MORPH`,`MILITIA`,`HACKER`,`MONK`,`CLAN`,`SLUG`];return U.value.forEach(a=>{let o=a.name||``,s=a.unique===`true`||o.includes(`_UNIQUE`),c=o.startsWith(`SECRET_`),l=`Other`;if(c)l=`Secret`;else{for(let e of t)if(o.includes(e)){l=`Civilian`;break}if(l===`Other`){for(let e of n)if(o.includes(e)){l=`Neutral`;break}}if(l===`Other`){for(let e of r)if(o.includes(e)){l=`Hostile`;break}}if(l===`Other`){for(let e of i)if(o.includes(e)){l=`Nebula`;break}}}s?e[l].unique.push(a):e[l].standard.push(a)}),e});function n(e){return U.value.find(t=>t.name===e)}function r(e){if(!e)return U.value;let t=e.toLowerCase();return U.value.filter(e=>{if(e.name?.toLowerCase().includes(t))return!0;let n=e=>e?.some(e=>e.toLowerCase().includes(t));return n(e.crew)||n(e.weapons)||n(e.augments)||n(e.drones)})}return{sectors:U,loading:W,error:ue,sectorsByType:t,fetchSectors:e,getSector:n,searchSectors:r}}var G=b([]),fe=b([]),K=b([]),q=b([]),pe=b([]),J=b(!1),Y=b(null);function me(){async function e(){if(!(G.value.length>0&&pe.value.length>0)){J.value=!0,Y.value=null;try{let[e,t,n,r,i]=await Promise.all([ie(),ae(),oe(),H(),se()]);G.value=e,fe.value=t,K.value=n,q.value=r,pe.value=i}catch(e){Y.value=e.message,console.error(`Failed to load blueprints:`,e)}finally{J.value=!1}}}let t=C(()=>({weapons:G.value,crew:fe.value,augments:K.value,drones:q.value,ships:pe.value}));function n(e,t){return{weapon:G.value,crew:fe.value,augment:K.value,drone:q.value,ship:pe.value}[e]?.find(e=>(e.weaponBlueprint?.name||e.crewBlueprint?.name||e.augBlueprint?.name||e.droneBlueprint?.name||e.shipBlueprint?._id||e.shipBlueprint?.name)===t)}function r(e){if(!e)return t.value;let n=e.toLowerCase();return{weapons:G.value.filter(e=>{let t=e.weaponBlueprint;return t?.name?.toLowerCase().includes(n)||t?.title?.toLowerCase().includes(n)}),crew:fe.value.filter(e=>{let t=e.crewBlueprint;return t?.name?.toLowerCase().includes(n)||t?.race?.toLowerCase().includes(n)}),augments:K.value.filter(e=>{let t=e.augBlueprint;return t?.name?.toLowerCase().includes(n)||t?.title?.toLowerCase().includes(n)}),drones:q.value.filter(e=>{let t=e.droneBlueprint;return t?.name?.toLowerCase().includes(n)||t?.title?.toLowerCase().includes(n)}),ships:pe.value.filter(e=>{let t=e.shipBlueprint;return t?.name?.toLowerCase().includes(n)||t?.class?.toLowerCase().includes(n)})}}return{weapons:G,crew:fe,augments:K,drones:q,ships:pe,loading:J,error:Y,blueprintArrays:t,fetchBlueprints:e,getBlueprint:n,searchBlueprints:r}}var he=b([]),ge=b(new Map),_e=b([]),X=b(new Map),ve=b(!1),ye=b(null);function be(){async function e(){if(!(he.value.length>0)){ve.value=!0,ye.value=null;try{let e=await fetch(`/data/all_event_data.json`);if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let t=await e.json();he.value=t,ge.value=new Map(t.filter(e=>e.name).map(e=>[e.name,e])),console.log(`Loaded ${he.value.length} events`)}catch(e){ye.value=e.message,console.error(`Failed to load events:`,e)}finally{ve.value=!1}}}async function t(){if(!(_e.value.length>0))try{let e=await fetch(`/data/all_event_lists.json`);if(!e.ok)throw Error(`HTTP error! status: ${e.status}`);let t=await e.json();_e.value=t,X.value=new Map(t.filter(e=>e.name).map(e=>[e.name,e])),console.log(`Loaded ${_e.value.length} event lists`)}catch(e){console.error(`Failed to load event lists:`,e)}}function n(e){return ge.value.get(e)}function r(e){return X.value.get(e)}return{events:he,eventsMap:ge,eventLists:_e,eventListsMap:X,loading:ve,error:ye,fetchEvents:e,fetchEventLists:t,getEvent:n,getEventList:r}}function xe(){let{sectors:e}=de(),t=C(()=>{let t={crew:new Map,weapons:new Map,augments:new Map,drones:new Map,ships:new Map};return e.value.forEach(e=>{e.crew?.forEach(n=>{t.crew.has(n)||t.crew.set(n,[]),t.crew.get(n).push(e.name)}),e.weapons?.forEach(n=>{t.weapons.has(n)||t.weapons.set(n,[]),t.weapons.get(n).push(e.name)}),e.augments?.forEach(n=>{t.augments.has(n)||t.augments.set(n,[]),t.augments.get(n).push(e.name)}),e.drones?.forEach(n=>{t.drones.has(n)||t.drones.set(n,[]),t.drones.get(n).push(e.name)}),e.ship_unlocks?.forEach(n=>{t.ships.has(n)||t.ships.set(n,[]),t.ships.get(n).push(e.name)})}),t});function n(e,n){return t.value[n]?.get(e)||[]}function r(e,t){return n(e,t).length}return{itemToSectorsMap:t,getSectorsForItem:n,getSectorCount:r}}var Se={class:`border border-gray-700 rounded-lg overflow-hidden`},Ce={class:`flex items-center gap-3`},we={class:`text-lg font-semibold text-gray-200`},Te={key:0,class:`text-sm text-gray-500`},Z={class:`bg-gray-800/50 p-4`},Q={__name:`CollapsibleSection`,props:{title:{type:String,required:!0},defaultOpen:{type:Boolean,default:!1},count:{type:Number,default:null}},setup(t){let n=b(t.defaultOpen);function a(){n.value=!n.value}return(s,c)=>(A(),k(`div`,Se,[v(`button`,{onClick:a,class:`w-full px-4 py-3 bg-gray-800 hover:bg-gray-750 transition-colors flex items-center justify-between`},[v(`div`,Ce,[v(`span`,{class:o([`text-gray-400 text-xl transition-transform`,{"rotate-90":n.value}])},` ▶ `,2),v(`h3`,we,i(t.title),1),t.count===null?d(``,!0):(A(),k(`span`,Te,` (`+i(t.count)+`) `,1))])]),e(v(`div`,Z,[r(s.$slots,`default`)],512),[[O,n.value]])]))}},$={class:`relative`},Ee=[`value`,`placeholder`],De={__name:`SearchBar`,props:{modelValue:{type:String,default:``},placeholder:{type:String,default:`Search...`}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=e,r=t,i=b(n.modelValue);s(()=>n.modelValue,e=>{i.value=e});function a(e){i.value=e.target.value,r(`update:modelValue`,i.value)}function o(){i.value=``,r(`update:modelValue`,``)}return(t,n)=>(A(),k(`div`,$,[v(`input`,{value:i.value,onInput:a,type:`text`,placeholder:e.placeholder,class:`w-full px-4 py-2 pl-10 pr-10 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 placeholder-gray-500 focus:outline-none focus:border-blue-500 transition-colors`},null,40,Ee),n[1]||=v(`div`,{class:`absolute left-3 top-1/2 -translate-y-1/2 text-gray-500`},[v(`svg`,{class:`w-5 h-5`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[v(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z`})])],-1),i.value?(A(),k(`button`,{key:0,onClick:o,class:`absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-300 transition-colors`},[...n[0]||=[v(`svg`,{class:`w-5 h-5`,fill:`none`,stroke:`currentColor`,viewBox:`0 0 24 24`},[v(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M6 18L18 6M6 6l12 12`})],-1)]])):d(``,!0)]))}},Oe={class:`bg-gray-800 rounded-lg border border-gray-700 max-w-2xl w-full max-h-[80vh] overflow-hidden flex flex-col`},ke={class:`flex items-center justify-between p-6 border-b border-gray-700`},Ae={class:`text-2xl font-bold text-gray-100`},je={class:`p-6 overflow-y-auto flex-1`},Me={key:0,class:`text-gray-400 text-center py-8`},Ne={key:1,class:`text-gray-400 text-center py-8`},Pe={key:2,class:`space-y-3`},Fe={class:`text-sm text-gray-400 mb-4`},Ie={class:`grid gap-2`},Le=[`onClick`],Re={class:`font-mono text-sm text-blue-400`},ze={class:`p-4 border-t border-gray-700 flex justify-end`},Be={__name:`BlueprintListModal`,props:{listName:{type:String,required:!0},listData:{type:Object,default:null}},emits:[`close`,`navigate`],setup(e,{emit:t}){let n=e,r=t,a=C(()=>!n.listData||!n.listData.items?[]:n.listData.items);function o(e){r(`navigate`,e),r(`close`)}function s(e){e.target===e.currentTarget&&r(`close`)}return(t,n)=>(A(),k(`div`,{class:`fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center z-50 p-4`,onClick:s},[v(`div`,Oe,[v(`div`,ke,[v(`div`,null,[v(`h2`,Ae,i(e.listName),1),n[2]||=v(`p`,{class:`text-sm text-gray-400 mt-1`},`Blueprint List`,-1)]),v(`button`,{onClick:n[0]||=e=>r(`close`),class:`text-gray-400 hover:text-gray-200 transition-colors text-2xl leading-none`,"aria-label":`Close`},` × `)]),v(`div`,je,[e.listData?a.value.length===0?(A(),k(`div`,Ne,[...n[4]||=[v(`p`,null,`No blueprints in this list`,-1)]])):(A(),k(`div`,Pe,[v(`p`,Fe,` Contains `+i(a.value.length)+` blueprint`+i(a.value.length===1?``:`s`),1),v(`div`,Ie,[(A(!0),k(g,null,u(a.value,(e,t)=>(A(),k(`button`,{key:t,onClick:t=>o(e),class:`text-left px-4 py-3 bg-gray-900 hover:bg-gray-700 rounded border border-gray-700 hover:border-blue-500 transition-colors`},[v(`div`,Re,i(e),1)],8,Le))),128))])])):(A(),k(`div`,Me,[...n[3]||=[v(`p`,null,`List data not found`,-1)]]))]),v(`div`,ze,[v(`button`,{onClick:n[1]||=e=>r(`close`),class:`px-4 py-2 bg-gray-700 hover:bg-gray-600 text-gray-100 rounded transition-colors`},` Close `)])])]))}},Ve={key:1,class:`text-gray-600 mr-2 inline-block w-3`},He={key:0,class:`text-gray-500 text-[10px] ml-1`},Ue={key:1,class:`text-yellow-500 text-[10px] ml-1`},We={key:0,class:`mt-2 ml-4 space-y-2 text-xs`},Ge={key:0},Ke={class:`space-y-1`},qe={key:0,class:`text-gray-500 font-semibold text-[10px]`},Je={key:1,class:`space-y-1`},Ye={class:`space-y-1`},Xe={key:2,class:`flex flex-wrap gap-1`},Ze=[`onClick`],Qe={key:0,class:`text-blue-400`},$e={key:3,class:`flex flex-wrap gap-1`},et=[`onClick`],tt={key:4,class:`flex flex-wrap gap-1`},nt=[`onClick`],rt={key:5,class:`flex flex-wrap gap-1`},it=[`onClick`],at={key:6,class:`space-y-1`},ot={key:0},st={key:1,class:`text-gray-400 ml-2`},ct={key:7,class:`flex flex-wrap gap-1`},lt={key:8,class:`flex flex-wrap gap-1`},ut=[`title`],dt={key:1,class:`mt-2 ml-4 space-y-2 text-xs`},ft={key:0,class:`text-gray-300 bg-gray-800/50 p-2 rounded border border-gray-700`},pt={class:`mt-1 whitespace-pre-wrap`},mt={key:1,class:`text-gray-300 bg-yellow-900/20 p-2 rounded border border-yellow-700/50`},ht={class:`ml-2`},gt={key:0,class:`text-yellow-300`},_t={key:1,class:`text-gray-400 ml-2`},vt={key:2,class:`space-y-2`},yt={key:0,class:`space-y-1`},bt={class:`space-y-1`},xt={key:1,class:`flex flex-wrap gap-1`},St=[`onClick`],Ct={key:0,class:`text-blue-400`},wt={key:2,class:`flex flex-wrap gap-1`},Tt=[`onClick`],Et={key:3,class:`flex flex-wrap gap-1`},Dt=[`onClick`],Ot={key:4,class:`flex flex-wrap gap-1`},kt=[`onClick`],At={key:5,class:`flex flex-wrap gap-1`},jt=[`onClick`],Mt={key:6,class:`flex flex-wrap gap-1`},Nt=[`onClick`],Pt={key:7,class:`flex flex-wrap gap-1`},Ft=[`onClick`,`title`],It={key:8,class:`flex flex-wrap gap-1`},Lt={key:9,class:`space-y-1`},Rt={key:0},zt={key:1,class:`text-gray-400 ml-2`},Bt={key:10,class:`space-y-1`},Vt={key:0},Ht={key:1},Ut={key:11,class:`flex flex-wrap gap-1`},Wt=[`title`],Gt={key:12,class:`space-y-1`},Kt={class:`text-gray-500 italic`},qt={__name:`EventViewer`,props:{eventName:{type:String,required:!0},depth:{type:Number,default:0},visitedEvents:{type:Set,default:()=>new Set}},emits:[`navigate-blueprint`,`navigate-sector`,`navigate-event`],setup(e,{emit:t}){let r=e,a=t,{getEvent:s,getEventList:c}=be(),l=b(!1),f=b(!1),m={coords_spider:`SECRET_SPIDER`,coords_jerry:`SECRET_JERRY`,coords_nights:`SECRET_NIGHTS`,coords_hektar:`SECRET_HEKTAR`,coords_estate:`SECRET_ESTATE`,coords_rhyme:`SECRET_RHYME`,coords_hive:`SECTOR_HIVE_UNIQUE`},h=C(()=>r.visitedEvents.has(r.eventName)),y=C(()=>{let e=new Set(r.visitedEvents);return e.add(r.eventName),e}),x=C(()=>s(r.eventName)),S=C(()=>c(r.eventName)),w=C(()=>!x.value&&S.value),ee=C(()=>x.value&&Object.keys(x.value).length>1||w.value),T=C(()=>`ml-${Math.min(r.depth,6)*4}`);function E(){ee.value&&(l.value=!l.value)}function te(e,t=``,n=``){let r={events:new Set,crew:[],weapons:new Set,augments:new Set,drones:new Set,sectors:new Set,coordinates:new Set,shipUnlocks:new Set,autoRewards:[],sectorWarps:new Set,pursuitMods:[],blueprintLists:new Set};if(!e||typeof e!=`object`)return r;e.load&&typeof e.load==`string`&&r.events.add(e.load),e.name&&typeof e.name==`string`&&t.includes(`event`)&&!e.name.startsWith(`coords_`)&&!e.name.includes(`LIST`)&&r.events.add(e.name),n===`quest`&&e.event&&typeof e.event==`string`&&r.events.add(e.event),n===`crewMember`&&e.class&&typeof e.class==`string`&&r.crew.push({class:e.class,name:e.text||null}),n===`weapon`&&e.name&&typeof e.name==`string`&&(e.name.includes(`LIST`)?r.blueprintLists.add(e.name):r.weapons.add(e.name)),n===`augment`&&e.name&&typeof e.name==`string`&&(e.name.includes(`LIST`)?r.blueprintLists.add(e.name):r.augments.add(e.name)),n===`drone`&&e.name&&typeof e.name==`string`&&(e.name.includes(`LIST`)?r.blueprintLists.add(e.name):r.drones.add(e.name)),e.secretSector&&typeof e.secretSector==`string`&&r.sectors.add(e.secretSector),n===`secretSectorWarp`&&e.text&&typeof e.text==`string`&&r.sectorWarps.add(e.text),n===`variable`&&e.name&&typeof e.name==`string`&&e.name.startsWith(`coords_`)&&r.coordinates.add(e.name),n===`unlockCustomShip`&&e.text&&typeof e.text==`string`&&r.shipUnlocks.add(e.text),e.autoReward&&typeof e.autoReward==`object`&&r.autoRewards.push(e.autoReward),e.modifyPursuit&&typeof e.modifyPursuit==`object`&&e.modifyPursuit.amount&&r.pursuitMods.push(e.modifyPursuit);for(let[n,i]of Object.entries(e))if(typeof i==`object`&&i){let e=te(i,`${t}.${n}`,n);r.events=new Set([...r.events,...e.events]),r.crew=[...r.crew,...e.crew],r.weapons=new Set([...r.weapons,...e.weapons]),r.augments=new Set([...r.augments,...e.augments]),r.drones=new Set([...r.drones,...e.drones]),r.sectors=new Set([...r.sectors,...e.sectors]),r.coordinates=new Set([...r.coordinates,...e.coordinates]),r.shipUnlocks=new Set([...r.shipUnlocks,...e.shipUnlocks]),r.autoRewards=[...r.autoRewards,...e.autoRewards],r.sectorWarps=new Set([...r.sectorWarps,...e.sectorWarps]),r.pursuitMods=[...r.pursuitMods,...e.pursuitMods],r.blueprintLists=new Set([...r.blueprintLists,...e.blueprintLists])}return r}let D=C(()=>x.value?te(x.value):null),O=C(()=>!w.value||!S.value?null:te(S.value)),j=C(()=>!w.value||!S.value||!S.value.event?[]:(Array.isArray(S.value.event)?S.value.event:[S.value.event]).map(e=>e.load||e.name).filter(Boolean)),ne=C(()=>!w.value||!S.value||!S.value.event?0:(Array.isArray(S.value.event)?S.value.event:[S.value.event]).length);function M(e,t){a(`navigate-blueprint`,e,t)}function N(e){a(`navigate-sector`,e)}function P(e){a(`navigate-event`,e)}return(t,r)=>{let a=n(`EventViewer`,!0);return A(),k(`div`,{class:o([`event-item`,[T.value,e.depth>0?`border-l-2 border-gray-700 pl-2`:``]])},[v(`button`,{onClick:E,class:o([`w-full text-left px-2 py-1 rounded text-sm transition-colors`,[ee.value?`hover:bg-gray-700/50 cursor-pointer`:`cursor-default`,l.value?`bg-gray-700/30`:``]])},[ee.value?(A(),k(`span`,{key:0,class:o([`text-gray-400 mr-2 inline-block w-3 transition-transform`,{"rotate-90":l.value}])},` ▶ `,2)):(A(),k(`span`,Ve,`•`)),v(`span`,{class:o([`font-mono text-xs`,ee.value?w.value?`text-orange-400`:`text-blue-400`:`text-gray-500`])},[p(i(e.eventName)+` `,1),w.value?(A(),k(`span`,He,`(list: `+i(ne.value)+`)`,1)):d(``,!0),h.value?(A(),k(`span`,Ue,`(circular)`)):d(``,!0)],2)],2),l.value&&w.value?(A(),k(`div`,We,[j.value.length>0?(A(),k(`div`,Ge,[r[1]||=v(`div`,{class:`text-gray-500 font-semibold`},`→ Events in list:`,-1),v(`div`,Ke,[(A(!0),k(g,null,u(j.value,t=>(A(),_(a,{key:t,"event-name":t,depth:e.depth+1,onNavigateBlueprint:M,onNavigateSector:N,onNavigateEvent:P},null,8,[`event-name`,`depth`]))),128))])])):d(``,!0),O.value&&(O.value.events.size>0||O.value.crew.length>0||O.value.weapons.size>0||O.value.augments.size>0||O.value.drones.size>0||O.value.autoRewards.length>0||O.value.shipUnlocks.size>0||O.value.blueprintLists.size>0)?(A(),k(`div`,{key:1,class:o([`space-y-2`,{"mt-3 border-t border-gray-700 pt-2":j.value.length>0}])},[O.value.crew.length>0||O.value.weapons.size>0||O.value.augments.size>0||O.value.drones.size>0||O.value.autoRewards.length>0||O.value.shipUnlocks.size>0||O.value.blueprintLists.size>0?(A(),k(`div`,qe,`→ Items from this event list:`)):d(``,!0),O.value.events.size>0&&j.value.length===0?(A(),k(`div`,Je,[r[2]||=v(`div`,{class:`text-gray-500 font-semibold text-[10px]`},`→ Events in this list:`,-1),v(`div`,Ye,[(A(!0),k(g,null,u(Array.from(O.value.events),t=>(A(),_(a,{key:t,"event-name":t,depth:e.depth+1,"visited-events":y.value,onNavigateBlueprint:M,onNavigateSector:N,onNavigateEvent:P},null,8,[`event-name`,`depth`,`visited-events`]))),128))])])):d(``,!0),O.value.crew.length>0?(A(),k(`div`,Xe,[r[3]||=v(`span`,{class:`text-gray-500 font-semibold mr-2 text-[10px]`},`→ Crew:`,-1),(A(!0),k(g,null,u(O.value.crew,(e,t)=>(A(),k(`button`,{key:t,onClick:t=>M(e.class,`crew`),class:`px-1.5 py-0.5 bg-blue-900/30 border border-blue-700/50 rounded text-xs text-blue-300 hover:bg-blue-800/50 transition-colors`},[p(i(e.class),1),e.name?(A(),k(`span`,Qe,` (`+i(e.name)+`)`,1)):d(``,!0)],8,Ze))),128))])):d(``,!0),O.value.weapons.size>0?(A(),k(`div`,$e,[r[4]||=v(`span`,{class:`text-gray-500 font-semibold mr-2 text-[10px]`},`→ Weapons:`,-1),(A(!0),k(g,null,u(Array.from(O.value.weapons),e=>(A(),k(`button`,{key:e,onClick:t=>M(e,`weapons`),class:`px-1.5 py-0.5 bg-red-900/30 border border-red-700/50 rounded text-xs text-red-300 hover:bg-red-800/50 transition-colors`},i(e),9,et))),128))])):d(``,!0),O.value.augments.size>0?(A(),k(`div`,tt,[r[5]||=v(`span`,{class:`text-gray-500 font-semibold mr-2 text-[10px]`},`→ Augments:`,-1),(A(!0),k(g,null,u(Array.from(O.value.augments),e=>(A(),k(`button`,{key:e,onClick:t=>M(e,`augments`),class:`px-1.5 py-0.5 bg-purple-900/30 border border-purple-700/50 rounded text-xs text-purple-300 hover:bg-purple-800/50 transition-colors`},i(e),9,nt))),128))])):d(``,!0),O.value.drones.size>0?(A(),k(`div`,rt,[r[6]||=v(`span`,{class:`text-gray-500 font-semibold mr-2 text-[10px]`},`→ Drones:`,-1),(A(!0),k(g,null,u(Array.from(O.value.drones),e=>(A(),k(`button`,{key:e,onClick:t=>M(e,`drones`),class:`px-1.5 py-0.5 bg-green-900/30 border border-green-700/50 rounded text-xs text-green-300 hover:bg-green-800/50 transition-colors`},i(e),9,it))),128))])):d(``,!0),O.value.autoRewards.length>0?(A(),k(`div`,at,[r[7]||=v(`span`,{class:`text-gray-500 font-semibold text-[10px]`},`→ Auto Rewards:`,-1),(A(!0),k(g,null,u(O.value.autoRewards,(e,t)=>(A(),k(`div`,{key:t,class:`text-yellow-300 bg-yellow-900/20 px-2 py-1 rounded border border-yellow-700/50`},[e.level?(A(),k(`span`,ot,`Level: `+i(e.level),1)):d(``,!0),e.text?(A(),k(`span`,st,`(`+i(e.text)+`)`,1)):d(``,!0)]))),128))])):d(``,!0),O.value.shipUnlocks.size>0?(A(),k(`div`,ct,[r[8]||=v(`span`,{class:`text-gray-500 font-semibold mr-2 text-[10px]`},`→ Ship Unlocks:`,-1),(A(!0),k(g,null,u(Array.from(O.value.shipUnlocks),e=>(A(),k(`span`,{key:e,class:`px-1.5 py-0.5 bg-yellow-900/30 border border-yellow-700/50 rounded text-xs text-yellow-300`},i(e),1))),128))])):d(``,!0),O.value.blueprintLists.size>0?(A(),k(`div`,lt,[r[9]||=v(`span`,{class:`text-gray-500 font-semibold mr-2 text-[10px]`},`→ Random Item Pool:`,-1),(A(!0),k(g,null,u(Array.from(O.value.blueprintLists),e=>(A(),k(`span`,{key:e,class:`px-1.5 py-0.5 bg-teal-900/30 border border-teal-700/50 rounded text-xs text-teal-300`,title:`Random selection from `+e},i(e),9,ut))),128))])):d(``,!0)],2)):d(``,!0)])):d(``,!0),l.value&&x.value?(A(),k(`div`,dt,[x.value.text?(A(),k(`div`,ft,[r[10]||=v(`span`,{class:`text-gray-500 font-semibold`},`Text:`,-1),v(`div`,pt,i(x.value.text),1)])):d(``,!0),x.value.autoReward?(A(),k(`div`,mt,[r[11]||=v(`span`,{class:`text-yellow-400 font-semibold`},`Auto Reward:`,-1),v(`span`,ht,[x.value.autoReward.level?(A(),k(`span`,gt,`Level: `+i(x.value.autoReward.level),1)):d(``,!0),x.value.autoReward.text?(A(),k(`span`,_t,`(`+i(x.value.autoReward.text)+`)`,1)):d(``,!0)])])):d(``,!0),D.value&&(D.value.events.size>0||D.value.crew.length>0||D.value.weapons.size>0||D.value.augments.size>0||D.value.drones.size>0||D.value.sectors.size>0||D.value.coordinates.size>0||D.value.shipUnlocks.size>0||D.value.autoRewards.length>0||D.value.sectorWarps.size>0||D.value.pursuitMods.length>0||D.value.blueprintLists.size>0)?(A(),k(`div`,vt,[D.value.events.size>0&&(e.depth<3||f.value)?(A(),k(`div`,yt,[r[12]||=v(`div`,{class:`text-gray-500 font-semibold`},`→ Events:`,-1),v(`div`,bt,[(A(!0),k(g,null,u(Array.from(D.value.events),t=>(A(),_(a,{key:t,"event-name":t,depth:e.depth+1,"visited-events":y.value,onNavigateBlueprint:M,onNavigateSector:N,onNavigateEvent:P},null,8,[`event-name`,`depth`,`visited-events`]))),128))])])):d(``,!0),D.value.crew.length>0?(A(),k(`div`,xt,[r[13]||=v(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Crew:`,-1),(A(!0),k(g,null,u(D.value.crew,(e,t)=>(A(),k(`button`,{key:t,onClick:t=>M(e.class,`crew`),class:`px-1.5 py-0.5 bg-blue-900/30 border border-blue-700/50 rounded text-xs text-blue-300 hover:bg-blue-800/50 transition-colors`},[p(i(e.class),1),e.name?(A(),k(`span`,Ct,` (`+i(e.name)+`)`,1)):d(``,!0)],8,St))),128))])):d(``,!0),D.value.weapons.size>0?(A(),k(`div`,wt,[r[14]||=v(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Weapons:`,-1),(A(!0),k(g,null,u(Array.from(D.value.weapons),e=>(A(),k(`button`,{key:e,onClick:t=>M(e,`weapons`),class:`px-1.5 py-0.5 bg-red-900/30 border border-red-700/50 rounded text-xs text-red-300 hover:bg-red-800/50 transition-colors`},i(e),9,Tt))),128))])):d(``,!0),D.value.augments.size>0?(A(),k(`div`,Et,[r[15]||=v(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Augments:`,-1),(A(!0),k(g,null,u(Array.from(D.value.augments),e=>(A(),k(`button`,{key:e,onClick:t=>M(e,`augments`),class:`px-1.5 py-0.5 bg-purple-900/30 border border-purple-700/50 rounded text-xs text-purple-300 hover:bg-purple-800/50 transition-colors`},i(e),9,Dt))),128))])):d(``,!0),D.value.drones.size>0?(A(),k(`div`,Ot,[r[16]||=v(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Drones:`,-1),(A(!0),k(g,null,u(Array.from(D.value.drones),e=>(A(),k(`button`,{key:e,onClick:t=>M(e,`drones`),class:`px-1.5 py-0.5 bg-green-900/30 border border-green-700/50 rounded text-xs text-green-300 hover:bg-green-800/50 transition-colors`},i(e),9,kt))),128))])):d(``,!0),D.value.sectors.size>0?(A(),k(`div`,At,[r[17]||=v(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Sectors:`,-1),(A(!0),k(g,null,u(Array.from(D.value.sectors),e=>(A(),k(`button`,{key:e,onClick:t=>N(e),class:`px-1.5 py-0.5 bg-pink-900/30 border border-pink-700/50 rounded text-xs text-pink-300 hover:bg-pink-800/50 transition-colors`},i(e),9,jt))),128))])):d(``,!0),D.value.sectorWarps.size>0?(A(),k(`div`,Mt,[r[18]||=v(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Sector Warps:`,-1),(A(!0),k(g,null,u(Array.from(D.value.sectorWarps),e=>(A(),k(`button`,{key:e,onClick:t=>N(e),class:`px-1.5 py-0.5 bg-pink-900/30 border border-pink-700/50 rounded text-xs text-pink-300 hover:bg-pink-800/50 transition-colors`},i(e),9,Nt))),128))])):d(``,!0),D.value.coordinates.size>0?(A(),k(`div`,Pt,[r[19]||=v(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Coordinates:`,-1),(A(!0),k(g,null,u(Array.from(D.value.coordinates),e=>(A(),k(`button`,{key:e,onClick:t=>N(m[e]),title:m[e]?`Go to ${m[e]}`:e,class:`px-1.5 py-0.5 bg-cyan-900/30 border border-cyan-700/50 rounded text-xs text-cyan-300 hover:bg-cyan-800/50 transition-colors`},i(e),9,Ft))),128))])):d(``,!0),D.value.shipUnlocks.size>0?(A(),k(`div`,It,[r[20]||=v(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Ship Unlocks:`,-1),(A(!0),k(g,null,u(Array.from(D.value.shipUnlocks),e=>(A(),k(`span`,{key:e,class:`px-1.5 py-0.5 bg-yellow-900/30 border border-yellow-700/50 rounded text-xs text-yellow-300`},i(e),1))),128))])):d(``,!0),D.value.autoRewards.length>0?(A(),k(`div`,Lt,[r[21]||=v(`span`,{class:`text-gray-500 font-semibold`},`→ Auto Rewards:`,-1),(A(!0),k(g,null,u(D.value.autoRewards,(e,t)=>(A(),k(`div`,{key:t,class:`text-yellow-300 bg-yellow-900/20 px-2 py-1 rounded border border-yellow-700/50`},[e.level?(A(),k(`span`,Rt,`Level: `+i(e.level),1)):d(``,!0),e.text?(A(),k(`span`,zt,`(`+i(e.text)+`)`,1)):d(``,!0)]))),128))])):d(``,!0),D.value.pursuitMods.length>0?(A(),k(`div`,Bt,[r[22]||=v(`span`,{class:`text-gray-500 font-semibold`},`→ Fleet Pursuit:`,-1),(A(!0),k(g,null,u(D.value.pursuitMods,(e,t)=>(A(),k(`div`,{key:t,class:o([`px-2 py-1 rounded border`,parseInt(e.amount)<0?`text-green-300 bg-green-900/20 border-green-700/50`:`text-red-300 bg-red-900/20 border-red-700/50`])},[parseInt(e.amount)>0?(A(),k(`span`,Vt,`Fleet advances: +`+i(e.amount),1)):(A(),k(`span`,Ht,`Fleet delayed: `+i(e.amount),1))],2))),128))])):d(``,!0),D.value.blueprintLists.size>0?(A(),k(`div`,Ut,[r[23]||=v(`span`,{class:`text-gray-500 font-semibold mr-2`},`→ Random Item Pool:`,-1),(A(!0),k(g,null,u(Array.from(D.value.blueprintLists),e=>(A(),k(`span`,{key:e,class:`px-1.5 py-0.5 bg-teal-900/30 border border-teal-700/50 rounded text-xs text-teal-300`,title:`Random selection from `+e},i(e),9,Wt))),128))])):d(``,!0),D.value.events.size>0&&e.depth>=3&&!f.value?(A(),k(`div`,Gt,[v(`div`,Kt,` (`+i(D.value.events.size)+` more event(s) hidden) `,1),v(`button`,{onClick:r[0]||=e=>f.value=!0,class:`px-2 py-1 bg-blue-900/30 border border-blue-700/50 rounded text-xs text-blue-300 hover:bg-blue-800/50 transition-colors`},` Show All Events (depth `+i(e.depth+1)+`+) `,1)])):d(``,!0)])):d(``,!0)])):d(``,!0)],2)}}},Jt={class:`fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4`},Yt={class:`bg-gray-800 rounded-lg border border-gray-700 p-6 max-w-md`},Xt={class:`flex items-center gap-3 mb-4`},Zt={class:`text-xl font-semibold text-gray-100`},Qt={__name:`LoadingSpinner`,props:{message:{type:String,required:!0}},setup(e){return(t,n)=>(A(),k(`div`,Jt,[v(`div`,Yt,[v(`div`,Xt,[n[0]||=v(`div`,{class:`animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400`},null,-1),v(`h2`,Zt,i(e.message),1)])])]))}},$t={class:`min-h-screen flex items-center justify-center p-4`},en={class:`bg-red-900/20 border border-red-700 rounded-lg p-8 max-w-2xl`},tn={class:`flex items-start gap-4`},nn={class:`text-gray-300 mb-4`},rn={__name:`ErrorDisplay`,props:{error:{type:String,required:!0}},setup(e){let t=ee();function n(){t.push(`/sectors`)}return(t,r)=>(A(),k(`div`,$t,[v(`div`,en,[v(`div`,tn,[r[1]||=v(`div`,{class:`text-red-400 text-4xl`},`⚠`,-1),v(`div`,null,[r[0]||=v(`h2`,{class:`text-2xl font-bold text-red-400 mb-2`},`Error Loading Data`,-1),v(`p`,nn,i(e.error),1),v(`button`,{onClick:n,class:`px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded transition-colors`},` Go to Sectors Page `)])])])]))}},an=b({}),on=b(!1),sn=b(null);function cn(){async function e(){if(!(Object.keys(an.value).length>0)){on.value=!0,sn.value=null;try{let e=await fetch(`/data/all_text_blueprints.json`);if(!e.ok)throw Error(`Failed to fetch text blueprints: ${e.statusText}`);an.value=await e.json()}catch(e){sn.value=e.message,console.error(`Error loading text blueprints:`,e)}finally{on.value=!1}}}function t(e){return e?an.value[e]||e:``}return{textBlueprints:an,loading:on,error:sn,fetchTextBlueprints:e,getText:t}}var ln=b(null),un=b(!1),dn=b(null);function fn(){async function e(){if(!ln.value){un.value=!0,dn.value=null;try{ln.value=await le()}catch(e){dn.value=e.message,console.error(`Failed to load animation data:`,e)}finally{un.value=!1}}}function t(e){if(!ln.value||!e)return null;let t=e.toLowerCase();t.endsWith(`_chaos`)?t=t.slice(0,-6):t.endsWith(`_temp`)?t=t.slice(0,-5):t.endsWith(`_automated`)&&(t=t.slice(0,-10));let n={},r=ln.value.animSheets||{},i=ln.value.animations||{};if(!r[t]||(Object.keys(i).forEach(e=>{let r=e.toLowerCase();(r===t||r.startsWith(t+`_`))&&(n[e]=i[e])}),Object.keys(n).length===0))return null;let a=t,o=n[`${t}_walk_down`];return o?.sheet?a=o.sheet:r[a]||(a=Object.values(n)[0]?.sheet||t),{animations:n,sheet:r[a],sheetName:a}}function n(e){if(!e)return{};let n=e.name,r=ln.value?t(n):null;if(!r||!r.sheet)return{backgroundImage:`url(/img/crew-placeholder.svg)`,backgroundPosition:`0px 0px`,backgroundSize:`70px 70px`,width:`70px`,height:`70px`,imageRendering:`auto`};let{sheet:i,sheetName:a,animations:o}=r,s=i.frameHeight||35,c=i.frameWidth||35,l=i.height||455,u=i.width||35,d=o[`${a}_walk_down`],f=0;d&&(f=(Math.floor(l/s)-1-d.y)*s);let p=n===`human_humanoid`?`hue-rotate(180deg) saturate(1.2)`:void 0;return{backgroundImage:`url(/img/${i.path})`,backgroundPosition:`0px -${f*2}px`,backgroundSize:`${u*2}px ${l*2}px`,width:`${c*2}px`,height:`${s*2}px`,imageRendering:`pixelated`,filter:p}}return{animationData:ln,loading:un,error:dn,fetchAnimations:e,getCrewAnimations:t,getCrewThumbnailStyle:n}}var{animationData:pn}=fn(),mn=new Map,hn=null,gn=new Map;function _n(){function e(e){if(!e||!pn.value)return null;let t=pn.value.weaponAnims||{},n=pn.value.animSheets||{};if(!e.weaponArt)return null;let r=e.weaponArt.toLowerCase();return r===`invisible`&&e.iconReplace?(r=e.iconReplace.toLowerCase(),n[r]?r:null):!t[r]||!n[t[r].sheet]?null:r}function n(e){return mn.has(e)?Promise.resolve(mn.get(e)):new Promise((t,n)=>{let r=new Image;r.onload=()=>{mn.set(e,r),t(r)},r.onerror=n,r.src=e})}function r(e,t){let n=e.getContext(`2d`);n.fillStyle=`#4B5563`,n.fillRect(0,0,t,t),n.strokeStyle=`#6B7280`,n.lineWidth=2,n.strokeRect(1,1,t-2,t-2),n.fillStyle=`#9CA3AF`,n.font=`${t*.6}px Arial`,n.textAlign=`center`,n.textBaseline=`middle`,n.fillText(`?`,t/2,t/2)}async function i(t,i,a=40){if(!i||!pn.value)return;let o=e(t);if(!o){r(i,a);return}pn.value.animations;let s=pn.value.animSheets,c=pn.value.weaponAnims||{},l,u;if(c[o]?(u=c[o],l=s[u.sheet]):s[o]&&(l=s[o],u=null),!l){r(i,a);return}try{let e=await n(`/img/${l.path}`),t=i.getContext(`2d`);t.clearRect(0,0,a,a),t.imageSmoothingEnabled=!1;let r,o;u&&u.length?(r=Math.floor(e.width/u.length),o=e.height):(r=l.frameWidth||l.width,o=l.frameHeight||l.height);let s=u?u.x:0,c=u?u.y:0;u&&u.chargedFrame!==void 0&&(s+=u.chargedFrame);let d=s*r,f=c*o;t.save();let p=Math.min(a/o,a/r),m=r*p,h=o*p,g=(a-m)/2,_=(a-h)/2;t.drawImage(e,d,f,r,o,g,_,m,h),t.restore()}catch(e){console.error(`Failed to render weapon:`,e),r(i,a)}}function a(){hn||=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let t=e.target,n=gn.get(t);n&&(i(n.weapon,t,n.size),hn.unobserve(t),gn.delete(t))}})},{rootMargin:`100px`,threshold:.01})}function o(e,t,n=40){if(t)return a(),gn.set(t,{weapon:e,size:n}),hn.observe(t),t}function s(){hn&&=(hn.disconnect(),null),gn.clear()}return t(()=>{s()}),{renderWeaponThumbnail:i,observeThumbnail:o,getWeaponAnimationName:e}}var vn=(e,t)=>{let n=e.__vccOpts||e;for(let[e,r]of t)n[e]=r;return n},yn={class:`flex items-center justify-between p-6 border-b border-gray-700`},bn={class:`flex items-center gap-4 flex-1`},xn={class:`flex-1`},Sn={class:`flex items-center justify-between`},Cn={class:`flex items-center gap-2`},wn={class:`text-2xl font-bold text-blue-400`},Tn={key:0,class:`text-sm text-gray-500 mt-1`},En={key:0,class:`flex gap-2 items-center`},Dn={class:`text-sm text-gray-400 min-w-[3rem] text-center`},On={class:`flex-1 overflow-y-auto p-6 space-y-6`},kn={class:`grid grid-cols-2 gap-4`},An={key:0,class:`bg-gray-800 p-3 rounded`},jn={class:`text-gray-300 break-words`},Mn={class:`text-orange-400 font-mono`},Nn={key:1,class:`bg-gray-800 p-3 rounded`},Pn={class:`text-gray-300 break-words`},Fn={class:`text-cyan-400 font-mono`},In={key:0,class:`bg-gray-800 p-3 rounded`},Ln={class:`text-xs text-gray-500 mb-1`},Rn={class:`text-gray-300 break-words`},zn={key:1,class:`text-green-400`},Bn={key:2,class:`text-yellow-400`},Vn={key:3,class:`text-red-400`},Hn={key:4,class:`text-orange-400 font-mono`},Un={key:5,class:`text-red-400 font-mono`},Wn={key:6,class:`text-purple-400 font-mono`},Gn={key:7,class:`text-cyan-400 font-mono`},Kn={key:8,class:`text-green-400 font-mono`},qn={key:9,class:`text-blue-400 font-mono`},Jn={key:10,class:`text-yellow-400 font-bold`},Yn={key:11,class:`text-cyan-400`},Xn={key:12,class:`text-purple-400`},Zn={key:13,class:`font-mono text-sm`},Qn={key:0,class:`bg-gray-800 p-4 rounded`},$n={class:`text-gray-300`},er={key:1,class:`bg-gray-800 p-4 rounded`},tr={class:`text-gray-300 whitespace-pre-wrap`},nr={key:2,class:`bg-gray-800 p-4 rounded`},rr={class:`text-gray-300 whitespace-pre-wrap`},ir={key:3,class:`bg-gray-800 p-4 rounded`},ar={class:`text-gray-300 whitespace-pre-wrap`},or={key:4,class:`bg-gray-800 p-4 rounded`},sr={class:`grid grid-cols-2 gap-4`},cr={key:0,class:`flex justify-between`},lr={class:`text-red-400 font-mono`},ur={key:1,class:`flex justify-between`},dr={class:`text-orange-400 font-mono`},fr={key:2,class:`flex justify-between`},pr={class:`text-purple-400 font-mono`},mr={key:3,class:`flex justify-between`},hr={class:`text-cyan-400 font-mono`},gr={key:5,class:`bg-gray-800 p-4 rounded`},_r={class:`grid grid-cols-2 gap-4`},vr={class:`flex justify-between`},yr={class:`text-blue-400 font-mono`},br={class:`flex justify-between`},xr={class:`text-green-400 font-mono`},Sr={key:0,class:`flex justify-between`},Cr={class:`text-yellow-400 font-mono`},wr={key:1,class:`flex justify-between`},Tr={class:`text-purple-400 font-mono`},Er={key:6,class:`bg-gray-800 p-4 rounded`},Dr={class:`space-y-2`},Or={class:`flex justify-between col-span-2`},kr={class:`text-blue-400 font-mono`},Ar={class:`flex justify-between`},jr={class:`text-green-400 font-mono`},Mr={key:0,class:`flex justify-between col-span-3`},Nr={class:`text-red-400 font-mono`},Pr={key:7,class:`bg-gray-800 p-4 rounded`},Fr=vn({__name:`WeaponDetailModal`,props:{weapon:{type:Object,required:!0},show:{type:Boolean,default:!1},versions:{type:Array,default:null},currentIndex:{type:Number,default:0}},emits:[`close`,`navigate-sector`,`change-version`],setup(e,{emit:t}){let n=ee(),c=e,f=t,{getText:p}=cn(),{renderWeaponThumbnail:m}=_n(),y=b(null),S=C(()=>c.weapon?.weaponBlueprint||{});l(()=>{y.value&&S.value&&m(S.value,y.value,200)}),s(()=>S.value,e=>{y.value&&e&&m(e,y.value,200)},{deep:!0});function w(){f(`close`)}function E(e){f(`change-version`,e)}function D(e){let t={sp:`Shield Piercing`,bp:`Blueprint Cost`,ion:`Ion Damage`,persDamage:`Personnel Damage`,sysDamage:`System Damage`,hullBust:`Hull Bust`,noSysDamage:`No System Damage`,noPersDamage:`No Personnel Damage`,accuracyMod:`Accuracy Modifier`,drone_targetable:`Targetable by Drones`,statBoostChance:`Stat Boost Chance`,freeMissiles:`Free Missiles`,freepower:`Free Power`,freeMissileChance:`Free Missile Chance`,chargeLevels:`Charge Levels`,spawnCrew:`Spawns Crew`,crewSpawnChance:`Crew Spawn Chance`,statBoosts:`Stat Boosts`,roomStatBoosts:`Room Stat Boosts`,roomStatBoostChance:`Room Stat Boost Chance`,erosion:`Erosion Damage`,erosionChance:`Erosion Chance`,"mv-stealth":`Stealth (No Cloak Penalty)`,simultaneousFire:`Simultaneous Fire`,fireTime:`Fire Time`};return t[e]?t[e]:e.replace(/([A-Z])/g,` $1`).replace(/^./,e=>e.toUpperCase()).trim()}function O(e,t){return!([`_`,`E`,`N`,`R`,`O`,`A`,`D`,`S`,`M`,`L`,`I`,`B`,`F`,`C`,`T`,`P`,`U`,`Y`,`G`,`K`,`H`,`1`,`2`,`3`].includes(e)||t==null||t===``)}function ne(e,t){return t===`tip`||t===`tooltip`?Array.isArray(e)?e.map(e=>p(e)).join(`

`):p(e):typeof e==`object`?JSON.stringify(e,null,2):String(e)}function M(e,t){return!e&&!t?null:!t||e===t?e?.toFixed(3):`${e.toFixed(3)} - ${t.toFixed(3)}`}let N=C(()=>{let e=`type.rarity.cost.power.damage.shots.sp.ion.sysDamage.hullBust.fireChance.breachChance.statBoostChance.lockdown.cooldown.speed.chargeTime.fireTime.length.missiles.drones.shotLimit.chargeLevels.spawnCrew.crewSpawnChance.statBoosts.roomStatBoosts.roomStatBoostChance.erosion.erosionChance.radius.accuracyMod.drone_targetable.noSysDamage.noPersDamage.freepower.freeMissiles.freeMissileChance.mv-stealth.simultaneousFire`.split(`.`),t=[];for(let n of e)O(n,S.value[n])&&t.push({key:n,label:D(n),value:S.value[n]});return t}),P=C(()=>{let e=parseFloat(S.value.damage)||0,t=parseFloat(S.value.persDamage)||0;return e===0&&t===0?null:(e+t)*15}),F=C(()=>{let e=parseFloat(S.value.stunChance)||0,t=parseFloat(S.value.stun)||0;if(e===0&&t===0)return null;let n;return n=t>0?t:e>10?e:e===10?6:3,{chance:Math.min(e*10,100),duration:n}}),I=C(()=>{let e=S.value.boost;return e?{type:e.type,amount:e.amount,count:e.count,boostCount:e.boostCount}:null}),L=C(()=>{let e=S.value.projectiles?.projectile;return e?Array.isArray(e)?e:[e]:null});return(t,s)=>(A(),_(T,{to:`body`},[j(te,{name:`modal`},{default:x(()=>[e.show?(A(),k(`div`,{key:0,class:`fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70`,onClick:w},[v(`div`,{class:`bg-gray-900 border-2 border-gray-700 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col`,onClick:s[3]||=h(()=>{},[`stop`])},[v(`div`,yn,[v(`div`,bn,[v(`canvas`,{ref_key:`weaponCanvas`,ref:y,width:`200`,height:`200`,class:`weapon-modal-image flex-shrink-0`,style:{"image-rendering":`pixelated`}},null,512),v(`div`,xn,[v(`div`,Sn,[v(`div`,Cn,[v(`div`,null,[v(`h2`,wn,i(S.value.title||S.value.name),1),S.value.name?(A(),k(`div`,Tn,i(S.value.name),1)):d(``,!0)]),v(`button`,{onClick:s[0]||=e=>a(n).push({path:`/blueprints`,query:{id:S.value.name,tab:`weapons`}}),class:`text-gray-400 hover:text-blue-400 transition-colors p-2`,title:`Open in Blueprints page`},[...s[4]||=[v(`svg`,{xmlns:`http://www.w3.org/2000/svg`,class:`h-5 w-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[v(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1`})],-1)]])]),e.versions&&e.versions.length>1?(A(),k(`div`,En,[v(`button`,{onClick:s[1]||=e=>E(-1),class:`w-10 h-10 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-lg`,title:`Previous version`},` ‹ `),v(`span`,Dn,i(e.currentIndex+1)+` / `+i(e.versions.length),1),v(`button`,{onClick:s[2]||=e=>E(1),class:`w-10 h-10 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-lg`,title:`Next version`},` › `)])):d(``,!0)])])]),v(`button`,{onClick:w,class:`text-gray-400 hover:text-white text-2xl leading-none px-2 ml-4`,"aria-label":`Close`},` × `)]),v(`div`,On,[v(`div`,kn,[P.value?(A(),k(`div`,An,[s[5]||=v(`div`,{class:`text-xs text-gray-500 mb-1`},`Crew Damage`,-1),v(`div`,jn,[v(`span`,Mn,i(P.value.toFixed(1)),1)])])):d(``,!0),F.value?(A(),k(`div`,Nn,[s[6]||=v(`div`,{class:`text-xs text-gray-500 mb-1`},`Stun`,-1),v(`div`,Pn,[v(`span`,Fn,i(F.value.chance.toFixed(0))+`% chance, `+i(F.value.duration.toFixed(1))+`s`,1)])])):d(``,!0),(A(!0),k(g,null,u(N.value,e=>(A(),k(g,{key:e.key},[e.key!==`desc`&&e.key!==`tooltip`&&e.key!==`tip`&&e.key!==`short`?(A(),k(`div`,In,[v(`div`,Ln,i(e.label),1),v(`div`,Rn,[e.key===`rarity`?(A(),k(`span`,{key:0,class:o({"text-gray-400":e.value===`0`,"text-green-400":e.value===`1`,"text-blue-400":e.value===`2`,"text-purple-400":e.value===`3`,"text-orange-400":e.value===`4`,"text-red-400":e.value===`5`})},i([`Unpurchaseable`,`Common`,`Uncommon`,`Rare`,`Very Rare`,`Ultra Rare`][parseInt(e.value)]||e.value),3)):e.key===`cost`?(A(),k(`span`,zn,i(e.value),1)):e.key===`power`?(A(),k(`span`,Bn,i(e.value),1)):e.key===`damage`?(A(),k(`span`,Vn,i(e.value),1)):e.key===`breachChance`?(A(),k(`span`,Hn,i((parseFloat(e.value)*10).toFixed(0))+`%`,1)):e.key===`fireChance`?(A(),k(`span`,Un,i((parseFloat(e.value)*10).toFixed(0))+`%`,1)):e.key===`crewSpawnChance`?(A(),k(`span`,Wn,i((parseFloat(e.value)*10).toFixed(0))+`%`,1)):e.key===`erosionChance`?(A(),k(`span`,Gn,i((parseFloat(e.value)*10).toFixed(0))+`%`,1)):e.key===`freeMissileChance`?(A(),k(`span`,Kn,i(parseFloat(e.value).toFixed(0))+`%`,1)):e.key===`roomStatBoostChance`?(A(),k(`span`,qn,i((parseFloat(e.value)*10).toFixed(0))+`%`,1)):e.key===`shotLimit`?(A(),k(`span`,Jn,i(e.value)+` uses per fight`,1)):e.key===`mv-stealth`?(A(),k(`span`,Yn,i(e.value===`true`?`Yes`:`No`),1)):e.key===`simultaneousFire`?(A(),k(`span`,Xn,i(e.value===`true`?`Yes`:`No`),1)):(A(),k(`span`,Zn,i(ne(e.value,e.key)),1))])])):d(``,!0)],64))),128))]),S.value.short?(A(),k(`div`,Qn,[s[7]||=v(`div`,{class:`text-xs text-gray-500 mb-2`},`Short Description`,-1),v(`div`,$n,i(S.value.short),1)])):d(``,!0),S.value.desc?(A(),k(`div`,er,[s[8]||=v(`div`,{class:`text-xs text-gray-500 mb-2`},`Description`,-1),v(`div`,tr,i(typeof S.value.desc==`string`?S.value.desc:S.value.desc?.text||JSON.stringify(S.value.desc)),1)])):d(``,!0),S.value.tooltip?(A(),k(`div`,nr,[s[9]||=v(`div`,{class:`text-xs text-gray-500 mb-2`},`Tooltip`,-1),v(`div`,rr,i(ne(S.value.tooltip,`tooltip`)),1)])):d(``,!0),S.value.tip?(A(),k(`div`,ir,[s[10]||=v(`div`,{class:`text-xs text-gray-500 mb-2`},`Tip`,-1),v(`div`,ar,i(ne(S.value.tip,`tip`)),1)])):d(``,!0),S.value.hullDPS||S.value.crewDPS||S.value.sysDPS||S.value.ionDPS?(A(),k(`div`,or,[s[15]||=v(`div`,{class:`text-xs text-gray-500 mb-3`},`Damage Per Second (DPS)`,-1),v(`div`,sr,[M(S.value.hullDPS,S.value.hullDPSMax)?(A(),k(`div`,cr,[s[11]||=v(`span`,{class:`text-gray-400`},`Hull DPS:`,-1),v(`span`,lr,i(M(S.value.hullDPS,S.value.hullDPSMax)),1)])):d(``,!0),M(S.value.crewDPS,S.value.crewDPSMax)?(A(),k(`div`,ur,[s[12]||=v(`span`,{class:`text-gray-400`},`Crew DPS:`,-1),v(`span`,dr,i(M(S.value.crewDPS,S.value.crewDPSMax)),1)])):d(``,!0),M(S.value.sysDPS,S.value.sysDPSMax)?(A(),k(`div`,fr,[s[13]||=v(`span`,{class:`text-gray-400`},`System DPS:`,-1),v(`span`,pr,i(M(S.value.sysDPS,S.value.sysDPSMax)),1)])):d(``,!0),M(S.value.ionDPS,S.value.ionDPSMax)?(A(),k(`div`,mr,[s[14]||=v(`span`,{class:`text-gray-400`},`Ion DPS:`,-1),v(`span`,hr,i(M(S.value.ionDPS,S.value.ionDPSMax)),1)])):d(``,!0)])])):d(``,!0),I.value?(A(),k(`div`,gr,[s[20]||=v(`div`,{class:`text-xs text-gray-500 mb-3`},`Boost Mechanics`,-1),v(`div`,_r,[v(`div`,vr,[s[16]||=v(`span`,{class:`text-gray-400`},`Type:`,-1),v(`span`,yr,i(I.value.type),1)]),v(`div`,br,[s[17]||=v(`span`,{class:`text-gray-400`},`Amount:`,-1),v(`span`,xr,i(I.value.amount),1)]),I.value.count?(A(),k(`div`,Sr,[s[18]||=v(`span`,{class:`text-gray-400`},`Per Shot:`,-1),v(`span`,Cr,i(I.value.count),1)])):d(``,!0),I.value.boostCount?(A(),k(`div`,wr,[s[19]||=v(`span`,{class:`text-gray-400`},`Max Stacks:`,-1),v(`span`,Tr,i(I.value.boostCount),1)])):d(``,!0)])])):d(``,!0),L.value&&L.value.length>0?(A(),k(`div`,Er,[s[24]||=v(`div`,{class:`text-xs text-gray-500 mb-3`},`Projectiles`,-1),v(`div`,Dr,[(A(!0),k(g,null,u(L.value,(e,t)=>(A(),k(`div`,{key:t,class:`grid grid-cols-3 gap-4 bg-gray-900 p-2 rounded`},[v(`div`,Or,[s[21]||=v(`span`,{class:`text-gray-400`},`Type:`,-1),v(`span`,kr,i(e._text),1)]),v(`div`,Ar,[s[22]||=v(`span`,{class:`text-gray-400`},`Count:`,-1),v(`span`,jr,i(e.count),1)]),e.fake?(A(),k(`div`,Mr,[s[23]||=v(`span`,{class:`text-gray-400`},`Fake:`,-1),v(`span`,Nr,i(e.fake),1)])):d(``,!0)]))),128))])])):d(``,!0),t.$slots.sectors?(A(),k(`div`,Pr,[s[25]||=v(`div`,{class:`text-xs text-gray-500 mb-2`},`Found In Sectors`,-1),r(t.$slots,`sectors`,{},void 0,!0)])):d(``,!0)])])])):d(``,!0)]),_:3})]))}},[[`__scopeId`,`data-v-02e3298d`]]),Ir={class:`flex items-center justify-between p-6 border-b border-gray-700`},Lr={class:`flex-1`},Rr={class:`flex items-center gap-4`},zr={class:`flex-1`},Br={class:`flex items-center gap-2`},Vr={class:`text-2xl font-bold text-blue-400`},Hr={key:0,class:`text-yellow-400 mr-2`},Ur={key:1,class:`mr-2`},Wr={key:0,class:`text-sm text-gray-500 mt-1`},Gr={key:1,class:`text-sm text-gray-400 mt-1`},Kr={key:1,class:`flex gap-2 items-center`},qr={class:`text-sm text-gray-400 min-w-[3rem] text-center`},Jr={class:`flex-1 overflow-y-auto p-6 space-y-6`},Yr={class:`grid grid-cols-2 gap-4`},Xr={key:0,class:`bg-gray-800 p-3 rounded`},Zr={class:`text-green-400`},Qr={key:1,class:`bg-gray-800 p-3 rounded`},$r={key:0,class:`bg-gray-800 p-4 rounded`},ei={class:`text-gray-300 whitespace-pre-wrap`},ti={key:1,class:`bg-gray-800 p-4 rounded`},ni={class:`list-disc list-inside space-y-1 text-gray-300`},ri={key:2,class:`bg-gray-800 p-4 rounded`},ii={class:`grid grid-cols-2 gap-3`},ai={class:`text-xs text-gray-500 mb-1`},oi={key:3,class:`bg-gray-800 p-4 rounded`},si=vn({__name:`CrewDetailModal`,props:{crew:{type:Object,required:!0},show:{type:Boolean,default:!1},versions:{type:Array,default:null},currentIndex:{type:Number,default:0}},emits:[`close`,`navigate-sector`,`change-version`],setup(e,{emit:t}){let n=ee(),s=e,l=t,{getCrewThumbnailStyle:f}=fn(),m=C(()=>s.crew?.crewBlueprint||{}),y=C(()=>m.value.race||{});function b(){l(`close`)}function S(e){l(`change-version`,e)}function w(e){return e?e.name?.startsWith(`unique_`)?e.name.substring(7).split(`_`).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(` `):e.name?.toLowerCase().startsWith(`gb`)?e.name.substring(2).split(`_`).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(` `):e.title||e.name:`Unknown`}function E(e){if(!e?.powerList)return[];let t=e.powerList;if(t.power){if(Array.isArray(t.power))return t.power;if(typeof t.power==`string`)return[t.power]}return[]}function D(e){let t={maxHealth:`Max Health`,repairSpeed:`Repair Speed`,moveSpeedMultiplier:`Move Speed`,damageMultiplier:`Damage Multiplier`,suffocationModifier:`Suffocation Modifier`,fireDamageMultiplier:`Fire Damage Multiplier`,bonusPower:`Bonus Power`,canFight:`Can Fight`,canRepair:`Can Repair`,canSabotage:`Can Sabotage`,canSuffocate:`Can Suffocate`,canBurn:`Can Burn`,canTeleport:`Can Teleport`,teleportMove:`Teleport Move`,resistsMindControl:`Resists Mind Control`,canPhaseThroughDoors:`Can Phase Through Doors`,stunMultiplier:`Stun Multiplier`,healSpeed:`Heal Speed`,oxygenChangeSpeed:`Oxygen Change Speed`,noClone:`No Clone`,noSlot:`No Slot`,controllable:`Controllable`,damageTakenMultiplier:`Damage Taken Multiplier`,passiveHealAmount:`Passive Heal Amount`,passiveHealDelay:`Passive Heal Delay`,lowHealthThreshold:`Low Health Threshold`,lowHealthThresholdPercentage:`Low Health Threshold %`,fireRepairMultiplier:`Fire Repair Multiplier`,cloneLoseSkills:`Clone Lose Skills`,defaultSkillLevel:`Default Skill Level`,noWarning:`No Warning`};return t[e]?t[e]:e.replace(/([A-Z])/g,` $1`).replace(/^./,e=>e.toUpperCase()).trim()}function O(e,t){return!([`name`,`animBase`,`animSheet`,`skills`,`deathSounds`,`shootingSounds`,`repairSounds`,`powerEffect`,`passiveStatBoosts`,`deathEffect`,`nameRace`,`hasCustomDeathAnimation`,`hasDeathExplosion`].includes(e)||t==null||t===``||typeof t==`object`&&Object.keys(t).length===0)}function ne(e){return e===`true`||e===!0?`Yes`:e===`false`||e===!1?`No`:e}function M(e){return e===`true`||e===!0?`text-green-400`:e===`false`||e===!1?`text-red-400`:`text-gray-300`}let N=C(()=>{let e=[];for(let[t,n]of Object.entries(y.value))O(t,n)&&e.push({key:t,label:D(t),value:n});return e});return(t,s)=>(A(),_(T,{to:`body`},[j(te,{name:`modal`},{default:x(()=>[e.show?(A(),k(`div`,{key:0,class:`fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70`,onClick:b},[v(`div`,{class:`bg-gray-900 border-2 border-gray-700 rounded-lg max-w-4xl w-full max-h-[90vh] overflow-hidden flex flex-col`,onClick:s[3]||=h(()=>{},[`stop`])},[v(`div`,Ir,[v(`div`,Lr,[v(`div`,Rr,[a(f)(m.value).backgroundImage?(A(),k(`div`,{key:0,style:c(a(f)(m.value)),class:`flex-shrink-0`},null,4)):d(``,!0),v(`div`,zr,[v(`div`,Br,[v(`h2`,Vr,[m.value.name?.startsWith(`unique_`)?(A(),k(`span`,Hr,`⭐`)):d(``,!0),m.value.name?.toUpperCase().includes(`CHAOS`)?(A(),k(`span`,Ur,`🤯`)):d(``,!0),p(` `+i(w(m.value)),1)]),v(`button`,{onClick:s[0]||=e=>a(n).push({path:`/blueprints`,query:{id:m.value.name,tab:`crew`}}),class:`text-gray-400 hover:text-blue-400 transition-colors p-2`,title:`Open in Blueprints page`},[...s[4]||=[v(`svg`,{xmlns:`http://www.w3.org/2000/svg`,class:`h-5 w-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[v(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1`})],-1)]])]),m.value.name?(A(),k(`div`,Wr,i(m.value.name),1)):d(``,!0),m.value.title&&m.value.name?.startsWith(`unique_`)?(A(),k(`div`,Gr,i(m.value.title),1)):d(``,!0)]),e.versions&&e.versions.length>1?(A(),k(`div`,Kr,[v(`button`,{onClick:s[1]||=e=>S(-1),class:`w-10 h-10 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-lg`,title:`Previous version`},` ‹ `),v(`span`,qr,i(e.currentIndex+1)+` / `+i(e.versions.length),1),v(`button`,{onClick:s[2]||=e=>S(1),class:`w-10 h-10 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-lg`,title:`Next version`},` › `)])):d(``,!0)])]),v(`button`,{onClick:b,class:`text-gray-400 hover:text-white text-2xl leading-none px-2 ml-4`,"aria-label":`Close`},` × `)]),v(`div`,Jr,[v(`div`,Yr,[m.value.cost?(A(),k(`div`,Xr,[s[5]||=v(`div`,{class:`text-xs text-gray-500 mb-1`},`Cost`,-1),v(`div`,Zr,i(m.value.cost),1)])):d(``,!0),m.value.rarity?(A(),k(`div`,Qr,[s[6]||=v(`div`,{class:`text-xs text-gray-500 mb-1`},`Rarity`,-1),v(`div`,{class:o({"text-gray-400":m.value.rarity===`0`,"text-green-400":m.value.rarity===`1`,"text-blue-400":m.value.rarity===`2`,"text-purple-400":m.value.rarity===`3`,"text-orange-400":m.value.rarity===`4`,"text-red-400":m.value.rarity===`5`})},i([`Unpurchaseable`,`Common`,`Uncommon`,`Rare`,`Very Rare`,`Ultra Rare`][parseInt(m.value.rarity)]||m.value.rarity),3)])):d(``,!0)]),m.value.desc?(A(),k(`div`,$r,[s[7]||=v(`div`,{class:`text-xs text-gray-500 mb-2`},`Description`,-1),v(`div`,ei,i(m.value.desc),1)])):d(``,!0),E(m.value).length>0?(A(),k(`div`,ti,[s[8]||=v(`div`,{class:`text-xs text-gray-500 mb-2`},`Powers`,-1),v(`ul`,ni,[(A(!0),k(g,null,u(E(m.value),(e,t)=>(A(),k(`li`,{key:t},i(e),1))),128))])])):d(``,!0),N.value.length>0?(A(),k(`div`,ri,[s[9]||=v(`div`,{class:`text-xs text-gray-500 mb-3`},`Race Statistics`,-1),v(`div`,ii,[(A(!0),k(g,null,u(N.value,e=>(A(),k(`div`,{key:e.key,class:`bg-gray-900 p-2 rounded`},[v(`div`,ai,i(e.label),1),v(`div`,{class:o([`font-mono text-sm`,e.value===`true`||e.value===!0||e.value===`false`||e.value===!1?M(e.value):`text-gray-300`])},i(ne(e.value)),3)]))),128))])])):d(``,!0),t.$slots.sectors?(A(),k(`div`,oi,[s[10]||=v(`div`,{class:`text-xs text-gray-500 mb-2`},`Found In Sectors`,-1),r(t.$slots,`sectors`,{},void 0,!0)])):d(``,!0)])])])):d(``,!0)]),_:3})]))}},[[`__scopeId`,`data-v-74ce0f13`]]),ci={SPAWN_BATTLE:{crewBlueprint:`eldritch_spawn`,tooltipName:`Eldritch Spawn`},SPAWN_BOARDER:{crewBlueprint:`eldritch_spawn`,tooltipName:`Eldritch Spawn`},DIVREPAIR:{crewBlueprint:`divrepair`,tooltipName:`Divine Repair`},REPAIR:{crewBlueprint:`repair`,tooltipName:`Maintenance`},REPAIR_BOARDER:{crewBlueprint:`repairboarder`,tooltipName:`"Repair"`},RECON_DEFAULT:{crewBlueprint:`drone_recon`,tooltipName:`Recon`},RECON_DEFENSE:{crewBlueprint:`drone_recon_defense`,tooltipName:`Recon`},RECON_BOARDER:{crewBlueprint:`drone_recon_boarder`,tooltipName:`Recon`},DOCTOR_DEFENSE:{crewBlueprint:`doctor`,tooltipName:`Doctor Drone`},DOCTOR_BOARDER:{crewBlueprint:`doctor`,tooltipName:`Doctor Drone`},SURGEON_BATTLE:{crewBlueprint:`surgeon`,tooltipName:`Surgeon`},SURGEON_BOARDER:{crewBlueprint:`surgeon`,tooltipName:`Surgeon`},SURGEON_BATTLE_CHAOS:{crewBlueprint:`surgeon_chaos`,tooltipName:`Surgeon`},SURGEON_BOARDER_CHAOS:{crewBlueprint:`surgeon_chaos`,tooltipName:`Surgeon`},FOREMAN_BATTLE:{crewBlueprint:`drone_vamp_foreman`,tooltipName:`Foreman`},FOREMAN_BOARDER:{crewBlueprint:`drone_vamp_foreman`,tooltipName:`Foreman`},FOREMAN_BATTLE_CHAOS:{crewBlueprint:`drone_vamp_foreman_chaos`,tooltipName:`Foreman`},FOREMAN_BOARDER_CHAOS:{crewBlueprint:`drone_vamp_foreman_chaos`,tooltipName:`Foreman`},HOLODRONE_BATTLE:{crewBlueprint:`drone_holodrone`,tooltipName:`Holo-Drone`},HOLODRONE_BOARDER:{crewBlueprint:`drone_holodrone`,tooltipName:`Holo-Drone`},HOLODRONE_BATTLE_CHAOS:{crewBlueprint:`drone_holodrone_chaos`,tooltipName:`Holo-Drone`},HOLODRONE_BOARDER_CHAOS:{crewBlueprint:`drone_holodrone_chaos`,tooltipName:`Holo-Drone`},MANNING:{crewBlueprint:`manning`,tooltipName:`Manager`},MANNING_ENEMY:{crewBlueprint:`manningenemy`,tooltipName:`Manager`},LOOT_SEPARATIST_1_DEFEND:{crewBlueprint:`loot_separatist_1`,tooltipName:`Battle Mk I`},LOOT_SEPARATIST_1_BOARDER:{crewBlueprint:`loot_separatist_1`,tooltipName:`Battle Mk I`},YINYANG_BATTLE:{crewBlueprint:`drone_yinyang`,tooltipName:`Yin Yang`},YINYANG_BOARDER:{crewBlueprint:`drone_yinyang_board`,tooltipName:`Yin Yang`},YINYANG_BATTLE_CHAOS:{crewBlueprint:`drone_yinyang_chaos`,tooltipName:`Yin Yang`},YINYANG_BOARDER_CHAOS:{crewBlueprint:`drone_yinyang_chaos`,tooltipName:`Yin Yang`},BATTLETOG_DEFEND:{crewBlueprint:`drone_battle`,tooltipName:`Battle Mk I`},BATTLETOG_BOARDER:{crewBlueprint:`drone_battle`,tooltipName:`Battle Mk I`},BATTLETOG2_DEFEND:{crewBlueprint:`drone_battle2`,tooltipName:`Battle Mk II`},BATTLETOG2_BOARDER:{crewBlueprint:`drone_battle2`,tooltipName:`Battle Mk II`},BATTLETOG2_BOARDER_SYLVAN:{crewBlueprint:`drone_battle2`,tooltipName:`Battle Mk II`},CONSTRUCTOR:{crewBlueprint:`drone_vamp_constructor`,tooltipName:`Constructor`},PRODUCER:{crewBlueprint:`drone_vamp_producer`,tooltipName:`Producer`},GRAZIER_BATTLE:{crewBlueprint:`drone_vamp_grazier`,tooltipName:`Grazier`},GRAZIER_BOARDER:{crewBlueprint:`drone_vamp_grazier`,tooltipName:`Grazier`},BUTLER_DEFENSE:{crewBlueprint:`butler`,tooltipName:`Butler`},BUTLER_BOARDER:{crewBlueprint:`butler`,tooltipName:`Butler`},A55_BATTLE:{crewBlueprint:`a55`,tooltipName:`A5540L3`},A55_BOARDER:{crewBlueprint:`a55`,tooltipName:`A5540L3`},GANA_BATTLE:{crewBlueprint:`gana`,tooltipName:`Gana`},GANA_BOARDER:{crewBlueprint:`gana`,tooltipName:`Gana`},MENDER:{crewBlueprint:`mender`,tooltipName:`Mender`},MENDERR:{crewBlueprint:`menderr`,tooltipName:`Mender`},DIRECTOR:{crewBlueprint:`director`,tooltipName:`Director`},ATOM_DEFEND:{crewBlueprint:`atom`,tooltipName:`Atomizer`},ATOM_BOARDER:{crewBlueprint:`atom`,tooltipName:`Atomizer`},ATOMR_DEFEND:{crewBlueprint:`atomr`,tooltipName:`Royal Atomizer`},ATOMR_BOARDER:{crewBlueprint:`atomr`,tooltipName:`Royal Atomizer`},ROOMBA_DEFEND:{crewBlueprint:`roomba`,tooltipName:`Roomba`},ROOMBA_BOARDER:{crewBlueprint:`roomba`,tooltipName:`Roomba`}},{animationData:li,getCrewAnimations:ui,fetchAnimations:di}=fn();di();var fi=new Map,pi=null,mi=new Map;function hi(){function e(e){return fi.has(e)?Promise.resolve(fi.get(e)):new Promise((t,n)=>{let r=new Image;r.onload=()=>{fi.set(e,r),t(r)},r.onerror=n,r.src=e})}function n(e,t){let n=e.getContext(`2d`);n.fillStyle=`#4B5563`,n.fillRect(0,0,t,t),n.strokeStyle=`#6B7280`,n.lineWidth=2,n.strokeRect(1,1,t-2,t-2),n.fillStyle=`#9CA3AF`,n.font=`${t*.6}px Arial`,n.textAlign=`center`,n.textBaseline=`middle`,n.fillText(`?`,t/2,t/2)}async function r(t,r,a=40){if(!r)return;li.value||await di();let o=t?.type;if(o===`BATTLE`||o===`BOARDER`||o===`REPAIR`){let e=ci[t.name];if(e?.crewBlueprint){await i(e.crewBlueprint,r,a);return}else{n(r,a);return}}if(o===`DEFENSE`){if(!t.droneImage){n(r,a);return}let i=`/img/ship/drones/${t.droneImage}_base.png`,o=`/img/ship/drones/${t.droneImage}_gun.png`;try{let t=await e(i),n=await e(o),s=r.getContext(`2d`);s.clearRect(0,0,a,a),s.imageSmoothingEnabled=!1;let c=Math.min(a/t.height,a/t.width),l=t.width*c,u=t.height*c,d=(a-l)/2,f=(a-u)/2;s.drawImage(t,0,0,t.width,t.height,d,f,l,u),s.drawImage(n,0,0,n.width,n.height,d,f,l,u)}catch(e){console.error(`Failed to render defense drone:`,e),n(r,a)}return}if(o===`COMBAT`){if(!t.droneImage){n(r,a);return}let i=`/img/ship/drones/${t.droneImage}_on.png`;try{let t=await e(i),n=r.getContext(`2d`);n.clearRect(0,0,a,a),n.imageSmoothingEnabled=!1;let o=Math.min(a/t.height,a/t.width),s=t.width*o,c=t.height*o,l=(a-s)/2,u=(a-c)/2;n.drawImage(t,0,0,t.width,t.height,l,u,s,c)}catch(e){console.error(`Failed to render drone:`,e),n(r,a)}return}n(r,a)}async function i(t,r,i=40){if(!r||!li.value)return;let a=ui(t);if(!a||!a.sheet){n(r,i);return}let{sheet:o,sheetName:s,animations:c}=a,l=o.frameHeight||35,u=o.frameWidth||35,d=o.height||455,f=c[`${s}_walk_down`],p=0;f&&(p=(Math.ceil(d/l)-1-f.y)*l);try{let n=await e(`/img/${o.path}`),a=r.getContext(`2d`);a.clearRect(0,0,i,i),a.imageSmoothingEnabled=!1;let s=i/l,c=u*s,d=l*s,f=(i-c)/2,m=(i-d)/2;t===`human_humanoid`&&(a.filter=`hue-rotate(180deg) saturate(1.2)`),a.drawImage(n,0,p,u,l,f,m,c,d),a.filter=`none`}catch(e){console.error(`Failed to render crew drone:`,e),n(r,i)}}function a(){pi||=new IntersectionObserver(e=>{e.forEach(e=>{if(e.isIntersecting){let t=e.target,n=mi.get(t);n&&(r(n.drone,t,n.size),pi.unobserve(t),mi.delete(t))}})},{rootMargin:`100px`,threshold:.01})}function o(e,t,n=40){if(t)return a(),mi.set(t,{drone:e,size:n}),pi.observe(t),t}function s(){pi&&=(pi.disconnect(),null),mi.clear()}return t(()=>{s()}),{renderDroneThumbnail:r,observeThumbnail:o}}var gi={class:`sticky top-0 bg-gray-800 border-b border-gray-700 p-4 flex justify-between items-center gap-4`},_i={class:`flex items-center gap-4 flex-1`},vi={class:`flex-1`},yi={class:`flex items-center gap-2`},bi={class:`text-xl font-bold text-blue-400`},xi={key:0,class:`text-yellow-400 mr-1`,title:`Unique drone`},Si={key:1,class:`mr-1`,title:`Ancient/Royal`},Ci={key:2,class:`mr-1`,title:`Loot`},wi={key:3,class:`mr-1`,title:`Chaos`},Ti={class:`flex items-center gap-2`},Ei={key:0,class:`flex items-center gap-1`},Di={class:`px-2 text-sm text-gray-400`},Oi={class:`p-6 space-y-6`},ki={class:`text-sm text-gray-500 mb-2`},Ai={class:`text-sm text-gray-400 space-y-2`},ji={key:0,class:`flex`},Mi={key:1,class:`flex`},Ni={key:0,class:`border-t border-gray-700 pt-4`},Pi={class:`text-gray-400 whitespace-pre-line`},Fi={key:1,class:`border-t border-gray-700 pt-4`},Ii={class:`text-gray-400 whitespace-pre-line`},Li={key:2,class:`border-t border-gray-700 pt-4`},Ri={class:`grid grid-cols-2 gap-x-4 gap-y-2`},zi={class:`font-semibold text-gray-400 w-40`},Bi={class:`text-gray-300`},Vi={key:3,class:`border-t border-gray-700 pt-4`},Hi={class:`space-y-4`},Ui={class:`text-blue-400 font-semibold text-lg mb-2`},Wi={class:`text-xs text-gray-500 ml-2`},Gi={key:0,class:`text-gray-300 text-sm mb-3 pb-3 border-b border-gray-700`},Ki={class:`grid grid-cols-2 gap-x-6 gap-y-2 text-sm`},qi={key:0,class:`flex items-center`},Ji={class:`text-gray-300`},Yi={key:1,class:`flex items-center`},Xi={class:`text-red-400 font-mono`},Zi={key:2,class:`flex items-center`},Qi={class:`text-gray-300 font-mono`},$i={key:3,class:`flex items-center`},ea={class:`text-yellow-400 font-mono`},ta={key:4,class:`flex items-center`},na={class:`text-gray-300 font-mono`},ra={key:5,class:`flex items-center`},ia={class:`text-purple-400 font-mono`},aa={key:6,class:`flex items-center`},oa={class:`text-orange-400 font-mono`},sa={key:7,class:`flex items-center`},ca={class:`text-orange-400 font-mono`},la={key:8,class:`flex items-center`},ua={class:`text-blue-400 font-mono`},da={key:9,class:`flex items-center`},fa={class:`text-cyan-400 font-mono`},pa={key:4,class:`border-t border-gray-700 pt-4`},ma={class:`bg-gray-900 rounded-lg p-4 space-y-2`},ha={class:`text-blue-400 font-semibold text-lg mb-2`},ga={key:0,class:`text-gray-300 text-sm mb-3 pb-3 border-b border-gray-700`},_a={class:`grid grid-cols-2 gap-x-6 gap-y-2 text-sm`},va={key:0,class:`flex items-center`},ya={class:`text-gray-300`},ba={key:1,class:`flex items-center`},xa={class:`text-red-400 font-mono`},Sa={key:2,class:`flex items-center`},Ca={class:`text-gray-300 font-mono`},wa={key:3,class:`flex items-center`},Ta={class:`text-yellow-400 font-mono`},Ea={key:4,class:`flex items-center`},Da={class:`text-gray-300 font-mono`},Oa={key:5,class:`flex items-center`},ka={class:`text-purple-400 font-mono`},Aa={key:6,class:`flex items-center`},ja={class:`text-orange-400 font-mono`},Ma={key:7,class:`flex items-center`},Na={class:`text-orange-400 font-mono`},Pa={key:8,class:`flex items-center`},Fa={class:`text-blue-400 font-mono`},Ia={key:5,class:`border-t border-gray-700 pt-4`},La={class:`grid grid-cols-2 gap-x-6 gap-y-2 text-sm`},Ra={class:`flex items-center`},za={class:`text-gray-300 font-mono`},Ba={class:`flex items-center`},Va={class:`text-gray-300 font-mono`},Ha={class:`flex items-center`},Ua={class:`flex items-center`},Wa={class:`text-gray-300 font-mono`},Ga={class:`flex items-center`},Ka={class:`flex items-center`},qa={class:`flex items-center`},Ja={class:`flex items-center`},Ya={key:0,class:`mt-4`},Xa={class:`list-disc list-inside text-gray-300 space-y-1`},Za={key:1},Qa={class:`border-t border-gray-700 pt-4`},$a={class:`flex flex-wrap gap-2`},eo=vn({__name:`DroneDetailModal`,props:{drone:{type:Object,required:!0},show:{type:Boolean,default:!1},versions:{type:Array,default:()=>[]},currentIndex:{type:Number,default:0}},emits:[`close`,`navigate-sector`,`change-version`],setup(e,{emit:t}){let n=ee(),c=e,f=t,{getText:m}=cn(),{blueprintArrays:y}=me(),{renderDroneThumbnail:S}=hi(),w=b(null),E=C(()=>c.drone?.droneBlueprint||{});l(()=>{w.value&&E.value&&S(E.value,w.value,200)}),s(()=>E.value,e=>{w.value&&e&&S(e,w.value,200)},{deep:!0});let D=C(()=>{if(!E.value.name)return null;let e=ci[E.value.name];if(!e)return null;let t=e.crewBlueprint;return y.value?.crew?.find(e=>e.crewBlueprint?.name===t)?.crewBlueprint}),O=C(()=>{if(!E.value.weaponBlueprint)return null;let e=E.value.weaponBlueprint;return y.value?.weapons?.find(t=>t.weaponBlueprint?.name===e)?.weaponBlueprint}),ne=C(()=>{if(E.value.name!==`COMBAT_RANDOM`)return null;let e=[`MISSILES_1`,`DRONE_LASER_COMBAT`,`DRONE_ION_AMP_1`,`DRONE_BEAM_COMBAT`],t=[];for(let n of e){let e=y.value?.weapons?.find(e=>e.weaponBlueprint?.name===n)?.weaponBlueprint;e&&t.push(e)}return t.length>0?t:null});function M(){f(`close`)}function N(e){f(`change-version`,e)}function P(e){return e===`sp`?`Shield Piercing`:e===`bp`?`Blueprint Rarity`:e.replace(/([A-Z])/g,` $1`).replace(/^./,e=>e.toUpperCase()).trim()}let F=C(()=>{let e=E.value.type,t=[],n=[`power`,`cost`,`bp`,`rarity`],r=[];switch(e){case`COMBAT`:case`BEAM`:r=[`cooldown`,`dodge`,`speed`,`image`,`droneImage`];break;case`DEFENSE`:r=[`cooldown`,`orbitalSpeed`,`dodge`,`shots`,`target`,`targetable`,`droneImage`];break;case`BATTLE`:r=[`locked`,`droneImage`];break;case`BOARDER`:r=[`speed`,`locked`,`droneImage`];break;case`REPAIR`:r=[`cooldown`,`speed`,`repairSpeed`,`locked`,`droneImage`];break;case`HACKING`:r=[`speed`,`time`,`locked`,`droneImage`];break;case`SHIELD`:r=[`number`,`droneImage`];break;default:r=Object.keys(E.value).filter(e=>![`name`,`type`,`title`,`short`,`desc`,`tip`,`tooltip`].includes(e)&&!n.includes(e))}let i=[...n,...r];for(let e of i)E.value[e]!==null&&E.value[e]!==void 0&&E.value[e]!==``&&t.push({key:e,label:P(e),value:E.value[e]});return t});function I(e,t){return t===`tip`||t===`tooltip`?Array.isArray(e)?e.map(e=>m(e)).join(`

`):m(e):typeof e==`object`?JSON.stringify(e,null,2):String(e)}return(t,s)=>(A(),_(T,{to:`body`},[j(te,{name:`modal`},{default:x(()=>[e.show?(A(),k(`div`,{key:0,class:`fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/70`,onClick:M},[v(`div`,{class:`bg-gray-800 border border-gray-700 rounded-lg shadow-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto`,onClick:s[3]||=h(()=>{},[`stop`])},[v(`div`,gi,[v(`div`,_i,[v(`canvas`,{ref_key:`droneCanvas`,ref:w,width:`200`,height:`200`,class:`drone-modal-image flex-shrink-0`,style:{"image-rendering":`pixelated`}},null,512),v(`div`,vi,[v(`div`,yi,[v(`h2`,bi,[E.value.name?.startsWith(`A55_`)?(A(),k(`span`,xi,`⭐`)):d(``,!0),E.value.name?.includes(`ANCIENT`)||E.value.name?.includes(`ROYAL`)||E.value.title?.toUpperCase().includes(`ANCIENT`)||E.value.title?.toUpperCase().includes(`ROYAL`)?(A(),k(`span`,Si,`🗿`)):d(``,!0),E.value.name?.startsWith(`LOOT_`)?(A(),k(`span`,Ci,`💰`)):d(``,!0),E.value.name?.includes(`CHAOS`)?(A(),k(`span`,wi,`🤯`)):d(``,!0),p(` `+i(E.value.title||E.value.name),1)]),v(`button`,{onClick:s[0]||=e=>a(n).push({path:`/blueprints`,query:{id:E.value.name,tab:`drones`}}),class:`text-gray-400 hover:text-blue-400 transition-colors p-2`,title:`Open in Blueprints page`},[...s[4]||=[v(`svg`,{xmlns:`http://www.w3.org/2000/svg`,class:`h-5 w-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[v(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1`})],-1)]])])])]),v(`div`,Ti,[e.versions.length>1?(A(),k(`div`,Ei,[v(`button`,{onClick:s[1]||=e=>N(-1),class:`px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-sm transition-colors`,title:`Previous version`},` ‹ `),v(`span`,Di,i(e.currentIndex+1)+`/`+i(e.versions.length),1),v(`button`,{onClick:s[2]||=e=>N(1),class:`px-3 py-1 bg-gray-700 hover:bg-gray-600 rounded text-sm transition-colors`,title:`Next version`},` › `)])):d(``,!0),v(`button`,{onClick:M,class:`text-gray-400 hover:text-white text-2xl leading-none`},` × `)])]),v(`div`,Oi,[v(`div`,null,[v(`div`,ki,i(E.value.name),1),v(`div`,Ai,[E.value.type?(A(),k(`div`,ji,[s[5]||=v(`span`,{class:`font-semibold text-gray-300 w-32`},`Type:`,-1),v(`span`,null,i(E.value.type),1)])):d(``,!0),E.value.short?(A(),k(`div`,Mi,[s[6]||=v(`span`,{class:`font-semibold text-gray-300 w-32`},`Short Name:`,-1),v(`span`,null,i(E.value.short),1)])):d(``,!0)])]),E.value.desc?(A(),k(`div`,Ni,[s[7]||=v(`h3`,{class:`text-lg font-semibold text-gray-300 mb-2`},`Description`,-1),v(`p`,Pi,i(E.value.desc),1)])):d(``,!0),E.value.tooltip||E.value.tip?(A(),k(`div`,Fi,[s[8]||=v(`h3`,{class:`text-lg font-semibold text-gray-300 mb-2`},`Details`,-1),v(`p`,Ii,i(I(E.value.tooltip||E.value.tip,`tooltip`)),1)])):d(``,!0),F.value.length>0?(A(),k(`div`,Li,[s[9]||=v(`h3`,{class:`text-lg font-semibold text-gray-300 mb-3`},`Properties`,-1),v(`div`,Ri,[(A(!0),k(g,null,u(F.value,e=>(A(),k(`div`,{key:e.key,class:`flex`},[v(`span`,zi,i(e.label)+`:`,1),v(`span`,Bi,i(I(e.value,e.key)),1)]))),128))])])):d(``,!0),ne.value?(A(),k(`div`,Vi,[s[20]||=v(`h3`,{class:`text-lg font-semibold text-gray-300 mb-3`},`Random Weapon Pool`,-1),s[21]||=v(`p`,{class:`text-sm text-gray-400 mb-3`},[p(` This drone randomly fires one of the following weapons on each shot. `),v(`span`,{class:`text-gray-500 italic`},`(Hardcoded special case - data extracted from wonderdrone.lua script)`)],-1),v(`div`,Hi,[(A(!0),k(g,null,u(ne.value,(e,t)=>(A(),k(`div`,{key:t,class:`bg-gray-900 rounded-lg p-4 space-y-2`},[v(`div`,Ui,[p(i(e.title||e.name)+` `,1),v(`span`,Wi,`(`+i(e.name)+`)`,1)]),e.desc?(A(),k(`div`,Gi,i(e.desc),1)):d(``,!0),v(`div`,Ki,[e.type?(A(),k(`div`,qi,[s[10]||=v(`span`,{class:`text-gray-400 w-32`},`Type:`,-1),v(`span`,Ji,i(e.type),1)])):d(``,!0),e.damage?(A(),k(`div`,Yi,[s[11]||=v(`span`,{class:`text-gray-400 w-32`},`Damage:`,-1),v(`span`,Xi,i(e.damage),1)])):d(``,!0),e.cooldown?(A(),k(`div`,Zi,[s[12]||=v(`span`,{class:`text-gray-400 w-32`},`Cooldown:`,-1),v(`span`,Qi,i(e.cooldown),1)])):d(``,!0),e.power?(A(),k(`div`,$i,[s[13]||=v(`span`,{class:`text-gray-400 w-32`},`Power:`,-1),v(`span`,ea,i(e.power),1)])):d(``,!0),e.shots?(A(),k(`div`,ta,[s[14]||=v(`span`,{class:`text-gray-400 w-32`},`Shots:`,-1),v(`span`,na,i(e.shots),1)])):d(``,!0),e.sp?(A(),k(`div`,ra,[s[15]||=v(`span`,{class:`text-gray-400 w-32`},`Shield Piercing:`,-1),v(`span`,ia,i(e.sp),1)])):d(``,!0),e.fireChance?(A(),k(`div`,aa,[s[16]||=v(`span`,{class:`text-gray-400 w-32`},`Fire Chance:`,-1),v(`span`,oa,i(e.fireChance),1)])):d(``,!0),e.breachChance?(A(),k(`div`,sa,[s[17]||=v(`span`,{class:`text-gray-400 w-32`},`Breach Chance:`,-1),v(`span`,ca,i(e.breachChance),1)])):d(``,!0),e.stunChance?(A(),k(`div`,la,[s[18]||=v(`span`,{class:`text-gray-400 w-32`},`Stun Chance:`,-1),v(`span`,ua,i(e.stunChance),1)])):d(``,!0),e.ion?(A(),k(`div`,da,[s[19]||=v(`span`,{class:`text-gray-400 w-32`},`Ion Damage:`,-1),v(`span`,fa,i(e.ion),1)])):d(``,!0)])]))),128))])])):O.value?(A(),k(`div`,pa,[s[31]||=v(`h3`,{class:`text-lg font-semibold text-gray-300 mb-3`},`Weapon Details`,-1),s[32]||=v(`p`,{class:`text-sm text-gray-400 mb-3`},`This drone uses the following weapon when attacking.`,-1),v(`div`,ma,[v(`div`,ha,i(O.value.title||O.value.name),1),O.value.desc?(A(),k(`div`,ga,i(O.value.desc),1)):d(``,!0),v(`div`,_a,[O.value.type?(A(),k(`div`,va,[s[22]||=v(`span`,{class:`text-gray-400 w-32`},`Type:`,-1),v(`span`,ya,i(O.value.type),1)])):d(``,!0),O.value.damage?(A(),k(`div`,ba,[s[23]||=v(`span`,{class:`text-gray-400 w-32`},`Damage:`,-1),v(`span`,xa,i(O.value.damage),1)])):d(``,!0),O.value.cooldown?(A(),k(`div`,Sa,[s[24]||=v(`span`,{class:`text-gray-400 w-32`},`Cooldown:`,-1),v(`span`,Ca,i(O.value.cooldown),1)])):d(``,!0),O.value.power?(A(),k(`div`,wa,[s[25]||=v(`span`,{class:`text-gray-400 w-32`},`Power:`,-1),v(`span`,Ta,i(O.value.power),1)])):d(``,!0),O.value.shots?(A(),k(`div`,Ea,[s[26]||=v(`span`,{class:`text-gray-400 w-32`},`Shots:`,-1),v(`span`,Da,i(O.value.shots),1)])):d(``,!0),O.value.sp?(A(),k(`div`,Oa,[s[27]||=v(`span`,{class:`text-gray-400 w-32`},`Shield Piercing:`,-1),v(`span`,ka,i(O.value.sp),1)])):d(``,!0),O.value.fireChance?(A(),k(`div`,Aa,[s[28]||=v(`span`,{class:`text-gray-400 w-32`},`Fire Chance:`,-1),v(`span`,ja,i(O.value.fireChance),1)])):d(``,!0),O.value.breachChance?(A(),k(`div`,Ma,[s[29]||=v(`span`,{class:`text-gray-400 w-32`},`Breach Chance:`,-1),v(`span`,Na,i(O.value.breachChance),1)])):d(``,!0),O.value.stunChance?(A(),k(`div`,Pa,[s[30]||=v(`span`,{class:`text-gray-400 w-32`},`Stun Chance:`,-1),v(`span`,Fa,i(O.value.stunChance),1)])):d(``,!0)])])])):d(``,!0),D.value?(A(),k(`div`,Ia,[s[42]||=v(`h3`,{class:`text-lg font-semibold text-gray-300 mb-3`},`Crew Mode Statistics`,-1),s[43]||=v(`p`,{class:`text-sm text-gray-400 mb-3`},`This drone can function as a crew member when activated.`,-1),v(`div`,La,[v(`div`,Ra,[s[33]||=v(`span`,{class:`text-gray-400 w-40`},`Max Health:`,-1),v(`span`,za,i(D.value.race?.maxHealth||`N/A`),1)]),v(`div`,Ba,[s[34]||=v(`span`,{class:`text-gray-400 w-40`},`Damage Multiplier:`,-1),v(`span`,Va,i(D.value.race?.damageMultiplier||`N/A`),1)]),v(`div`,Ha,[s[35]||=v(`span`,{class:`text-gray-400 w-40`},`Can Fight:`,-1),v(`span`,{class:o(D.value.race?.canFight===`true`||D.value.race?.canFight===!0?`text-green-400`:`text-red-400`)},i(D.value.race?.canFight===`true`||D.value.race?.canFight===!0?`Yes`:`No`),3)]),v(`div`,Ua,[s[36]||=v(`span`,{class:`text-gray-400 w-40`},`Bonus Power:`,-1),v(`span`,Wa,i(D.value.race?.bonusPower||`N/A`),1)]),v(`div`,Ga,[s[37]||=v(`span`,{class:`text-gray-400 w-40`},`Can Repair:`,-1),v(`span`,{class:o(D.value.race?.canRepair===`true`||D.value.race?.canRepair===!0?`text-green-400`:`text-red-400`)},i(D.value.race?.canRepair===`true`||D.value.race?.canRepair===!0?`Yes`:`No`),3)]),v(`div`,Ka,[s[38]||=v(`span`,{class:`text-gray-400 w-40`},`Can Man:`,-1),v(`span`,{class:o(D.value.race?.canMan===`true`||D.value.race?.canMan===!0?`text-green-400`:`text-red-400`)},i(D.value.race?.canMan===`true`||D.value.race?.canMan===!0?`Yes`:`No`),3)]),v(`div`,qa,[s[39]||=v(`span`,{class:`text-gray-400 w-40`},`Can Suffocate:`,-1),v(`span`,{class:o(D.value.race?.canSuffocate===`true`||D.value.race?.canSuffocate===!0?`text-red-400`:`text-green-400`)},i(D.value.race?.canSuffocate===`true`||D.value.race?.canSuffocate===!0?`Yes`:`No`),3)]),v(`div`,Ja,[s[40]||=v(`span`,{class:`text-gray-400 w-40`},`Telepathic:`,-1),v(`span`,{class:o(D.value.race?.telepathic===`true`||D.value.race?.telepathic===!0?`text-green-400`:`text-gray-400`)},i(D.value.race?.telepathic===`true`||D.value.race?.telepathic===!0?`Yes`:`No`),3)])]),D.value.powerList?(A(),k(`div`,Ya,[s[41]||=v(`h4`,{class:`text-sm font-semibold text-gray-400 mb-2`},`Special Abilities:`,-1),v(`ul`,Xa,[Array.isArray(D.value.powerList.power)?(A(!0),k(g,{key:0},u(D.value.powerList.power,(e,t)=>(A(),k(`li`,{key:t},i(e),1))),128)):(A(),k(`li`,Za,i(D.value.powerList.power),1))])])):d(``,!0)])):d(``,!0),v(`div`,Qa,[s[44]||=v(`h3`,{class:`text-lg font-semibold text-gray-300 mb-3`},`Found in Sectors`,-1),v(`div`,$a,[r(t.$slots,`sectors`,{},void 0,!0)])])])])])):d(``,!0)]),_:3})]))}},[[`__scopeId`,`data-v-26e7885e`]]),to={class:`modal-content augment-modal`},no={class:`modal-header`},ro={class:`flex items-center gap-2`},io={class:`augment-id`},ao={class:`modal-body`},oo={key:0,class:`stats-section`},so={class:`stats-grid`},co={key:0,class:`stat-item`},lo={class:`stat-value cost`},uo={key:1,class:`stat-item`},fo={class:`stat-value`},po={key:2,class:`stat-item`},mo={class:`stat-value`},ho={key:1,class:`desc-section`},go={class:`augment-desc`},_o={key:2,class:`tooltip-section`},vo={class:`augment-tooltip`},yo={class:`sectors-section`},bo=vn({__name:`AugmentDetailModal`,props:{augment:{type:Object,required:!0},show:{type:Boolean,default:!1}},emits:[`close`,`navigateSector`],setup(e,{emit:t}){let n=ee(),o=e,s=t,c=C(()=>o.augment?.augBlueprint||{});function l(){s(`close`)}return(t,o)=>(A(),_(T,{to:`body`},[e.show?(A(),k(`div`,{key:0,class:`modal-overlay`,onClick:h(l,[`self`])},[v(`div`,to,[v(`button`,{class:`close-btn`,onClick:l,title:`Close (Esc)`},`×`),v(`div`,no,[v(`div`,ro,[v(`div`,null,[v(`h2`,null,i(c.value.title||c.value.name),1),v(`span`,io,i(c.value.name),1)]),v(`button`,{onClick:o[0]||=e=>a(n).push({path:`/blueprints`,query:{id:c.value.name,tab:`augments`}}),class:`text-gray-400 hover:text-blue-400 transition-colors p-2`,title:`Open in Blueprints page`},[...o[1]||=[v(`svg`,{xmlns:`http://www.w3.org/2000/svg`,class:`h-5 w-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[v(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1`})],-1)]])])]),v(`div`,ao,[c.value.cost||c.value.rarity||c.value.value?(A(),k(`div`,oo,[o[5]||=v(`h3`,null,`Stats`,-1),v(`div`,so,[c.value.cost?(A(),k(`div`,co,[o[2]||=v(`span`,{class:`stat-label`},`Cost`,-1),v(`span`,lo,i(c.value.cost),1)])):d(``,!0),c.value.rarity?(A(),k(`div`,uo,[o[3]||=v(`span`,{class:`stat-label`},`Rarity`,-1),v(`span`,fo,i(c.value.rarity),1)])):d(``,!0),c.value.value?(A(),k(`div`,po,[o[4]||=v(`span`,{class:`stat-label`},`Sell Value`,-1),v(`span`,mo,i(c.value.value),1)])):d(``,!0)])])):d(``,!0),c.value.desc?(A(),k(`div`,ho,[o[6]||=v(`h3`,null,`Description`,-1),v(`p`,go,i(typeof c.value.desc==`string`?c.value.desc:c.value.desc.text),1)])):d(``,!0),c.value.tooltip?(A(),k(`div`,_o,[o[7]||=v(`h3`,null,`Additional Info`,-1),v(`p`,vo,i(typeof c.value.tooltip==`string`?c.value.tooltip:c.value.tooltip.text),1)])):d(``,!0),v(`div`,yo,[o[9]||=v(`h3`,null,`Found In`,-1),r(t.$slots,`sectors`,{},()=>[o[8]||=v(`p`,{class:`text-gray-400 text-sm italic`},`No sector information available`,-1)],!0)])])])])):d(``,!0)]))}},[[`__scopeId`,`data-v-be883d3e`]]),xo={class:`modal-content ship-modal`},So={class:`modal-header`},Co={class:`flex items-center gap-2`},wo={class:`ship-id`},To={class:`modal-body`},Eo={class:`layout-section`},Do={class:`layout-image-container`},Oo=[`src`,`alt`],ko={key:1,class:`layout-placeholder`},Ao={class:`stats-section`},jo={class:`stats-grid`},Mo={key:0,class:`stat-item`},No={class:`stat-value`},Po={key:1,class:`stat-item`},Fo={class:`stat-value`},Io={key:2,class:`stat-item`},Lo={class:`stat-value`},Ro={key:3,class:`stat-item`},zo={class:`stat-value`},Bo={key:4,class:`stat-item`},Vo={class:`stat-value`},Ho={key:5,class:`stat-item`},Uo={class:`stat-value`},Wo={key:6,class:`stat-item`},Go={class:`stat-value`},Ko={key:7,class:`stat-item`},qo={class:`stat-value`},Jo={key:0,class:`systems-section`},Yo={class:`systems-grid`},Xo={class:`system-name`},Zo={class:`system-power`},Qo={class:`power-current`},$o={class:`power-max`},es={key:1,class:`systems-section`},ts={class:`systems-grid`},ns={class:`system-name`},rs={class:`system-power`},is={class:`power-max`},as={key:2,class:`crew-section`},os={class:`crew-list`},ss=[`onClick`,`title`],cs={class:`crew-amount`},ls={class:`crew-class`},us={key:3,class:`weapons-section`},ds={class:`weapon-list`},fs=[`onClick`,`title`],ps={key:4,class:`drones-section`},ms={class:`drone-list`},hs=[`onClick`,`title`],gs={key:5,class:`augments-section`},_s={class:`augment-list`},vs=[`title`,`onClick`],ys={key:6,class:`desc-section`},bs={class:`ship-desc`},xs=vn({__name:`ShipDetailModal`,props:{ship:{type:Object,required:!0},show:{type:Boolean,default:!1},blueprintArrays:{type:Object,default:()=>({})}},emits:[`close`,`openCrew`,`openWeapon`,`openDrone`,`openAugment`],setup(e,{emit:t}){let n=ee(),r=e,o=t,c=b(!1),l=C(()=>r.ship?.shipBlueprint||{});s(()=>l.value,()=>{c.value=!1},{deep:!0});function f(){o(`close`)}let p=C(()=>l.value.name?`/img/ship_layouts/${l.value.name}.png`:null),m=C(()=>{let e=[],t=l.value.systemList||{};for(let[n,r]of Object.entries(t))r&&r.start===`true`&&e.push({name:n,power:r.power||`0`,max:r.max||`0`,room:r.room});return e.sort((e,t)=>parseInt(t.power)-parseInt(e.power))}),y=C(()=>{let e=[],t=l.value.systemList||{};for(let[n,r]of Object.entries(t))r&&r.start===`false`&&e.push({name:n,power:r.power||`0`,max:r.max||`0`,room:r.room});return e.sort((e,t)=>e.name.localeCompare(t.name))}),x=C(()=>{let e=l.value.crewCount;return e?(Array.isArray(e)?e:[e]).map(e=>({class:e.class||`unknown`,amount:e.amount||`1`,max:e.max})):[]}),S=C(()=>{let e=l.value.weaponList;return e?{slots:l.value.weaponSlots||`0`,missiles:e.missiles||`0`,count:e.count||`0`,load:e.load,weapons:e.weapon?Array.isArray(e.weapon)?e.weapon:[e.weapon]:[]}:null}),w=C(()=>{let e=l.value.droneList;return e?{slots:l.value.droneSlots||`0`,drones:e.drones||`0`,count:e.count||`0`,load:e.load,droneItems:e.drone?Array.isArray(e.drone)?e.drone:[e.drone]:[]}:null}),E=C(()=>{let e=l.value.aug;return e?(Array.isArray(e)?e:[e]).map(e=>e.name||e):[]});function te(e){return{pilot:`Piloting`,engines:`Engines`,shields:`Shields`,weapons:`Weapons`,medbay:`Medbay`,clonebay:`Clone Bay`,oxygen:`Oxygen`,teleporter:`Teleporter`,cloaking:`Cloaking`,artillery:`Artillery`,drones:`Drone Control`,hacking:`Hacking`,mind:`Mind Control`,battery:`Backup Battery`,doors:`Doors`,sensors:`Sensors`,temporal:`Temporal`}[e]||e.charAt(0).toUpperCase()+e.slice(1)}function D(e){let t=r.blueprintArrays.crew?.find(t=>t?.crewBlueprint?.name===e)?.crewBlueprint;return t?.title?t.title:e.replace(/_/g,` `).split(` `).map(e=>e.charAt(0).toUpperCase()+e.slice(1)).join(` `)}function O(e){return r.blueprintArrays.weapons?.find(t=>t?.weaponBlueprint?.name===e)?.weaponBlueprint?.title||e.replace(/_/g,` `)}function j(e){return r.blueprintArrays.drones?.find(t=>t?.droneBlueprint?.name===e)?.droneBlueprint?.title||e.replace(/_/g,` `)}function ne(e){return r.blueprintArrays.augments?.find(t=>t?.augBlueprint?.name===e)?.augBlueprint?.title||e.replace(/_/g,` `)}function M(e){o(`openCrew`,e)}function N(e){o(`openWeapon`,e)}function P(e){o(`openDrone`,e)}return(t,r)=>(A(),_(T,{to:`body`},[e.show?(A(),k(`div`,{key:0,class:`modal-overlay`,onClick:h(f,[`self`])},[v(`div`,xo,[v(`button`,{class:`close-btn`,onClick:f,title:`Close (Esc)`},`×`),v(`div`,So,[v(`div`,Co,[v(`div`,null,[v(`h2`,null,i(l.value.class||l.value.name),1),v(`span`,wo,i(l.value.name),1)]),v(`button`,{onClick:r[0]||=e=>a(n).push({path:`/blueprints`,query:{id:l.value._id||l.value.name,tab:`ships`}}),class:`text-gray-400 hover:text-blue-400 transition-colors p-2`,title:`Open in Blueprints page`},[...r[2]||=[v(`svg`,{xmlns:`http://www.w3.org/2000/svg`,class:`h-5 w-5`,fill:`none`,viewBox:`0 0 24 24`,stroke:`currentColor`},[v(`path`,{"stroke-linecap":`round`,"stroke-linejoin":`round`,"stroke-width":`2`,d:`M13.828 10.172a4 4 0 00-5.656 0l-4 4a4 4 0 105.656 5.656l1.102-1.101m-.758-4.899a4 4 0 005.656 0l4-4a4 4 0 00-5.656-5.656l-1.1 1.1`})],-1)]])])]),v(`div`,To,[v(`div`,Eo,[r[4]||=v(`h3`,null,`Ship Layout`,-1),v(`div`,Do,[p.value&&!c.value?(A(),k(`img`,{key:0,src:p.value,alt:l.value.name+` layout`,class:`layout-image`,onError:r[1]||=e=>c.value=!0},null,40,Oo)):(A(),k(`div`,ko,[...r[3]||=[v(`span`,null,`Layout image not available`,-1)]]))])]),v(`div`,Ao,[r[13]||=v(`h3`,null,`Ship Stats`,-1),v(`div`,jo,[l.value.health?.amount?(A(),k(`div`,Mo,[r[5]||=v(`span`,{class:`stat-label`},`Hull`,-1),v(`span`,No,i(l.value.health.amount),1)])):d(``,!0),l.value.maxPower?.amount?(A(),k(`div`,Po,[r[6]||=v(`span`,{class:`stat-label`},`Reactor`,-1),v(`span`,Fo,i(l.value.maxPower.amount),1)])):d(``,!0),S.value?(A(),k(`div`,Io,[r[7]||=v(`span`,{class:`stat-label`},`Weapon Slots`,-1),v(`span`,Lo,i(S.value.slots),1)])):d(``,!0),w.value?(A(),k(`div`,Ro,[r[8]||=v(`span`,{class:`stat-label`},`Drone Slots`,-1),v(`span`,zo,i(w.value.slots),1)])):d(``,!0),S.value?.missiles===`0`?d(``,!0):(A(),k(`div`,Bo,[r[9]||=v(`span`,{class:`stat-label`},`Missiles`,-1),v(`span`,Vo,i(S.value.missiles),1)])),w.value?.drones===`0`?d(``,!0):(A(),k(`div`,Ho,[r[10]||=v(`span`,{class:`stat-label`},`Drone Parts`,-1),v(`span`,Uo,i(w.value.drones),1)])),l.value.maxSector?(A(),k(`div`,Wo,[r[11]||=v(`span`,{class:`stat-label`},`Max Sector`,-1),v(`span`,Go,i(l.value.maxSector),1)])):d(``,!0),l.value.minSector?(A(),k(`div`,Ko,[r[12]||=v(`span`,{class:`stat-label`},`Min Sector`,-1),v(`span`,qo,i(l.value.minSector),1)])):d(``,!0)])]),m.value.length>0?(A(),k(`div`,Jo,[r[15]||=v(`h3`,null,`Starting Systems`,-1),v(`div`,Yo,[(A(!0),k(g,null,u(m.value,e=>(A(),k(`div`,{key:e.name,class:`system-item active`},[v(`span`,Xo,i(te(e.name)),1),v(`span`,Zo,[v(`span`,Qo,i(e.power),1),r[14]||=v(`span`,{class:`power-separator`},`/`,-1),v(`span`,$o,i(e.max),1)])]))),128))])])):d(``,!0),y.value.length>0?(A(),k(`div`,es,[r[16]||=v(`h3`,null,`Available Systems (Not Installed)`,-1),v(`div`,ts,[(A(!0),k(g,null,u(y.value,e=>(A(),k(`div`,{key:e.name,class:`system-item inactive`},[v(`span`,ns,i(te(e.name)),1),v(`span`,rs,[v(`span`,is,i(e.max),1)])]))),128))])])):d(``,!0),x.value.length>0?(A(),k(`div`,as,[r[17]||=v(`h3`,null,`Starting Crew`,-1),v(`div`,os,[(A(!0),k(g,null,u(x.value,(e,t)=>(A(),k(`button`,{key:t,class:`crew-item clickable`,onClick:t=>M(e.class),title:`View `+D(e.class)+` details`},[v(`span`,cs,i(e.amount)+`x`,1),v(`span`,ls,i(D(e.class)),1)],8,ss))),128))])])):d(``,!0),S.value?.weapons?.length>0?(A(),k(`div`,us,[r[18]||=v(`h3`,null,`Starting Weapons`,-1),v(`div`,ds,[(A(!0),k(g,null,u(S.value.weapons,(e,t)=>(A(),k(`button`,{key:t,class:`weapon-item clickable`,onClick:t=>N(e.name),title:e.name},i(O(e.name)),9,fs))),128))])])):d(``,!0),w.value?.droneItems?.length>0?(A(),k(`div`,ps,[r[19]||=v(`h3`,null,`Starting Drones`,-1),v(`div`,ms,[(A(!0),k(g,null,u(w.value.droneItems,(e,t)=>(A(),k(`button`,{key:t,class:`drone-item clickable`,onClick:t=>P(e.name),title:e.name},i(j(e.name)),9,hs))),128))])])):d(``,!0),E.value.length>0?(A(),k(`div`,gs,[r[20]||=v(`h3`,null,`Starting Augments`,-1),v(`div`,_s,[(A(!0),k(g,null,u(E.value,(e,t)=>(A(),k(`button`,{key:t,class:`augment-item augment-button`,title:e,onClick:t=>o(`openAugment`,e)},i(ne(e)),9,vs))),128))])])):d(``,!0),l.value.desc?(A(),k(`div`,ys,[r[21]||=v(`h3`,null,`Description`,-1),v(`p`,bs,i(l.value.desc),1)])):d(``,!0)])])])):d(``,!0)]))}},[[`__scopeId`,`data-v-63e065b7`]]),Ss={key:2,class:`space-y-6`},Cs={class:`space-y-4`},ws={class:`bg-gray-800 rounded-lg p-4 border border-gray-700`},Ts={class:`text-gray-300`},Es={class:`font-bold text-blue-400`},Ds={class:`space-y-2`},Os=[`onClick`],ks={class:`flex items-center gap-3`},As={class:`font-bold text-blue-400`},js={class:`text-sm text-gray-400 flex gap-4`},Ms={key:0},Ns={key:1},Ps={key:2},Fs={key:3},Is={key:0,class:`bg-gray-800/50 p-4 space-y-3`},Ls={class:`text-xs text-gray-500 mb-2`},Rs={key:0,class:`space-y-1`},zs={class:`text-sm font-semibold text-gray-300`},Bs={class:`flex flex-wrap gap-2`},Vs=[`onClick`],Hs={key:0,class:`text-yellow-400 mr-1`,title:`Unique crew`},Us={key:1,class:`space-y-1`},Ws={class:`text-sm font-semibold text-gray-300`},Gs={class:`flex flex-wrap gap-2`},Ks=[`onClick`],qs={key:0,class:`text-yellow-400 mr-1`,title:`Unique weapon`},Js={key:2,class:`space-y-1`},Ys={class:`text-sm font-semibold text-gray-300`},Xs={class:`flex flex-wrap gap-2`},Zs=[`onClick`],Qs={key:0,class:`text-yellow-400 mr-1`,title:`Unique augment`},$s={key:3,class:`space-y-1`},ec={class:`text-sm font-semibold text-gray-300`},tc={class:`flex flex-wrap gap-2`},nc=[`onClick`],rc={key:0,class:`text-yellow-400 mr-1`,title:`Unique drone`},ic={key:4,class:`space-y-1`},ac={class:`text-sm font-semibold text-gray-300`},oc={class:`flex flex-wrap gap-2`},sc=[`onClick`,`title`],cc={key:5,class:`space-y-1`},lc={class:`text-sm font-semibold text-gray-300`},uc={class:`flex flex-wrap gap-2`},dc=[`onClick`,`title`],fc={key:6,class:`space-y-1`},pc={class:`text-sm font-semibold text-gray-300`},mc={class:`flex flex-wrap gap-2`},hc=[`onClick`],gc={key:7,class:`space-y-1`},_c={class:`text-sm font-semibold text-gray-300`},vc={class:`bg-gray-800/30 rounded border border-gray-700 p-2 max-h-96 overflow-y-auto`},yc={class:`space-y-2`},bc=[`onClick`],xc={class:`flex items-center gap-3`},Sc={class:`font-bold text-gray-300`},Cc={class:`text-sm text-gray-400 flex gap-4`},wc={key:0},Tc={key:1},Ec={key:2},Dc={key:3},Oc={key:0,class:`bg-gray-800/50 p-4 space-y-3`},kc={class:`text-xs text-gray-500 mb-2`},Ac={key:0,class:`space-y-1`},jc={class:`text-sm font-semibold text-gray-300`},Mc={class:`flex flex-wrap gap-2`},Nc=[`onClick`],Pc={key:0,class:`text-yellow-400 mr-1`,title:`Unique crew`},Fc={key:1,class:`space-y-1`},Ic={class:`text-sm font-semibold text-gray-300`},Lc={class:`flex flex-wrap gap-2`},Rc=[`onClick`],zc={key:0,class:`text-yellow-400 mr-1`,title:`Unique weapon`},Bc={key:2,class:`space-y-1`},Vc={class:`text-sm font-semibold text-gray-300`},Hc={class:`flex flex-wrap gap-2`},Uc=[`onClick`],Wc={key:0,class:`text-yellow-400 mr-1`,title:`Unique augment`},Gc={key:3,class:`space-y-1`},Kc={class:`text-sm font-semibold text-gray-300`},qc={class:`flex flex-wrap gap-2`},Jc=[`onClick`],Yc={key:0,class:`text-yellow-400 mr-1`,title:`Unique drone`},Xc={key:4,class:`space-y-1`},Zc={class:`text-sm font-semibold text-gray-300`},Qc={class:`flex flex-wrap gap-2`},$c=[`onClick`,`title`],el={key:5,class:`space-y-1`},tl={class:`text-sm font-semibold text-gray-300`},nl={class:`flex flex-wrap gap-2`},rl=[`onClick`,`title`],il={key:6,class:`space-y-1`},al={class:`text-sm font-semibold text-gray-300`},ol={class:`flex flex-wrap gap-2`},sl=[`onClick`],cl={key:7,class:`space-y-1`},ll={class:`text-sm font-semibold text-gray-300`},ul={class:`bg-gray-800/30 rounded border border-gray-700 p-2 max-h-96 overflow-y-auto`},dl={class:`flex flex-wrap gap-1`},fl=[`onClick`],pl={class:`flex flex-wrap gap-1`},ml=[`onClick`],hl=[`onClick`],gl={class:`flex flex-wrap gap-1`},_l=[`onClick`],vl={__name:`SectorsPage`,setup(e){let n=f();ee();let{sectors:r,loading:c,error:m,sectorsByType:h,fetchSectors:y}=de(),{blueprintArrays:S,fetchBlueprints:w}=me(),{getSectorsForItem:T}=xe(),{fetchEvents:E,fetchEventLists:te}=be(),D=b(null),O=b(``),ne=b([]),M=b(!1),N=b(null),P=b([]),F=b(null),I=b(null),L=b(null),R=b(null),z=b(null),B=C({get:()=>F.value!==null,set:e=>{e||J()}}),V=C({get:()=>I.value!==null,set:e=>{e||J()}}),re=C({get:()=>L.value!==null,set:e=>{e||J()}}),ie=C({get:()=>R.value!==null,set:e=>{e||J()}}),ae=C({get:()=>z.value!==null,set:e=>{e||J()}}),oe={coords_spider:`SECRET_SPIDER`,coords_jerry:`SECRET_JERRY`,coords_nights:`SECRET_NIGHTS`,coords_hektar:`SECRET_HEKTAR`,coords_estate:`SECRET_ESTATE`,coords_rhyme:`SECRET_RHYME`,coords_hive:`SECTOR_HIVE_UNIQUE`};l(()=>{y(),w(),E(),te(),ce().then(e=>{ne.value=e}).catch(e=>{console.error(`Failed to load blueprint lists:`,e)}),n.query.search&&(O.value=n.query.search),window.addEventListener(`keydown`,se)}),t(()=>{window.removeEventListener(`keydown`,se)});function H(e,t){if(!S.value[t])return e.replace(/_/g,` `);if(t===`crew`&&e.startsWith(`unique_`))return e.substring(7).split(`_`).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(` `);let n=null;switch(t){case`crew`:n=S.value.crew?.find(t=>t?.crewBlueprint?.name===e)?.crewBlueprint;break;case`weapons`:n=S.value.weapons?.find(t=>t?.weaponBlueprint?.name===e)?.weaponBlueprint;break;case`augments`:n=S.value.augments?.find(t=>t?.augBlueprint?.name===e)?.augBlueprint;break;case`drones`:n=S.value.drones?.find(t=>t?.droneBlueprint?.name===e)?.droneBlueprint;break;case`ships`:n=S.value.ships?.find(t=>t?.shipBlueprint?._id===e||t?.shipBlueprint?.name===e)?.shipBlueprint;break}if(t===`ships`&&n){let t=n.name||n.title,r=n.class;return t&&r&&t!==r?`${t} (${r})`:r||t||e.replace(/_/g,` `)}return n?.title||e.replace(/_/g,` `)}function se(e){(e.ctrlKey||e.metaKey)&&e.key===`k`&&(e.preventDefault(),document.querySelector(`input[type="text"]`)?.focus()),e.key===`Escape`&&O.value&&(O.value=``)}s(()=>n.query.search,e=>{e&&(O.value=e)});let le=C(()=>{if(!O.value)return h.value;let e=O.value.toLowerCase(),t={};for(let[n,r]of Object.entries(h.value))t[n]={unique:r.unique.filter(t=>U(t,e)),standard:r.standard.filter(t=>U(t,e))};return t});function U(e,t){if(e.name?.toLowerCase().includes(t))return!0;let n=e=>e?.some(e=>e.toLowerCase().includes(t));return n(e.crew)||n(e.weapons)||n(e.augments)||n(e.drones)||n(e.ship_unlocks)}function W(e,t){if(e.includes(`LIST`)||e.includes(`GIFT`)){let t=ne.value.find(t=>t.name===e);if(t){N.value=t,M.value=!0;return}}let n=null;switch(t){case`weapons`:n=S.value.weapons?.find(t=>t?.weaponBlueprint?.name===e),n&&ue(n);break;case`crew`:n=S.value.crew?.find(t=>t?.crewBlueprint?.name===e),n&&G(n);break;case`augments`:n=S.value.augments?.find(t=>t?.augBlueprint?.name===e),n&&K(n);break;case`drones`:n=S.value.drones?.find(t=>t?.droneBlueprint?.name===e),n&&fe(n);break;case`ships`:n=S.value.ships?.find(t=>t?.shipBlueprint?._id===e||t?.shipBlueprint?.name===e),n&&q(n);break}}function ue(e){(F.value||I.value||L.value||R.value||z.value)&&P.value.push({weapon:F.value,crew:I.value,drone:L.value,augment:R.value,ship:z.value}),pe(),F.value=e}function G(e){(F.value||I.value||L.value||R.value||z.value)&&P.value.push({weapon:F.value,crew:I.value,drone:L.value,augment:R.value,ship:z.value}),pe(),I.value=e}function fe(e){(F.value||I.value||L.value||R.value||z.value)&&P.value.push({weapon:F.value,crew:I.value,drone:L.value,augment:R.value,ship:z.value}),pe(),L.value=e}function K(e){(F.value||I.value||L.value||R.value||z.value)&&P.value.push({weapon:F.value,crew:I.value,drone:L.value,augment:R.value,ship:z.value}),pe(),R.value=e}function q(e){(F.value||I.value||L.value||R.value||z.value)&&P.value.push({weapon:F.value,crew:I.value,drone:L.value,augment:R.value,ship:z.value}),pe(),z.value=e}function pe(){F.value=null,I.value=null,L.value=null,R.value=null,z.value=null}function J(){if(P.value.length>0){let e=P.value.pop();F.value=e.weapon,I.value=e.crew,L.value=e.drone,R.value=e.augment,z.value=e.ship}else pe()}function Y(e){M.value=!1;let t=`weapons`;e.includes(`crew`)||e.startsWith(`unique_`)?t=`crew`:e.includes(`aug`)?t=`augments`:e.includes(`drone`)&&(t=`drones`),W(e,t)}function he(e){return e.replace(/_/g,` `).replace(/SECTOR /g,``)}function ge(e){D.value=D.value===e?null:e}function _e(e){return D.value===e}function X(e){O.value=e,D.value=e}return(e,t)=>(A(),k(`div`,null,[t[7]||=v(`h2`,{class:`text-3xl font-bold mb-6`},`Sectors`,-1),a(c)?(A(),_(Qt,{key:0,message:`Loading sectors data...`})):a(m)?(A(),_(rn,{key:1,error:a(m)},null,8,[`error`])):(A(),k(`div`,Ss,[v(`div`,Cs,[v(`div`,ws,[v(`p`,Ts,[t[6]||=p(` Total sectors: `,-1),v(`span`,Es,i(a(r).length),1)])]),j(De,{modelValue:O.value,"onUpdate:modelValue":t[0]||=e=>O.value=e,placeholder:`Search sectors or items...`},null,8,[`modelValue`])]),(A(!0),k(g,null,u(le.value,(e,t)=>(A(),k(`div`,{key:t,class:`space-y-4`},[e.unique.length>0||e.standard.length>0?(A(),k(g,{key:0},[e.unique.length>0?(A(),_(Q,{key:0,title:`${t} - Unique`,count:e.unique.length,"default-open":!0},{default:x(()=>[v(`div`,Ds,[(A(!0),k(g,null,u(e.unique,e=>(A(),k(`div`,{key:e.name,class:`border border-gray-700 rounded-lg overflow-hidden`},[v(`button`,{onClick:t=>ge(e.name),class:`w-full px-4 py-3 bg-gray-800 hover:bg-gray-750 transition-colors flex items-center justify-between`},[v(`div`,ks,[v(`span`,{class:o([`text-gray-400 text-sm transition-transform`,{"rotate-90":_e(e.name)}])},` ▶ `,2),v(`h5`,As,i(he(e.name)),1)]),v(`div`,js,[e.crew?.length?(A(),k(`span`,Ms,`Crew: `+i(e.crew.length),1)):d(``,!0),e.weapons?.length?(A(),k(`span`,Ns,`Weapons: `+i(e.weapons.length),1)):d(``,!0),e.augments?.length?(A(),k(`span`,Ps,`Augments: `+i(e.augments.length),1)):d(``,!0),e.drones?.length?(A(),k(`span`,Fs,`Drones: `+i(e.drones.length),1)):d(``,!0)])],8,Os),_e(e.name)?(A(),k(`div`,Is,[v(`div`,Ls,i(e.name),1),e.crew?.length?(A(),k(`div`,Rs,[v(`h6`,zs,`Crew (`+i(e.crew.length)+`)`,1),v(`div`,Bs,[(A(!0),k(g,null,u(e.crew,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`crew`),class:`px-2 py-1 bg-blue-900/30 border border-blue-700/50 rounded text-xs text-blue-300 hover:bg-blue-800/50 transition-colors cursor-pointer`},[e.startsWith(`unique_`)?(A(),k(`span`,Hs,`⭐`)):d(``,!0),p(i(H(e,`crew`)),1)],8,Vs))),128))])])):d(``,!0),e.weapons?.length?(A(),k(`div`,Us,[v(`h6`,Ws,`Weapons (`+i(e.weapons.length)+`)`,1),v(`div`,Gs,[(A(!0),k(g,null,u(e.weapons,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`weapons`),class:`px-2 py-1 bg-red-900/30 border border-red-700/50 rounded text-xs text-red-300 hover:bg-red-800/50 transition-colors cursor-pointer`},[e.startsWith(`GATLING`)?(A(),k(`span`,qs,`⭐`)):d(``,!0),p(i(H(e,`weapons`)),1)],8,Ks))),128))])])):d(``,!0),e.augments?.length?(A(),k(`div`,Js,[v(`h6`,Ys,`Augments (`+i(e.augments.length)+`)`,1),v(`div`,Xs,[(A(!0),k(g,null,u(e.augments,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`augments`),class:`px-2 py-1 bg-purple-900/30 border border-purple-700/50 rounded text-xs text-purple-300 hover:bg-purple-800/50 transition-colors cursor-pointer`},[e.includes(`PREIGNITE`)?(A(),k(`span`,Qs,`⭐`)):d(``,!0),p(i(H(e,`augments`)),1)],8,Zs))),128))])])):d(``,!0),e.drones?.length?(A(),k(`div`,$s,[v(`h6`,ec,`Drones (`+i(e.drones.length)+`)`,1),v(`div`,tc,[(A(!0),k(g,null,u(e.drones,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`drones`),class:`px-2 py-1 bg-green-900/30 border border-green-700/50 rounded text-xs text-green-300 hover:bg-green-800/50 transition-colors cursor-pointer`},[e.startsWith(`A55_`)?(A(),k(`span`,rc,`⭐`)):d(``,!0),p(i(H(e,`drones`)),1)],8,nc))),128))])])):d(``,!0),e.ship_unlocks?.length?(A(),k(`div`,ic,[v(`h6`,ac,`Ships (`+i(e.ship_unlocks.length)+`)`,1),v(`div`,oc,[(A(!0),k(g,null,u(e.ship_unlocks,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`ships`),class:`px-2 py-1 bg-yellow-900/30 border border-yellow-700/50 rounded text-xs text-yellow-300 hover:bg-yellow-800/40 hover:border-yellow-600 transition-colors cursor-pointer`,title:e},i(H(e,`ships`)),9,sc))),128))])])):d(``,!0),e.coordinates?.length?(A(),k(`div`,cc,[v(`h6`,lc,`Coordinates (`+i(e.coordinates.length)+`)`,1),v(`div`,uc,[(A(!0),k(g,null,u(e.coordinates,e=>(A(),k(`button`,{key:e,onClick:t=>X(oe[e]||e),class:`px-2 py-1 bg-cyan-900/30 border border-cyan-700/50 rounded text-xs text-cyan-300 hover:bg-cyan-800/50 transition-colors cursor-pointer`,title:oe[e]?`Jump to ${oe[e].replace(/_/g,` `)}`:e},i(e.replace(/_/g,` `)),9,dc))),128))])])):d(``,!0),e.secret_warps?.length?(A(),k(`div`,fc,[v(`h6`,pc,`Secret Warps (`+i(e.secret_warps.length)+`)`,1),v(`div`,mc,[(A(!0),k(g,null,u(e.secret_warps,e=>(A(),k(`button`,{key:e,onClick:t=>X(e),class:`px-2 py-1 bg-pink-900/30 border border-pink-700/50 rounded text-xs text-pink-300 hover:bg-pink-800/50 transition-colors cursor-pointer`},i(e.replace(/_/g,` `)),9,hc))),128))])])):d(``,!0),e.sourceEvents?.length?(A(),k(`div`,gc,[v(`h6`,_c,`Events (`+i(e.sourceEvents.length)+`)`,1),v(`div`,vc,[(A(!0),k(g,null,u(e.sourceEvents,(e,t)=>(A(),_(qt,{key:e.name||t,"event-name":typeof e==`string`?e:e.name,onNavigateBlueprint:W,onNavigateSector:X},null,8,[`event-name`]))),128))])])):d(``,!0)])):d(``,!0)]))),128))])]),_:2},1032,[`title`,`count`])):d(``,!0),e.standard.length>0?(A(),_(Q,{key:1,title:`${t} - Standard`,count:e.standard.length,"default-open":!1},{default:x(()=>[v(`div`,yc,[(A(!0),k(g,null,u(e.standard,e=>(A(),k(`div`,{key:e.name,class:`border border-gray-700 rounded-lg overflow-hidden`},[v(`button`,{onClick:t=>ge(e.name),class:`w-full px-4 py-3 bg-gray-800 hover:bg-gray-750 transition-colors flex items-center justify-between`},[v(`div`,xc,[v(`span`,{class:o([`text-gray-400 text-sm transition-transform`,{"rotate-90":_e(e.name)}])},` ▶ `,2),v(`h5`,Sc,i(he(e.name)),1)]),v(`div`,Cc,[e.crew?.length?(A(),k(`span`,wc,`Crew: `+i(e.crew.length),1)):d(``,!0),e.weapons?.length?(A(),k(`span`,Tc,`Weapons: `+i(e.weapons.length),1)):d(``,!0),e.augments?.length?(A(),k(`span`,Ec,`Augments: `+i(e.augments.length),1)):d(``,!0),e.drones?.length?(A(),k(`span`,Dc,`Drones: `+i(e.drones.length),1)):d(``,!0)])],8,bc),_e(e.name)?(A(),k(`div`,Oc,[v(`div`,kc,i(e.name),1),e.crew?.length?(A(),k(`div`,Ac,[v(`h6`,jc,`Crew (`+i(e.crew.length)+`)`,1),v(`div`,Mc,[(A(!0),k(g,null,u(e.crew,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`crew`),class:`px-2 py-1 bg-blue-900/30 border border-blue-700/50 rounded text-xs text-blue-300 hover:bg-blue-800/50 transition-colors cursor-pointer`},[e.startsWith(`unique_`)?(A(),k(`span`,Pc,`⭐`)):d(``,!0),p(i(H(e,`crew`)),1)],8,Nc))),128))])])):d(``,!0),e.weapons?.length?(A(),k(`div`,Fc,[v(`h6`,Ic,`Weapons (`+i(e.weapons.length)+`)`,1),v(`div`,Lc,[(A(!0),k(g,null,u(e.weapons,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`weapons`),class:`px-2 py-1 bg-red-900/30 border border-red-700/50 rounded text-xs text-red-300 hover:bg-red-800/50 transition-colors cursor-pointer`},[e.startsWith(`GATLING`)?(A(),k(`span`,zc,`⭐`)):d(``,!0),p(i(H(e,`weapons`)),1)],8,Rc))),128))])])):d(``,!0),e.augments?.length?(A(),k(`div`,Bc,[v(`h6`,Vc,`Augments (`+i(e.augments.length)+`)`,1),v(`div`,Hc,[(A(!0),k(g,null,u(e.augments,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`augments`),class:`px-2 py-1 bg-purple-900/30 border border-purple-700/50 rounded text-xs text-purple-300 hover:bg-purple-800/50 transition-colors cursor-pointer`},[e.includes(`PREIGNITE`)?(A(),k(`span`,Wc,`⭐`)):d(``,!0),p(i(H(e,`augments`)),1)],8,Uc))),128))])])):d(``,!0),e.drones?.length?(A(),k(`div`,Gc,[v(`h6`,Kc,`Drones (`+i(e.drones.length)+`)`,1),v(`div`,qc,[(A(!0),k(g,null,u(e.drones,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`drones`),class:`px-2 py-1 bg-green-900/30 border border-green-700/50 rounded text-xs text-green-300 hover:bg-green-800/50 transition-colors cursor-pointer`},[e.startsWith(`A55_`)?(A(),k(`span`,Yc,`⭐`)):d(``,!0),p(i(H(e,`drones`)),1)],8,Jc))),128))])])):d(``,!0),e.ship_unlocks?.length?(A(),k(`div`,Xc,[v(`h6`,Zc,`Ships (`+i(e.ship_unlocks.length)+`)`,1),v(`div`,Qc,[(A(!0),k(g,null,u(e.ship_unlocks,e=>(A(),k(`button`,{key:e,onClick:t=>W(e,`ships`),class:`px-2 py-1 bg-yellow-900/30 border border-yellow-700/50 rounded text-xs text-yellow-300 hover:bg-yellow-800/40 hover:border-yellow-600 transition-colors cursor-pointer`,title:e},i(H(e,`ships`)),9,$c))),128))])])):d(``,!0),e.coordinates?.length?(A(),k(`div`,el,[v(`h6`,tl,`Coordinates (`+i(e.coordinates.length)+`)`,1),v(`div`,nl,[(A(!0),k(g,null,u(e.coordinates,e=>(A(),k(`button`,{key:e,onClick:t=>X(oe[e]||e),class:`px-2 py-1 bg-cyan-900/30 border border-cyan-700/50 rounded text-xs text-cyan-300 hover:bg-cyan-800/50 transition-colors cursor-pointer`,title:oe[e]?`Jump to ${oe[e].replace(/_/g,` `)}`:e},i(e.replace(/_/g,` `)),9,rl))),128))])])):d(``,!0),e.secret_warps?.length?(A(),k(`div`,il,[v(`h6`,al,`Secret Warps (`+i(e.secret_warps.length)+`)`,1),v(`div`,ol,[(A(!0),k(g,null,u(e.secret_warps,e=>(A(),k(`button`,{key:e,onClick:t=>X(e),class:`px-2 py-1 bg-pink-900/30 border border-pink-700/50 rounded text-xs text-pink-300 hover:bg-pink-800/50 transition-colors cursor-pointer`},i(e.replace(/_/g,` `)),9,sl))),128))])])):d(``,!0),e.sourceEvents?.length?(A(),k(`div`,cl,[v(`h6`,ll,`Events (`+i(e.sourceEvents.length)+`)`,1),v(`div`,ul,[(A(!0),k(g,null,u(e.sourceEvents,(e,t)=>(A(),_(qt,{key:e.name||t,"event-name":typeof e==`string`?e:e.name,onNavigateBlueprint:W,onNavigateSector:X},null,8,[`event-name`]))),128))])])):d(``,!0)])):d(``,!0)]))),128))])]),_:2},1032,[`title`,`count`])):d(``,!0)],64)):d(``,!0)]))),128))])),M.value?(A(),_(Be,{key:3,listName:N.value?.name||``,listData:N.value,onClose:t[1]||=e=>M.value=!1,onNavigate:Y},null,8,[`listName`,`listData`])):d(``,!0),F.value?(A(),_(Fr,{key:4,weapon:F.value,show:B.value,onClose:J,onNavigateSector:X},{sectors:x(()=>[v(`div`,dl,[(A(!0),k(g,null,u(a(T)(F.value?.weaponBlueprint?.name,`weapons`),e=>(A(),k(`button`,{key:e,onClick:t=>{J(),X(e)},class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(he(e)),9,fl))),128))])]),_:1},8,[`weapon`,`show`])):d(``,!0),I.value?(A(),_(si,{key:5,crew:I.value,show:V.value,onClose:J,onNavigateSector:X},{sectors:x(()=>[v(`div`,pl,[(A(!0),k(g,null,u(a(T)(I.value?.crewBlueprint?.name,`crew`),e=>(A(),k(`button`,{key:e,onClick:t=>{J(),X(e)},class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(he(e)),9,ml))),128))])]),_:1},8,[`crew`,`show`])):d(``,!0),L.value?(A(),_(eo,{key:6,drone:L.value,show:re.value,onClose:J,onNavigateSector:X},{sectors:x(()=>[(A(!0),k(g,null,u(a(T)(L.value?.droneBlueprint?.name,`drones`),e=>(A(),k(`button`,{key:e,onClick:t=>{J(),X(e)},class:`text-sm px-3 py-1.5 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(he(e)),9,hl))),128))]),_:1},8,[`drone`,`show`])):d(``,!0),R.value?(A(),_(bo,{key:7,augment:R.value,show:ie.value,onClose:J,onNavigateSector:X},{sectors:x(()=>[v(`div`,gl,[(A(!0),k(g,null,u(a(T)(R.value?.augBlueprint?.name,`augments`),e=>(A(),k(`button`,{key:e,onClick:t=>{J(),X(e)},class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(he(e)),9,_l))),128))])]),_:1},8,[`augment`,`show`])):d(``,!0),z.value?(A(),_(xs,{key:8,ship:z.value,show:ae.value,blueprintArrays:a(S),onClose:J,onOpenCrew:t[2]||=e=>{let t=a(S).crew?.find(t=>t?.crewBlueprint?.name===e);t&&G(t)},onOpenWeapon:t[3]||=e=>{let t=a(S).weapons?.find(t=>t?.weaponBlueprint?.name===e);t&&ue(t)},onOpenDrone:t[4]||=e=>{let t=a(S).drones?.find(t=>t?.droneBlueprint?.name===e);t&&fe(t)},onOpenAugment:t[5]||=e=>{let t=a(S).augments?.find(t=>t?.augBlueprint?.name===e);t&&K(t)}},null,8,[`ship`,`show`,`blueprintArrays`])):d(``,!0)]))}},yl={class:`flex flex-col gap-2`},bl={class:`text-sm font-semibold text-gray-300`},xl=[`value`],Sl=[`value`],Cl={__name:`FilterDropdown`,props:{modelValue:{type:String,default:``},label:{type:String,required:!0},options:{type:Array,required:!0}},emits:[`update:modelValue`],setup(e,{emit:t}){let n=t;function r(e){n(`update:modelValue`,e.target.value)}return(t,n)=>(A(),k(`div`,yl,[v(`label`,bl,i(e.label),1),v(`select`,{value:e.modelValue,onChange:r,class:`px-4 py-2 bg-gray-800 border border-gray-700 rounded-lg text-gray-100 focus:outline-none focus:border-blue-500 transition-colors`},[n[0]||=v(`option`,{value:``},`All`,-1),(A(!0),k(g,null,u(e.options,e=>(A(),k(`option`,{key:e.value,value:e.value},i(e.label),9,Sl))),128))],40,xl)]))}},wl={key:2,class:`space-y-6`},Tl={class:`flex gap-2 border-b border-gray-700`},El=[`onClick`],Dl={key:0,class:`absolute bottom-0 left-0 right-0 h-0.5 bg-blue-400`},Ol={class:`bg-gray-800 rounded-lg p-4 border border-gray-700`},kl={class:`text-gray-300`},Al={class:`font-bold text-blue-400`},jl={key:0,class:`text-gray-500 text-sm ml-2`},Ml={class:`flex gap-4 flex-wrap items-center`},Nl={class:`flex-1 min-w-[200px]`},Pl={key:0,class:`w-48`},Fl={key:1,class:`w-48`},Il={key:2,class:`w-56`},Ll={key:3,class:`flex items-center gap-2 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg`},Rl={key:4,class:`flex items-center gap-2 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg`},zl={key:5,class:`flex items-center gap-2 px-3 py-2 bg-gray-800 border border-gray-700 rounded-lg`},Bl={key:0,class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`},Vl=[`onClick`],Hl={key:0,class:`absolute top-2 right-2 flex gap-1`},Ul=[`onClick`],Wl={class:`w-7 h-7 bg-gray-900 rounded flex items-center justify-center text-xs text-gray-400`},Gl=[`onClick`],Kl={class:`flex items-start gap-3 mb-2`},ql={class:`font-bold text-blue-400 flex-1 pr-24`},Jl={key:0,class:`text-yellow-400 mr-1`,title:`Unique weapon`},Yl={key:1,class:`mr-1`,title:`Ancient/Royal`},Xl={key:2,class:`mr-1`,title:`Loot`},Zl={key:3,class:`mr-1`,title:`Chaos`},Ql={class:`text-sm text-gray-400 space-y-1`},$l={key:0,class:`text-xs text-gray-500`},eu={key:1},tu={key:2},nu={key:3},ru={key:4,class:`text-green-400`},iu={key:5,class:`mt-2 pt-2 border-t border-gray-700`},au={class:`text-xs text-gray-500 mb-1`},ou={class:`flex flex-wrap gap-1`},su=[`onClick`],cu={class:`text-xs px-2 py-1 text-gray-400 italic`},lu=[`onClick`],uu=[`onClick`],du={class:`flex items-start gap-3 mb-2`},fu={class:`font-bold text-blue-400 flex-1`},pu={key:0,class:`text-yellow-400 mr-1`,title:`Unique weapon`},mu={key:1,class:`mr-1`,title:`Ancient/Royal`},hu={key:2,class:`mr-1`,title:`Loot`},gu={key:3,class:`mr-1`,title:`Chaos`},_u={class:`text-sm text-gray-400 space-y-1`},vu={key:0,class:`text-xs text-gray-500`},yu={key:1},bu={key:2},xu={key:3},Su={key:4,class:`text-green-400`},Cu={key:5,class:`mt-2 pt-2 border-t border-gray-700`},wu={class:`text-xs text-gray-500 mb-1`},Tu={class:`flex flex-wrap gap-1`},Eu=[`onClick`],Du={class:`text-xs px-2 py-1 text-gray-400 italic`},Ou=[`onClick`],ku={key:1,class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`},Au=[`onClick`],ju={class:`absolute top-2 right-2 flex gap-1`},Mu=[`onClick`],Nu={class:`w-7 h-7 bg-gray-900 rounded flex items-center justify-center text-xs text-gray-400`},Pu=[`onClick`],Fu={class:`flex items-start gap-3 mb-2`},Iu={class:`font-bold text-blue-400 flex-1`},Lu={key:0,class:`text-yellow-400 mr-1`,title:`Unique crew`},Ru={key:1,class:`mr-1`,title:`Chaos`},zu={class:`text-sm text-gray-400 space-y-1`},Bu={key:0,class:`text-xs text-gray-500`},Vu={key:1,class:`text-gray-300 py-2`},Hu={key:2,class:`py-2`},Uu={class:`list-disc list-inside space-y-0.5 text-gray-300`},Wu={key:3,class:`text-green-400`},Gu={key:4,class:`mt-2 pt-2 border-t border-gray-700`},Ku={class:`text-xs text-gray-500 mb-1`},qu={class:`flex flex-wrap gap-1`},Ju=[`onClick`],Yu={class:`text-xs px-2 py-1 text-gray-400 italic`},Xu=[`onClick`],Zu=[`onClick`],Qu={class:`flex items-start gap-3 mb-2`},$u={class:`font-bold text-blue-400 flex-1`},ed={key:0,class:`text-yellow-400 mr-1`,title:`Unique crew`},td={key:1,class:`mr-1`,title:`Chaos`},nd={class:`text-sm text-gray-400 space-y-1`},rd={key:0,class:`text-xs text-gray-500`},id={key:1,class:`text-gray-300 py-2`},ad={key:2,class:`py-2`},od={class:`list-disc list-inside space-y-0.5 text-gray-300`},sd={key:3,class:`text-green-400`},cd={key:4,class:`mt-2 pt-2 border-t border-gray-700`},ld={class:`text-xs text-gray-500 mb-1`},ud={class:`flex flex-wrap gap-1`},dd=[`onClick`],fd={class:`text-xs px-2 py-1 text-gray-400 italic`},pd=[`onClick`],md={key:2,class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`},hd=[`onClick`],gd={key:0,class:`absolute top-2 right-2 flex gap-1`},_d=[`onClick`],vd={class:`w-7 h-7 bg-gray-900 rounded flex items-center justify-center text-xs text-gray-400`},yd=[`onClick`],bd={class:`font-bold text-blue-400 mb-2 pr-24`},xd={key:0,class:`text-yellow-400 mr-1`,title:`Locked augment`},Sd={key:1,class:`text-yellow-400 mr-1`,title:`Unique augment`},Cd={key:2,class:`mr-1`,title:`Ancient/Royal`},wd={key:3,class:`mr-1`,title:`Chaos`},Td={class:`text-sm text-gray-400 space-y-1`},Ed={key:0,class:`text-xs text-gray-500`},Dd={key:1,class:`text-gray-300 py-1`},Od={key:2,class:`text-green-400`},kd={key:3},Ad={key:4},jd={key:5,class:`mt-2 pt-2 border-t border-gray-700`},Md={class:`text-xs text-gray-500 mb-1`},Nd={class:`flex flex-wrap gap-1`},Pd=[`onClick`],Fd={class:`text-xs px-2 py-1 text-gray-400 italic`},Id=[`onClick`],Ld=[`onClick`],Rd={class:`font-bold text-blue-400 mb-2`},zd={key:0,class:`text-yellow-400 mr-1`,title:`Locked augment`},Bd={key:1,class:`text-yellow-400 mr-1`,title:`Unique augment`},Vd={key:2,class:`mr-1`,title:`Ancient/Royal`},Hd={key:3,class:`mr-1`,title:`Chaos`},Ud={class:`text-sm text-gray-400 space-y-1`},Wd={key:0,class:`text-xs text-gray-500`},Gd={key:1,class:`text-gray-300 py-1`},Kd={key:2,class:`text-green-400`},qd={key:3},Jd={key:4},Yd={key:5,class:`mt-2 pt-2 border-t border-gray-700`},Xd={class:`text-xs text-gray-500 mb-1`},Zd={class:`flex flex-wrap gap-1`},Qd=[`onClick`],$d={class:`text-xs px-2 py-1 text-gray-400 italic`},ef=[`onClick`],tf={key:3,class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4`},nf=[`onClick`],rf={class:`absolute top-2 right-2 flex gap-1`},af=[`onClick`],of={class:`px-2 py-1 text-xs text-gray-400`},sf=[`onClick`],cf={class:`flex items-start gap-3 mb-2`},lf={class:`font-bold text-blue-400 flex-1 pr-24`},uf={key:0,class:`text-yellow-400 mr-1`,title:`Unique drone`},df={key:1,class:`mr-1`,title:`Ancient/Royal`},ff={key:2,class:`mr-1`,title:`Loot`},pf={key:3,class:`mr-1`,title:`Chaos`},mf={class:`text-sm text-gray-400 space-y-1`},hf={key:0,class:`text-xs text-gray-500`},gf={key:1},_f={key:2},vf={key:3,class:`text-green-400`},yf={key:4,class:`mt-2 pt-2 border-t border-gray-700`},bf={class:`text-xs text-gray-500 mb-1`},xf={class:`flex flex-wrap gap-1`},Sf=[`onClick`],Cf={class:`text-xs px-2 py-1 text-gray-400 italic`},wf=[`onClick`],Tf=[`onClick`],Ef={class:`flex items-start gap-3 mb-2`},Df={class:`font-bold text-blue-400 flex-1`},Of={key:0,class:`text-yellow-400 mr-1`,title:`Unique drone`},kf={key:1,class:`mr-1`,title:`Ancient/Royal`},Af={key:2,class:`mr-1`,title:`Loot`},jf={key:3,class:`mr-1`,title:`Chaos`},Mf={class:`text-sm text-gray-400 space-y-1`},Nf={key:0,class:`text-xs text-gray-500`},Pf={key:1},Ff={key:2},If={key:3,class:`text-green-400`},Lf={key:4,class:`mt-2 pt-2 border-t border-gray-700`},Rf={class:`text-xs text-gray-500 mb-1`},zf={class:`flex flex-wrap gap-1`},Bf=[`onClick`],Vf={class:`text-xs px-2 py-1 text-gray-400 italic`},Hf=[`onClick`],Uf={key:4,class:`grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4`},Wf=[`onClick`],Gf=[`title`],Kf={class:`text-sm text-gray-400 space-y-1`},qf=[`title`],Jf={key:0,class:`flex items-center gap-2`},Yf={class:`text-white`},Xf={key:1,class:`flex items-center gap-2`},Zf={class:`text-white`},Qf={key:2,class:`flex items-center gap-2`},$f={class:`text-white`},ep={key:3,class:`flex items-center gap-2`},tp={class:`text-white`},np={class:`flex flex-wrap gap-1`},rp=[`onClick`],ip={class:`flex flex-wrap gap-1`},ap=[`onClick`],op=[`onClick`],sp={class:`flex flex-wrap gap-1`},cp=[`onClick`],lp={__name:`BlueprintsPage`,setup(n){let r=f(),m=ee(),{loading:y,error:w,blueprintArrays:T,fetchBlueprints:E}=me(),{fetchSectors:te}=de(),{getSectorsForItem:D,getSectorCount:O}=xe(),{fetchTextBlueprints:ne}=cn(),{fetchAnimations:M,getCrewThumbnailStyle:N}=fn(),{observeThumbnail:P}=_n(),{observeThumbnail:F}=hi(),I=b(`weapons`),L=b(``),R=b(``),z=b(``),B=b(``),V=b(``),re=b(!1),ie=b(!1),ae=b(!1),oe=b({}),H=b({}),se=b({}),ce=b({}),le=b(null),U=b(null),W=C({get:()=>le.value!==null,set:e=>{e||(le.value=null,U.value=null)}}),ue=b(null),G=b(null),fe=C({get:()=>ue.value!==null,set:e=>{e||(ue.value=null,G.value=null)}}),K=b(null),q=b(null),pe=C({get:()=>K.value!==null,set:e=>{e||(K.value=null,q.value=null)}}),J=b(null),Y=b(null),he=C({get:()=>J.value!==null,set:e=>{e||(J.value=null)}}),ge=b(null),_e=b(null),X=C({get:()=>ge.value!==null,set:e=>{e||(ge.value=null,_e.value=null)}}),ve=[{id:`weapons`,name:`Weapons`},{id:`crew`,name:`Crew`},{id:`augments`,name:`Augments`},{id:`drones`,name:`Drones`},{id:`ships`,name:`Ships`}];l(async()=>{if(await Promise.all([E(),te(),ne(),M()]),r.query.tab&&(I.value=r.query.tab),r.query.search&&(L.value=r.query.search),r.query.id){B.value=r.query.id;let e=r.query.id,t=r.query.tab;setTimeout(()=>{if(t===`weapons`){let t=T.value.weapons?.find(t=>t?.weaponBlueprint?.name===e);t&&ke(t)}else if(t===`crew`){let t=T.value.crew?.find(t=>t?.crewBlueprint?.name===e);t&&je(t)}else if(t===`augments`){let t=T.value.augments?.find(t=>t?.augBlueprint?.name===e);t&&Fe(t)}else if(t===`drones`){let t=T.value.drones?.find(t=>t?.droneBlueprint?.name===e);t&&Ne(t)}else if(t===`ships`){let t=T.value.ships?.find(t=>t?.shipBlueprint?._id===e||t?.shipBlueprint?.name===e);t&&Ie(t)}},100)}r.query.rarity&&(R.value=r.query.rarity),r.query.type&&(z.value=r.query.type),window.addEventListener(`keydown`,be)}),t(()=>{window.removeEventListener(`keydown`,be)});function ye(){if(B.value){B.value=``;let e={...r.query};delete e.id,m.replace({query:e})}}function be(e){if((e.ctrlKey||e.metaKey)&&e.key===`k`&&(e.preventDefault(),document.querySelector(`input[type="text"]`)?.focus()),e.key===`Escape`&&(W.value?le.value=null:fe.value?(ue.value=null,G.value=null):pe.value?(K.value=null,q.value=null):he.value?J.value=null:(L.value||R.value||z.value)&&(L.value=``,R.value=``,z.value=``)),e.key>=`1`&&e.key<=`5`&&!e.ctrlKey&&!e.metaKey){let t=e.target;if(t.tagName===`INPUT`||t.tagName===`SELECT`)return;let n=ve[parseInt(e.key)-1]?.id;n&&(I.value=n)}}s(()=>r.query,e=>{e.tab&&(I.value=e.tab),e.search!==void 0&&(L.value=e.search||``),e.id!==void 0&&(B.value=e.id||``),e.rarity!==void 0&&(R.value=e.rarity||``),e.type!==void 0&&(z.value=e.type||``)},{deep:!0}),s([L,B,R,z],()=>{let e={};L.value&&(e.search=L.value),B.value&&(e.id=B.value),I.value!==`weapons`&&(e.tab=I.value),R.value&&(e.rarity=R.value),z.value&&(e.type=z.value),m.replace({query:e})});let Se=C(()=>{let e=L.value.toLowerCase(),t=t=>t&&typeof t==`string`&&t.toLowerCase().includes(e),n=e=>R.value?e&&e.toString()===R.value:!0,r=e=>z.value?e&&typeof e==`string`&&e.toLowerCase().includes(z.value.toLowerCase()):!0,i=e=>B.value?e&&e===B.value:!0,a=(e,t,n)=>{if(e){let t=(typeof e==`string`?e:e.text||``).toLowerCase();if(t.includes(`you should never see`)||t.includes(`should never be seen`))return!0}return!!(n&&(typeof n==`string`?n:n.text||``).toLowerCase().includes(`should never see`)||t&&t.toUpperCase().endsWith(`_ENEMY`)||t.toUpperCase().includes(`_PROJ`))},o=e=>e?e.toLowerCase().startsWith(`task_`):!1,s=e=>{if(!e)return!1;let t=e.toLowerCase();return[`energy`,`human_rebel`,`human_rebel_medic`,`tinybug`,`unique_vance`,`unique_leah`,`unique_leah_mfk`,`unique_cyra`,`sylvanleah`,`nexus_pants`,`easter_`,`a55`,`gana`].some(e=>t.includes(e))},c=(e,t)=>{if(!e)return!1;if(/\[(M|X|L)\]/i.test(e))return!0;if(t){let e=typeof t==`string`?t:t.text||``;if(/\[Level\s+\w+\]/i.test(e))return!0}return!1},l=e=>{let t=new Set([`Performance Upgrade`,`Blessed`]),n=e=>e?e.replace(/\s*\[(M|X|L)\]\s*$/i,``).replace(/^\s*\[(M|X|L)\]\s*/i,``).trim():null,r=e=>e?e.replace(/^UPG_TECH_/i,``).replace(/^UPG_WEAPONS_/i,``).replace(/^UPG_ARTILLERY_/i,``).replace(/^UPG_/i,``).replace(/^EX_/i,``):null,i={},a=e=>(i[e]===void 0&&(i[e]=e),i[e]!==e&&(i[e]=a(i[e])),i[e]),o=(e,t)=>{let n=a(e),r=a(t);n!==r&&(i[n]=r)},s={},l={};e.forEach((e,t)=>{let i=e?.augBlueprint;if(!i)return;let a=n(i.title||i.name),o=r(i.name);a&&(s[a]||(s[a]=[]),s[a].push(t)),o&&(l[o]||(l[o]=[]),l[o].push(t))}),Object.entries(s).forEach(([e,n])=>{if(!t.has(e))for(let e=1;e<n.length;e++)o(n[0],n[e])}),Object.values(l).forEach(e=>{for(let t=1;t<e.length;t++)o(e[0],e[t])});let u={};e.forEach((e,t)=>{let n=a(t);u[n]||(u[n]=[]),u[n].push(e)});let d=[];return Object.values(u).forEach(e=>{let t=e[0]?.augBlueprint;if(!t)return;let r=n(t.title||t.name)||t.name,i=e.some(e=>c(e?.augBlueprint?.title,e?.augBlueprint?.desc));if(e.length>1||i){let t=[...e].sort((e,t)=>{let n=e?.augBlueprint,r=t?.augBlueprint,i=O(n?.name,`augments`),a=O(r?.name,`augments`);if(i!==a)return a-i;let o=n?.desc,s=r?.desc,c=typeof o==`string`?o:o?.text||``;return(typeof s==`string`?s:s?.text||``).length-c.length});d.push({isGroup:!0,baseName:r,versions:t,currentIndex:oe.value[r]||0})}else d.push({isGroup:!1,augment:e[0]})}),d.sort((e,t)=>{let n=e.isGroup?e.baseName:e.augment?.augBlueprint?.title||e.augment?.augBlueprint?.name||``,r=t.isGroup?t.baseName:t.augment?.augBlueprint?.title||t.augment?.augBlueprint?.name||``;return n.localeCompare(r)}),d},u=e=>{let t=[`CLONE_CANNON`,`SCANNER_`,`AWESOME_`,`MODULAR_CHARGE_`,`MODULAR_CHARGE_CHAOS_`,`MODULAR_LASER_`,`MODULAR_BEAM_`,`MODULAR_MISSILE_`,`MODULAR_ION_`,`SHOTGUN_TOGGLE`,`GATLING_SYLVAN`],n=[`SHOTGUN_TOGGLE_CHAOS`,`GATLING_ANCIENT`,`PART_GATLING_BARREL`,`PART_GATLING_BASE`],r={},i=[];e.forEach(e=>{let a=e?.weaponBlueprint;if(!a?.name){i.push(e);return}if(n.some(e=>a.name.includes(e))){i.push(e);return}if(a.name===`GATLING`||a.name.startsWith(`GATLING_VERSION`)){r.GATLING_NUMBERED||=[],r.GATLING_NUMBERED.push(e);return}let o=t.find(e=>a.name.includes(e));o?(r[o]||(r[o]=[]),r[o].push(e)):i.push(e)});let a=[];for(let[e,t]of Object.entries(r))if(t.length>1){let n=t.sort((t,n)=>{let r=t?.weaponBlueprint,i=n?.weaponBlueprint;if(e===`GATLING_NUMBERED`){if(r?.name===`GATLING`)return-1;if(i?.name===`GATLING`)return 1}let a=O(r?.name,`weapons`),o=O(i?.name,`weapons`);return a===o?(r?.title||r?.name||``).localeCompare(i?.title||i?.name||``):o-a}),r=n[0]?.weaponBlueprint?.title||e;a.push({isGroup:!0,groupName:r,versions:n,currentIndex:H.value[r]||0})}else i.push(t[0]);return i.forEach(e=>{a.push({isGroup:!1,weapon:e})}),a.sort((e,t)=>{let n=e.isGroup?e.groupName:e.weapon?.weaponBlueprint?.title||e.weapon?.weaponBlueprint?.name||``,r=t.isGroup?t.groupName:t.weapon?.weaponBlueprint?.title||t.weapon?.weaponBlueprint?.name||``;return n.localeCompare(r)}),a},d=e=>{let t=[`_nano`,`_box`,`_automated`,`_defector`,`_tamed`,`_temp`,`_noclone`],n=[`unique_freddy`,`unique_ellie`,`unique_ooj`,`unique_irwin`,`sylvan`,`blob`,`techno`,`gold`],r={};e.forEach(e=>{let i=e?.crewBlueprint;if(!i?.name)return;let a=i.name.toLowerCase(),o=null,s=!1,c=n.find(e=>a.startsWith(e.toLowerCase()));if(c&&(o=c,s=!0),!s){let e=t.find(e=>a.includes(e.toLowerCase()));if(e){let t=a.indexOf(e.toLowerCase());o=i.name.substring(0,t)+i.name.substring(t+e.length)}else o=i.name}r[o]||(r[o]=[]),r[o].push(e)});let i=[];for(let[e,t]of Object.entries(r))if(t.length>1){let n=t.sort((e,t)=>{let n=e?.crewBlueprint,r=t?.crewBlueprint,i=O(n?.name,`crew`),a=O(r?.name,`crew`);return i===a?(n?.name||``).localeCompare(r?.name||``):a-i}),r=n[0]?.crewBlueprint?.name||e;i.push({isGroup:!0,groupName:r,versions:n,currentIndex:ce.value[r]||0})}else i.push({isGroup:!1,crew:t[0]});return i.sort((e,t)=>{let n=e.isGroup?e.groupName:e.crew?.crewBlueprint?.name||``,r=t.isGroup?t.groupName:t.crew?.crewBlueprint?.name||``;return n.localeCompare(r)}),i},f=e=>{let t=`SYMBIONT.A55_.AMPHI_.ASSAULT_.ATOMR_.ATOM_.BATTLETOG2_.BATTLETOG_.BUTLER_.COMBAT_1_.COMBAT_2_.COMBAT_CONSERVATIVE_.DEFENSE_TRINITY_.DOCTOR_.FOREMAN_.GANA_.GRAZIER_.GUARDIAN_1_.GUARDIAN_2_.HELLRAISER_.HOLODRONE_.LOOT_AUTO_1_.LOOT_ESTATE_1_.LOOT_SEPARATIST_1_.PEST_.RECON_.ROOMBA_.SURGEON_.YINYANG_`.split(`.`),n={},r=[];e.forEach(e=>{let i=e?.droneBlueprint;if(!i?.name){r.push(e);return}let a=t.find(e=>i.name.startsWith(e));if(a){let t=i.name.includes(`_CHAOS`)||i.name.includes(`_PLAYER`)?`${a}_VARIANT`:a;n[t]||(n[t]=[]),n[t].push(e)}else{let t=i.name.match(/^(.+)_AMP\d+$/);if(t){let r=t[1];n[r]||(n[r]=[]),n[r].push(e)}else r.push(e)}});let i=[];for(let[e,t]of Object.entries(n))if(t.length>1){let n=t.sort((e,t)=>{let n=e?.droneBlueprint,r=t?.droneBlueprint,i=O(n?.name,`drones`),a=O(r?.name,`drones`);return i===a?(n?.title||n?.name||``).localeCompare(r?.title||r?.name||``):a-i}),r=n[0]?.droneBlueprint?.title||e;i.push({isGroup:!0,groupName:r,versions:n,currentIndex:se.value[r]||0})}else r.push(t[0]);return r.forEach(e=>{i.push({isGroup:!1,drone:e})}),i.sort((e,t)=>{let n=e.isGroup?e.groupName:e.drone?.droneBlueprint?.title||e.drone?.droneBlueprint?.name||``,r=t.isGroup?t.groupName:t.drone?.droneBlueprint?.title||t.drone?.droneBlueprint?.name||``;return n.localeCompare(r)}),i},p=u((T.value.weapons||[]).filter(n=>{let o=n?.weaponBlueprint;return a(o?.desc,o?.name,o?.tooltip)||!i(o?.name)||o?.name&&o.name.includes(`DRONE_`)&&!e.includes(`drone`)||!ie.value&&o?.name&&(o.name.includes(`ARTILLERY`)&&o.name!==`BA_LASER_ARTILLERY_2`||o.name.includes(`ARBITER`))?!1:(!e||t(o?.name)||t(o?.title)||t(o?.type))&&r(o?.type)}));return V.value&&(p=p.sort((e,t)=>{let n,r;return n=e.isGroup?Math.max(...e.versions.map(e=>parseFloat(e?.weaponBlueprint?.[V.value])||0)):parseFloat(e?.weapon?.weaponBlueprint?.[V.value])||0,r=t.isGroup?Math.max(...t.versions.map(e=>parseFloat(e?.weaponBlueprint?.[V.value])||0)):parseFloat(t?.weapon?.weaponBlueprint?.[V.value])||0,r-n})),{weapons:p,crew:d((T.value.crew||[]).filter(n=>{let r=n?.crewBlueprint;if(a(r?.desc,r?.name)||!i(r?.name)||s(r?.name)&&!e||r?.cost&&parseInt(r.cost)>=1e4&&!e)return!1;let o=!e||t(r?.name)||t(r?.race),c=r?.name?.startsWith(`unique_`),l=!z.value||z.value===`unique`&&c||z.value===`non-unique`&&!c;return o&&l})),augments:l((T.value.augments||[]).filter(r=>{let s=r?.augBlueprint;return a(s?.desc,s?.name)||!i(s?.name)||!re.value&&o(s?.name)?!1:(!e||t(s?.name)||t(s?.title))&&n(s?.rarity)})),drones:f((T.value.drones||[]).filter(n=>{let o=n?.droneBlueprint;if(a(o?.desc,o?.name)||!i(o?.name))return!1;let s=parseInt(o?.cost);return!isNaN(s)&&s>1e3?!1:(!e||t(o?.name)||t(o?.title)||t(o?.type))&&r(o?.type)})),ships:(T.value.ships||[]).filter(n=>{let r=n?.shipBlueprint;if(!r||!i(r?._id||r?.name))return!1;if(ae.value){let e=r?._id||r?.name;if(!e||!e.startsWith(`PLAYER_SHIP`))return!1}return!e||t(r?._id)||t(r?.name)||t(r?.class)})}}),Ce=C(()=>{if(I.value===`augments`){let e=new Set;return T.value.augments?.forEach(t=>{let n=t?.augBlueprint?.rarity;n&&e.add(n.toString())}),{type:`rarity`,options:Array.from(e).sort((e,t)=>parseInt(e)-parseInt(t)).map(e=>({value:e,label:`Rarity ${e}`}))}}else if(I.value===`weapons`){let e=new Set;return T.value.weapons?.forEach(t=>{let n=t?.weaponBlueprint?.type;n&&e.add(n)}),{type:`type`,options:Array.from(e).sort().map(e=>({value:e,label:e}))}}else if(I.value===`crew`)return{type:`type`,options:[{value:`unique`,label:`Unique Crew Only`},{value:`non-unique`,label:`Non-Unique Crew Only`}]};else if(I.value===`drones`){let e=new Set;return T.value.drones?.forEach(t=>{let n=t?.droneBlueprint?.type;n&&e.add(n)}),{type:`type`,options:Array.from(e).sort().map(e=>({value:e,label:e}))}}return{type:null,options:[]}}),we=C(()=>I.value===`weapons`?[{value:`hullDPSMax`,label:`Hull DPS (High to Low)`},{value:`crewDPSMax`,label:`Crew DPS (High to Low)`},{value:`sysDPSMax`,label:`System DPS (High to Low)`},{value:`ionDPSMax`,label:`Ion DPS (High to Low)`}]:[]);s(I,()=>{R.value=``,z.value=``,V.value=``});function Te(e){return e?.replace(/_/g,` `)||`Unknown`}function Z(e){return e.replace(/_/g,` `).replace(/SECTOR /g,``)}function Q(e){m.push({path:`/sectors`,query:{search:e}})}function $(e,t){let n=D(e,t);return n.length<=4?{sectors:n,hasMore:!1,remaining:0}:{sectors:n.slice(0,4),hasMore:!0,remaining:n.length-4}}function Ee(e){return e?e.name?.startsWith(`unique_`)?e.name.substring(7).split(`_`).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(` `):e.name?.toLowerCase().startsWith(`gb`)?e.name.substring(2).split(`_`).map(e=>e.charAt(0).toUpperCase()+e.slice(1).toLowerCase()).join(` `):e.title||Te(e.name):`Unknown`}function Oe(e){if(!e?.powerList)return[];let t=e.powerList;if(t.power){if(Array.isArray(t.power))return t.power;if(typeof t.power==`string`)return[t.power]}return[]}function ke(e,t=null){le.value=e,U.value=t}function Ae(e){if(!U.value)return;let{versions:t,groupName:n}=U.value,r=(H.value[n]||0)+e;r<0&&(r=t.length-1),r>=t.length&&(r=0),H.value[n]=r,le.value=t[r]}function je(e,t=null){ue.value=e,G.value=t}function Me(e){if(!G.value)return;let{versions:t,groupName:n}=G.value,r=(ce.value[n]||0)+e;r<0&&(r=t.length-1),r>=t.length&&(r=0),ce.value[n]=r,ue.value=t[r]}function Ne(e,t=null){K.value=e,q.value=t}function Pe(e){if(!q.value)return;let{versions:t,groupName:n}=q.value,r=(se.value[n]||0)+e;r<0&&(r=t.length-1),r>=t.length&&(r=0),se.value[n]=r,K.value=t[r]}function Fe(e,t=null){ge.value=e,_e.value=t}function Ie(e){J.value=e}function Le(e){let t=T.value.crew?.find(t=>t?.crewBlueprint?.name===e);t&&(Y.value=J.value,J.value=null,ue.value=t,G.value=null)}function Re(e){let t=T.value.weapons?.find(t=>t?.weaponBlueprint?.name===e);t&&(Y.value=J.value,J.value=null,le.value=t,U.value=null)}function ze(e){let t=T.value.drones?.find(t=>t?.droneBlueprint?.name===e);t&&(Y.value=J.value,J.value=null,K.value=t,q.value=null)}function Be(e){let t=T.value.augments?.find(t=>t?.augBlueprint?.name===e);t&&(Y.value=J.value,J.value=null,ge.value=t,_e.value=null)}function Ve(e,t){let n=Se.value.augments.find(t=>t.isGroup&&t.baseName===e);if(!n)return;let r=(oe.value[e]||0)+t;r<0&&(r=n.versions.length-1),r>=n.versions.length&&(r=0),oe.value[e]=r}function He(e,t){let n=Se.value.weapons.find(t=>t.isGroup&&t.groupName===e);if(!n)return;let r=(H.value[e]||0)+t;r<0&&(r=n.versions.length-1),r>=n.versions.length&&(r=0),H.value[e]=r}function Ue(e,t){let n=Se.value.drones.find(t=>t.isGroup&&t.groupName===e);if(!n)return;let r=(se.value[e]||0)+t;r<0&&(r=n.versions.length-1),r>=n.versions.length&&(r=0),se.value[e]=r}function We(e,t){let n=Se.value.crew.find(t=>t.isGroup&&t.groupName===e);if(!n)return;let r=(ce.value[e]||0)+t;r<0&&(r=n.versions.length-1),r>=n.versions.length&&(r=0),ce.value[e]=r}return(t,n)=>(A(),k(`div`,null,[n[23]||=v(`h2`,{class:`text-3xl font-bold mb-6`},`Blueprints`,-1),a(y)?(A(),_(Qt,{key:0,message:`Loading blueprints data...`})):a(w)?(A(),_(rn,{key:1,error:a(w)},null,8,[`error`])):(A(),k(`div`,wl,[v(`div`,Tl,[(A(),k(g,null,u(ve,e=>v(`button`,{key:e.id,onClick:t=>I.value=e.id,class:o([`px-6 py-3 font-semibold transition-colors relative`,I.value===e.id?`text-blue-400`:`text-gray-400 hover:text-gray-300`])},[p(i(e.name)+` `,1),I.value===e.id?(A(),k(`span`,Dl)):d(``,!0)],10,El)),64))]),v(`div`,Ol,[v(`p`,kl,[p(` Total `+i(I.value)+`: `,1),v(`span`,Al,i(Se.value[I.value]?.length||0),1),L.value||B.value||R.value||z.value?(A(),k(`span`,jl,` (filtered from `+i(a(T)[I.value]?.length||0)+`) `,1)):d(``,!0)])]),v(`div`,Ml,[v(`div`,Nl,[j(De,{modelValue:L.value,"onUpdate:modelValue":n[0]||=e=>L.value=e,placeholder:`Search blueprints...`},null,8,[`modelValue`])]),Ce.value.type===`rarity`?(A(),k(`div`,Pl,[j(Cl,{modelValue:R.value,"onUpdate:modelValue":n[1]||=e=>R.value=e,label:`Rarity`,options:Ce.value.options},null,8,[`modelValue`,`options`])])):d(``,!0),Ce.value.type===`type`?(A(),k(`div`,Fl,[j(Cl,{modelValue:z.value,"onUpdate:modelValue":n[2]||=e=>z.value=e,label:I.value===`crew`?`Availability`:`Type`,options:Ce.value.options},null,8,[`modelValue`,`label`,`options`])])):d(``,!0),we.value.length>0?(A(),k(`div`,Il,[j(Cl,{modelValue:V.value,"onUpdate:modelValue":n[3]||=e=>V.value=e,label:`Sort By`,options:we.value},null,8,[`modelValue`,`options`])])):d(``,!0),I.value===`augments`?(A(),k(`div`,Ll,[e(v(`input`,{type:`checkbox`,id:`showTaskAugments`,"onUpdate:modelValue":n[4]||=e=>re.value=e,class:`w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500`},null,512),[[S,re.value]]),n[12]||=v(`label`,{for:`showTaskAugments`,class:`text-sm text-gray-300 cursor-pointer`},` Show task augments `,-1)])):d(``,!0),I.value===`weapons`?(A(),k(`div`,Rl,[e(v(`input`,{type:`checkbox`,id:`showArtilleryWeapons`,"onUpdate:modelValue":n[5]||=e=>ie.value=e,class:`w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500`},null,512),[[S,ie.value]]),n[13]||=v(`label`,{for:`showArtilleryWeapons`,class:`text-sm text-gray-300 cursor-pointer`},` Show artillery weapons `,-1)])):d(``,!0),I.value===`ships`?(A(),k(`div`,zl,[e(v(`input`,{type:`checkbox`,id:`showPlayerShipsOnly`,"onUpdate:modelValue":n[6]||=e=>ae.value=e,class:`w-4 h-4 text-blue-600 bg-gray-700 border-gray-600 rounded focus:ring-blue-500`},null,512),[[S,ae.value]]),n[14]||=v(`label`,{for:`showPlayerShipsOnly`,class:`text-sm text-gray-300 cursor-pointer`},` Player ships only `,-1)])):d(``,!0)]),I.value===`weapons`?(A(),k(`div`,Bl,[(A(!0),k(g,null,u(Se.value.weapons,(e,t)=>(A(),k(g,{key:t},[e.isGroup?(A(),k(`div`,{key:0,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer relative`,onClick:t=>ke(e.versions[e.currentIndex],{versions:e.versions,groupName:e.groupName})},[e.versions.length>1?(A(),k(`div`,Hl,[v(`button`,{onClick:h(t=>He(e.groupName,-1),[`stop`]),class:`w-7 h-7 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-sm`,title:`Previous version`},` ‹ `,8,Ul),v(`span`,Wl,i(e.currentIndex+1)+`/`+i(e.versions.length),1),v(`button`,{onClick:h(t=>He(e.groupName,1),[`stop`]),class:`w-7 h-7 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-sm`,title:`Next version`},` › `,8,Gl)])):d(``,!0),e.versions[e.currentIndex]?.weaponBlueprint?(A(),k(g,{key:1},[v(`div`,Kl,[v(`canvas`,{width:`40`,height:`40`,class:`weapon-thumbnail flex-shrink-0`,ref_for:!0,ref:t=>t&&a(P)(e.versions[e.currentIndex].weaponBlueprint,t,40)},null,512),v(`h3`,ql,[e.versions[e.currentIndex].weaponBlueprint?.name?.startsWith(`GATLING`)?(A(),k(`span`,Jl,`⭐`)):d(``,!0),e.versions[e.currentIndex].weaponBlueprint?.name?.includes(`ANCIENT`)||e.versions[e.currentIndex].weaponBlueprint?.name?.includes(`ROYAL`)?(A(),k(`span`,Yl,`🗿`)):d(``,!0),e.versions[e.currentIndex].weaponBlueprint?.name?.startsWith(`LOOT_`)?(A(),k(`span`,Xl,`💰`)):d(``,!0),e.versions[e.currentIndex].weaponBlueprint?.name?.includes(`CHAOS`)?(A(),k(`span`,Zl,`🤯`)):d(``,!0),p(i(e.versions[e.currentIndex].weaponBlueprint?.title||Te(e.versions[e.currentIndex].weaponBlueprint?.name)),1)])]),v(`div`,Ql,[e.versions[e.currentIndex].weaponBlueprint?.name?(A(),k(`div`,$l,i(e.versions[e.currentIndex].weaponBlueprint.name),1)):d(``,!0),e.versions[e.currentIndex].weaponBlueprint?.type?(A(),k(`div`,eu,`Type: `+i(e.versions[e.currentIndex].weaponBlueprint.type),1)):d(``,!0),e.versions[e.currentIndex].weaponBlueprint?.power?(A(),k(`div`,tu,`Power: `+i(e.versions[e.currentIndex].weaponBlueprint.power),1)):d(``,!0),e.versions[e.currentIndex].weaponBlueprint?.damage?(A(),k(`div`,nu,`Damage: `+i(e.versions[e.currentIndex].weaponBlueprint.damage),1)):d(``,!0),e.versions[e.currentIndex].weaponBlueprint?.cost?(A(),k(`div`,ru,`Cost: `+i(e.versions[e.currentIndex].weaponBlueprint.cost),1)):d(``,!0),e.versions[e.currentIndex].weaponBlueprint?.name?(A(),k(`div`,iu,[v(`div`,au,` Found in `+i(a(O)(e.versions[e.currentIndex].weaponBlueprint.name,`weapons`))+` sector(s) `,1),v(`div`,ou,[$(e.versions[e.currentIndex].weaponBlueprint.name,`weapons`).hasMore?(A(),k(g,{key:0},[(A(!0),k(g,null,u($(e.versions[e.currentIndex].weaponBlueprint.name,`weapons`).sectors,e=>(A(),k(`button`,{key:e,onClick:h(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,su))),128)),v(`span`,cu,`and `+i($(e.versions[e.currentIndex].weaponBlueprint.name,`weapons`).remaining)+` more`,1)],64)):(A(!0),k(g,{key:1},u($(e.versions[e.currentIndex].weaponBlueprint.name,`weapons`).sectors,e=>(A(),k(`button`,{key:e,onClick:h(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,lu))),128))])])):d(``,!0)])],64)):d(``,!0)],8,Vl)):e.weapon?.weaponBlueprint?(A(),k(`div`,{key:1,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer`,onClick:t=>ke(e.weapon)},[v(`div`,du,[v(`canvas`,{width:`40`,height:`40`,class:`weapon-thumbnail flex-shrink-0`,ref_for:!0,ref:t=>a(P)(e.weapon.weaponBlueprint,t,40)},null,512),v(`h3`,fu,[e.weapon.weaponBlueprint?.name?.startsWith(`GATLING`)?(A(),k(`span`,pu,`⭐`)):d(``,!0),e.weapon.weaponBlueprint?.name?.includes(`ANCIENT`)||e.weapon.weaponBlueprint?.name?.includes(`ROYAL`)?(A(),k(`span`,mu,`🗿`)):d(``,!0),e.weapon.weaponBlueprint?.name?.startsWith(`LOOT_`)?(A(),k(`span`,hu,`💰`)):d(``,!0),e.weapon.weaponBlueprint?.name?.includes(`CHAOS`)?(A(),k(`span`,gu,`🤯`)):d(``,!0),p(i(e.weapon.weaponBlueprint?.title||Te(e.weapon.weaponBlueprint?.name)),1)])]),v(`div`,_u,[e.weapon.weaponBlueprint?.name?(A(),k(`div`,vu,i(e.weapon.weaponBlueprint.name),1)):d(``,!0),e.weapon.weaponBlueprint?.type?(A(),k(`div`,yu,`Type: `+i(e.weapon.weaponBlueprint.type),1)):d(``,!0),e.weapon.weaponBlueprint?.power?(A(),k(`div`,bu,`Power: `+i(e.weapon.weaponBlueprint.power),1)):d(``,!0),e.weapon.weaponBlueprint?.damage?(A(),k(`div`,xu,`Damage: `+i(e.weapon.weaponBlueprint.damage),1)):d(``,!0),e.weapon.weaponBlueprint?.cost?(A(),k(`div`,Su,`Cost: `+i(e.weapon.weaponBlueprint.cost),1)):d(``,!0),e.weapon.weaponBlueprint?.name?(A(),k(`div`,Cu,[v(`div`,wu,` Found in `+i(a(O)(e.weapon.weaponBlueprint.name,`weapons`))+` sector(s) `,1),v(`div`,Tu,[$(e.weapon.weaponBlueprint.name,`weapons`).hasMore?(A(),k(g,{key:0},[(A(!0),k(g,null,u($(e.weapon.weaponBlueprint.name,`weapons`).sectors,e=>(A(),k(`button`,{key:e,onClick:h(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,Eu))),128)),v(`span`,Du,`and `+i($(e.weapon.weaponBlueprint.name,`weapons`).remaining)+` more`,1)],64)):(A(!0),k(g,{key:1},u($(e.weapon.weaponBlueprint.name,`weapons`).sectors,e=>(A(),k(`button`,{key:e,onClick:h(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,Ou))),128))])])):d(``,!0)])],8,uu)):d(``,!0)],64))),128))])):d(``,!0),I.value===`crew`?(A(),k(`div`,ku,[(A(!0),k(g,null,u(Se.value.crew,(e,t)=>(A(),k(g,{key:t},[e.isGroup?(A(),k(`div`,{key:0,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer relative`,onClick:t=>je(e.versions[e.currentIndex],{versions:e.versions,groupName:e.groupName})},[v(`div`,ju,[v(`button`,{onClick:h(t=>We(e.groupName,-1),[`stop`]),class:`w-7 h-7 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-sm`,title:`Previous version`},` ‹ `,8,Mu),v(`span`,Nu,i(e.currentIndex+1)+`/`+i(e.versions.length),1),v(`button`,{onClick:h(t=>We(e.groupName,1),[`stop`]),class:`w-7 h-7 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-sm`,title:`Next version`},` › `,8,Pu)]),e.versions[e.currentIndex]?.crewBlueprint?(A(),k(g,{key:0},[v(`div`,Fu,[a(N)(e.versions[e.currentIndex].crewBlueprint).backgroundImage?(A(),k(`div`,{key:0,class:`flex-shrink-0`,style:c(a(N)(e.versions[e.currentIndex].crewBlueprint))},null,4)):d(``,!0),v(`h3`,Iu,[e.versions[e.currentIndex].crewBlueprint?.name?.startsWith(`unique_`)?(A(),k(`span`,Lu,`⭐`)):d(``,!0),e.versions[e.currentIndex].crewBlueprint?.name?.toUpperCase().includes(`CHAOS`)?(A(),k(`span`,Ru,`🤯`)):d(``,!0),p(i(Ee(e.versions[e.currentIndex].crewBlueprint)),1)])]),v(`div`,zu,[e.versions[e.currentIndex].crewBlueprint?.name?(A(),k(`div`,Bu,i(e.versions[e.currentIndex].crewBlueprint.name),1)):d(``,!0),e.versions[e.currentIndex].crewBlueprint?.desc?(A(),k(`div`,Vu,i(e.versions[e.currentIndex].crewBlueprint.desc),1)):d(``,!0),Oe(e.versions[e.currentIndex].crewBlueprint).length>0?(A(),k(`div`,Hu,[n[15]||=v(`div`,{class:`font-semibold text-gray-200 mb-1`},`Powers:`,-1),v(`ul`,Uu,[(A(!0),k(g,null,u(Oe(e.versions[e.currentIndex].crewBlueprint),(e,t)=>(A(),k(`li`,{key:t},i(e),1))),128))])])):d(``,!0),e.versions[e.currentIndex].crewBlueprint?.cost?(A(),k(`div`,Wu,` Cost: `+i(e.versions[e.currentIndex].crewBlueprint.cost),1)):d(``,!0),e.versions[e.currentIndex].crewBlueprint?.name?(A(),k(`div`,Gu,[v(`div`,Ku,` Found in `+i(a(O)(e.versions[e.currentIndex].crewBlueprint.name,`crew`))+` sector(s) `,1),v(`div`,qu,[$(e.versions[e.currentIndex].crewBlueprint.name,`crew`).hasMore?(A(),k(g,{key:0},[(A(!0),k(g,null,u($(e.versions[e.currentIndex].crewBlueprint.name,`crew`).sectors,e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,Ju))),128)),v(`span`,Yu,`and `+i($(e.versions[e.currentIndex].crewBlueprint.name,`crew`).remaining)+` more`,1)],64)):(A(!0),k(g,{key:1},u($(e.versions[e.currentIndex].crewBlueprint.name,`crew`).sectors,e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,Xu))),128))])])):d(``,!0)])],64)):d(``,!0)],8,Au)):e.crew?.crewBlueprint?(A(),k(`div`,{key:1,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer`,onClick:t=>je(e.crew)},[v(`div`,Qu,[a(N)(e.crew.crewBlueprint).backgroundImage?(A(),k(`div`,{key:0,class:`flex-shrink-0`,style:c(a(N)(e.crew.crewBlueprint))},null,4)):d(``,!0),v(`h3`,$u,[e.crew.crewBlueprint?.name?.startsWith(`unique_`)?(A(),k(`span`,ed,`⭐`)):d(``,!0),e.crew.crewBlueprint?.name?.toUpperCase().includes(`CHAOS`)?(A(),k(`span`,td,`🤯`)):d(``,!0),p(i(Ee(e.crew.crewBlueprint)),1)])]),v(`div`,nd,[e.crew.crewBlueprint?.name?(A(),k(`div`,rd,i(e.crew.crewBlueprint.name),1)):d(``,!0),e.crew.crewBlueprint?.desc?(A(),k(`div`,id,i(e.crew.crewBlueprint.desc),1)):d(``,!0),Oe(e.crew.crewBlueprint).length>0?(A(),k(`div`,ad,[n[16]||=v(`div`,{class:`font-semibold text-gray-200 mb-1`},`Powers:`,-1),v(`ul`,od,[(A(!0),k(g,null,u(Oe(e.crew.crewBlueprint),(e,t)=>(A(),k(`li`,{key:t},i(e),1))),128))])])):d(``,!0),e.crew.crewBlueprint?.cost?(A(),k(`div`,sd,`Cost: `+i(e.crew.crewBlueprint.cost),1)):d(``,!0),e.crew.crewBlueprint?.name?(A(),k(`div`,cd,[v(`div`,ld,` Found in `+i(a(O)(e.crew.crewBlueprint.name,`crew`))+` sector(s) `,1),v(`div`,ud,[$(e.crew.crewBlueprint.name,`crew`).hasMore?(A(),k(g,{key:0},[(A(!0),k(g,null,u($(e.crew.crewBlueprint.name,`crew`).sectors,e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,dd))),128)),v(`span`,fd,`and `+i($(e.crew.crewBlueprint.name,`crew`).remaining)+` more`,1)],64)):(A(!0),k(g,{key:1},u($(e.crew.crewBlueprint.name,`crew`).sectors,e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,pd))),128))])])):d(``,!0)])],8,Zu)):d(``,!0)],64))),128))])):d(``,!0),I.value===`augments`?(A(),k(`div`,md,[(A(!0),k(g,null,u(Se.value.augments,(e,t)=>(A(),k(g,{key:t},[e.isGroup?(A(),k(`div`,{key:0,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors relative cursor-pointer`,onClick:t=>Fe(e.versions[e.currentIndex],{versions:e.versions,groupName:e.baseName})},[e.versions.length>1?(A(),k(`div`,gd,[v(`button`,{onClick:h(t=>Ve(e.baseName,-1),[`stop`]),class:`w-7 h-7 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-sm`,title:`Previous version`},` ‹ `,8,_d),v(`span`,vd,i(e.currentIndex+1)+`/`+i(e.versions.length),1),v(`button`,{onClick:h(t=>Ve(e.baseName,1),[`stop`]),class:`w-7 h-7 bg-gray-700 hover:bg-blue-600 rounded flex items-center justify-center transition-colors text-sm`,title:`Next version`},` › `,8,yd)])):d(``,!0),e.versions[e.currentIndex]?.augBlueprint?(A(),k(g,{key:1},[v(`h3`,bd,[e.versions[e.currentIndex].augBlueprint?.name?.startsWith(`LOCKED_`)?(A(),k(`span`,xd,`🔒`)):d(``,!0),e.versions[e.currentIndex].augBlueprint?.name?.includes(`PREIGNITE`)?(A(),k(`span`,Sd,`⭐`)):d(``,!0),e.versions[e.currentIndex].augBlueprint?.name?.includes(`ANCIENT`)||e.versions[e.currentIndex].augBlueprint?.name?.includes(`ROYAL`)?(A(),k(`span`,Cd,`🗿`)):d(``,!0),e.versions[e.currentIndex].augBlueprint?.name?.includes(`CHAOS`)?(A(),k(`span`,wd,`🤯`)):d(``,!0),p(i(e.versions[e.currentIndex].augBlueprint?.title||Te(e.versions[e.currentIndex].augBlueprint?.name)),1)]),v(`div`,Td,[e.versions[e.currentIndex].augBlueprint?.name?(A(),k(`div`,Ed,i(e.versions[e.currentIndex].augBlueprint.name),1)):d(``,!0),e.versions[e.currentIndex].augBlueprint?.desc?(A(),k(`div`,Dd,i(typeof e.versions[e.currentIndex].augBlueprint.desc==`string`?e.versions[e.currentIndex].augBlueprint.desc:e.versions[e.currentIndex].augBlueprint.desc.text),1)):d(``,!0),e.versions[e.currentIndex].augBlueprint?.cost?(A(),k(`div`,Od,` Cost: `+i(e.versions[e.currentIndex].augBlueprint.cost),1)):d(``,!0),e.versions[e.currentIndex].augBlueprint?.rarity?(A(),k(`div`,kd,` Rarity: `+i(e.versions[e.currentIndex].augBlueprint.rarity),1)):d(``,!0),e.versions[e.currentIndex].augBlueprint?.stackable?(A(),k(`div`,Ad,[n[17]||=p(` Stackable: `,-1),v(`span`,{class:o(e.versions[e.currentIndex].augBlueprint.stackable===`true`?`text-green-400`:`text-red-400`)},i(e.versions[e.currentIndex].augBlueprint.stackable===`true`?`Yes`:`No`),3)])):d(``,!0),e.versions[e.currentIndex].augBlueprint?.name?(A(),k(`div`,jd,[v(`div`,Md,` Found in `+i(a(O)(e.versions[e.currentIndex].augBlueprint.name,`augments`))+` sector(s) `,1),v(`div`,Nd,[$(e.versions[e.currentIndex].augBlueprint.name,`augments`).hasMore?(A(),k(g,{key:0},[(A(!0),k(g,null,u($(e.versions[e.currentIndex].augBlueprint.name,`augments`).sectors,e=>(A(),k(`button`,{key:e,onClick:h(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,Pd))),128)),v(`span`,Fd,`and `+i($(e.versions[e.currentIndex].augBlueprint.name,`augments`).remaining)+` more`,1)],64)):(A(!0),k(g,{key:1},u($(e.versions[e.currentIndex].augBlueprint.name,`augments`).sectors,e=>(A(),k(`button`,{key:e,onClick:h(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,Id))),128))])])):d(``,!0)])],64)):d(``,!0)],8,hd)):e.augment?.augBlueprint?(A(),k(`div`,{key:1,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer`,onClick:t=>Fe(e.augment)},[v(`h3`,Rd,[e.augment.augBlueprint?.name?.startsWith(`LOCKED_`)?(A(),k(`span`,zd,`🔒`)):d(``,!0),e.augment.augBlueprint?.name?.includes(`PREIGNITE`)?(A(),k(`span`,Bd,`⭐`)):d(``,!0),e.augment.augBlueprint?.name?.includes(`ANCIENT`)||e.augment.augBlueprint?.name?.includes(`ROYAL`)?(A(),k(`span`,Vd,`🗿`)):d(``,!0),e.augment.augBlueprint?.name?.includes(`CHAOS`)?(A(),k(`span`,Hd,`🤯`)):d(``,!0),p(i(e.augment.augBlueprint?.title||Te(e.augment.augBlueprint?.name)),1)]),v(`div`,Ud,[e.augment.augBlueprint?.name?(A(),k(`div`,Wd,i(e.augment.augBlueprint.name),1)):d(``,!0),e.augment.augBlueprint?.desc?(A(),k(`div`,Gd,i(typeof e.augment.augBlueprint.desc==`string`?e.augment.augBlueprint.desc:e.augment.augBlueprint.desc.text),1)):d(``,!0),e.augment.augBlueprint?.cost?(A(),k(`div`,Kd,`Cost: `+i(e.augment.augBlueprint.cost),1)):d(``,!0),e.augment.augBlueprint?.rarity?(A(),k(`div`,qd,`Rarity: `+i(e.augment.augBlueprint.rarity),1)):d(``,!0),e.augment.augBlueprint?.stackable?(A(),k(`div`,Jd,[n[18]||=p(` Stackable: `,-1),v(`span`,{class:o(e.augment.augBlueprint.stackable===`true`?`text-green-400`:`text-red-400`)},i(e.augment.augBlueprint.stackable===`true`?`Yes`:`No`),3)])):d(``,!0),e.augment.augBlueprint?.name?(A(),k(`div`,Yd,[v(`div`,Xd,` Found in `+i(a(O)(e.augment.augBlueprint.name,`augments`))+` sector(s) `,1),v(`div`,Zd,[$(e.augment.augBlueprint.name,`augments`).hasMore?(A(),k(g,{key:0},[(A(!0),k(g,null,u($(e.augment.augBlueprint.name,`augments`).sectors,e=>(A(),k(`button`,{key:e,onClick:h(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,Qd))),128)),v(`span`,$d,`and `+i($(e.augment.augBlueprint.name,`augments`).remaining)+` more`,1)],64)):(A(!0),k(g,{key:1},u($(e.augment.augBlueprint.name,`augments`).sectors,e=>(A(),k(`button`,{key:e,onClick:h(t=>Q(e),[`stop`]),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,ef))),128))])])):d(``,!0)])],8,Ld)):d(``,!0)],64))),128))])):d(``,!0),I.value===`drones`?(A(),k(`div`,tf,[(A(!0),k(g,null,u(Se.value.drones,(e,t)=>(A(),k(g,{key:t},[e.isGroup?(A(),k(`div`,{key:0,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors relative cursor-pointer`,onClick:t=>Ne(e.versions[e.currentIndex],{versions:e.versions,groupName:e.groupName})},[v(`div`,rf,[v(`button`,{onClick:h(t=>Ue(e.groupName,-1),[`stop`]),class:`px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs`,title:`Previous version`},` ‹ `,8,af),v(`span`,of,i(e.currentIndex+1)+`/`+i(e.versions.length),1),v(`button`,{onClick:h(t=>Ue(e.groupName,1),[`stop`]),class:`px-2 py-1 bg-gray-700 hover:bg-gray-600 rounded text-xs`,title:`Next version`},` › `,8,sf)]),e.versions[e.currentIndex]?.droneBlueprint?(A(),k(g,{key:0},[v(`div`,cf,[v(`canvas`,{width:`40`,height:`40`,class:`drone-thumbnail flex-shrink-0`,ref_for:!0,ref:t=>t&&a(F)(e.versions[e.currentIndex].droneBlueprint,t,40)},null,512),v(`h3`,lf,[e.versions[e.currentIndex].droneBlueprint?.name?.startsWith(`A55_`)?(A(),k(`span`,uf,`⭐`)):d(``,!0),e.versions[e.currentIndex].droneBlueprint?.name?.includes(`ANCIENT`)||e.versions[e.currentIndex].droneBlueprint?.name?.includes(`ROYAL`)||e.versions[e.currentIndex].droneBlueprint?.title?.toUpperCase().includes(`ANCIENT`)||e.versions[e.currentIndex].droneBlueprint?.title?.toUpperCase().includes(`ROYAL`)?(A(),k(`span`,df,`🗿`)):d(``,!0),e.versions[e.currentIndex].droneBlueprint?.name?.startsWith(`LOOT_`)?(A(),k(`span`,ff,`💰`)):d(``,!0),e.versions[e.currentIndex].droneBlueprint?.name?.includes(`CHAOS`)?(A(),k(`span`,pf,`🤯`)):d(``,!0),p(i(e.versions[e.currentIndex].droneBlueprint?.title||Te(e.versions[e.currentIndex].droneBlueprint?.name)),1)])]),v(`div`,mf,[e.versions[e.currentIndex].droneBlueprint?.name?(A(),k(`div`,hf,i(e.versions[e.currentIndex].droneBlueprint.name),1)):d(``,!0),e.versions[e.currentIndex].droneBlueprint?.type?(A(),k(`div`,gf,`Type: `+i(e.versions[e.currentIndex].droneBlueprint.type),1)):d(``,!0),e.versions[e.currentIndex].droneBlueprint?.power?(A(),k(`div`,_f,`Power: `+i(e.versions[e.currentIndex].droneBlueprint.power),1)):d(``,!0),e.versions[e.currentIndex].droneBlueprint?.cost?(A(),k(`div`,vf,`Cost: `+i(e.versions[e.currentIndex].droneBlueprint.cost),1)):d(``,!0),e.versions[e.currentIndex].droneBlueprint?.name?(A(),k(`div`,yf,[v(`div`,bf,` Found in `+i(a(O)(e.versions[e.currentIndex].droneBlueprint.name,`drones`))+` sector(s) `,1),v(`div`,xf,[$(e.versions[e.currentIndex].droneBlueprint.name,`drones`).hasMore?(A(),k(g,{key:0},[(A(!0),k(g,null,u($(e.versions[e.currentIndex].droneBlueprint.name,`drones`).sectors,e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,Sf))),128)),v(`span`,Cf,`and `+i($(e.versions[e.currentIndex].droneBlueprint.name,`drones`).remaining)+` more`,1)],64)):(A(!0),k(g,{key:1},u($(e.versions[e.currentIndex].droneBlueprint.name,`drones`).sectors,e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,wf))),128))])])):d(``,!0)])],64)):d(``,!0)],8,nf)):e.drone?.droneBlueprint?(A(),k(`div`,{key:1,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer`,onClick:t=>Ne(e.drone)},[v(`div`,Ef,[v(`canvas`,{width:`40`,height:`40`,class:`drone-thumbnail flex-shrink-0`,ref_for:!0,ref:t=>a(F)(e.drone.droneBlueprint,t,40)},null,512),v(`h3`,Df,[e.drone.droneBlueprint?.name?.startsWith(`A55_`)?(A(),k(`span`,Of,`⭐`)):d(``,!0),e.drone.droneBlueprint?.name?.includes(`ANCIENT`)||e.drone.droneBlueprint?.name?.includes(`ROYAL`)||e.drone.droneBlueprint?.title?.toUpperCase().includes(`ANCIENT`)||e.drone.droneBlueprint?.title?.toUpperCase().includes(`ROYAL`)?(A(),k(`span`,kf,`🗿`)):d(``,!0),e.drone.droneBlueprint?.name?.startsWith(`LOOT_`)?(A(),k(`span`,Af,`💰`)):d(``,!0),e.drone.droneBlueprint?.name?.includes(`CHAOS`)?(A(),k(`span`,jf,`🤯`)):d(``,!0),p(i(e.drone.droneBlueprint?.title||Te(e.drone.droneBlueprint?.name)),1)])]),v(`div`,Mf,[e.drone.droneBlueprint?.name?(A(),k(`div`,Nf,i(e.drone.droneBlueprint.name),1)):d(``,!0),e.drone.droneBlueprint?.type?(A(),k(`div`,Pf,`Type: `+i(e.drone.droneBlueprint.type),1)):d(``,!0),e.drone.droneBlueprint?.power?(A(),k(`div`,Ff,`Power: `+i(e.drone.droneBlueprint.power),1)):d(``,!0),e.drone.droneBlueprint?.cost?(A(),k(`div`,If,`Cost: `+i(e.drone.droneBlueprint.cost),1)):d(``,!0),e.drone.droneBlueprint?.name?(A(),k(`div`,Lf,[v(`div`,Rf,` Found in `+i(a(O)(e.drone.droneBlueprint.name,`drones`))+` sector(s) `,1),v(`div`,zf,[$(e.drone.droneBlueprint.name,`drones`).hasMore?(A(),k(g,{key:0},[(A(!0),k(g,null,u($(e.drone.droneBlueprint.name,`drones`).sectors,e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,Bf))),128)),v(`span`,Vf,`and `+i($(e.drone.droneBlueprint.name,`drones`).remaining)+` more`,1)],64)):(A(!0),k(g,{key:1},u($(e.drone.droneBlueprint.name,`drones`).sectors,e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,Hf))),128))])])):d(``,!0)])],8,Tf)):d(``,!0)],64))),128))])):d(``,!0),I.value===`ships`?(A(),k(`div`,Uf,[(A(!0),k(g,null,u(Se.value.ships,(e,t)=>(A(),k(`div`,{key:t,class:`bg-gray-800 border border-gray-700 rounded-lg p-4 hover:border-blue-500 transition-colors cursor-pointer`,onClick:t=>Ie(e)},[e?.shipBlueprint?(A(),k(g,{key:0},[v(`h3`,{class:`font-bold text-blue-400 mb-2 truncate`,title:e.shipBlueprint.class||e.shipBlueprint.name},i(e.shipBlueprint.class||e.shipBlueprint.name),9,Gf),v(`div`,Kf,[v(`div`,{class:`text-xs text-gray-500 font-mono truncate`,title:e.shipBlueprint.name},i(e.shipBlueprint.name),9,qf),e.shipBlueprint.health?.amount?(A(),k(`div`,Jf,[n[19]||=v(`span`,{class:`text-gray-500`},`Hull:`,-1),v(`span`,Yf,i(e.shipBlueprint.health.amount),1)])):d(``,!0),e.shipBlueprint.maxPower?.amount?(A(),k(`div`,Xf,[n[20]||=v(`span`,{class:`text-gray-500`},`Reactor:`,-1),v(`span`,Zf,i(e.shipBlueprint.maxPower.amount),1)])):d(``,!0),e.shipBlueprint.weaponSlots?(A(),k(`div`,Qf,[n[21]||=v(`span`,{class:`text-gray-500`},`Weapon Slots:`,-1),v(`span`,$f,i(e.shipBlueprint.weaponSlots),1)])):d(``,!0),e.shipBlueprint.droneSlots?(A(),k(`div`,ep,[n[22]||=v(`span`,{class:`text-gray-500`},`Drone Slots:`,-1),v(`span`,tp,i(e.shipBlueprint.droneSlots),1)])):d(``,!0)])],64)):d(``,!0)],8,Wf))),128))])):d(``,!0)])),le.value?(A(),_(Fr,{key:3,weapon:le.value,show:W.value,versions:U.value?.versions||null,currentIndex:U.value&&H.value[U.value.groupName]||0,onClose:n[7]||=e=>{le.value=null,U.value=null,ye(),Y.value&&=(J.value=Y.value,null)},onNavigateSector:Q,onChangeVersion:Ae},{sectors:x(()=>[v(`div`,np,[(A(!0),k(g,null,u(a(D)(le.value?.weaponBlueprint?.name,`weapons`),e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,rp))),128))])]),_:1},8,[`weapon`,`show`,`versions`,`currentIndex`])):d(``,!0),ue.value?(A(),_(si,{key:4,crew:ue.value,show:fe.value,versions:G.value?.versions||null,currentIndex:G.value&&ce.value[G.value.groupName]||0,onClose:n[8]||=e=>{ue.value=null,G.value=null,ye(),Y.value&&=(J.value=Y.value,null)},onNavigateSector:Q,onChangeVersion:Me},{sectors:x(()=>[v(`div`,ip,[(A(!0),k(g,null,u(a(D)(ue.value?.crewBlueprint?.name,`crew`),e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,ap))),128))])]),_:1},8,[`crew`,`show`,`versions`,`currentIndex`])):d(``,!0),K.value?(A(),_(eo,{key:5,drone:K.value,show:pe.value,versions:q.value?.versions||[],"current-index":q.value&&se.value[q.value.groupName]||0,onClose:n[9]||=e=>{K.value=null,q.value=null,ye(),Y.value&&=(J.value=Y.value,null)},onNavigateSector:Q,onChangeVersion:Pe},{sectors:x(()=>[(A(!0),k(g,null,u(a(D)(K.value?.droneBlueprint?.name,`drones`),e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-sm px-3 py-1.5 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,op))),128))]),_:1},8,[`drone`,`show`,`versions`,`current-index`])):d(``,!0),J.value?(A(),_(xs,{key:6,ship:J.value,show:he.value,blueprintArrays:a(T),onClose:n[10]||=e=>{J.value=null,ye()},onOpenCrew:Le,onOpenWeapon:Re,onOpenDrone:ze,onOpenAugment:Be},null,8,[`ship`,`show`,`blueprintArrays`])):d(``,!0),ge.value?(A(),_(bo,{key:7,augment:ge.value,show:X.value,onClose:n[11]||=e=>{ge.value=null,_e.value=null,ye(),Y.value&&=(J.value=Y.value,null)},onNavigateSector:Q},{sectors:x(()=>[v(`div`,sp,[(A(!0),k(g,null,u(a(D)(ge.value?.augBlueprint?.name,`augments`),e=>(A(),k(`button`,{key:e,onClick:t=>Q(e),class:`text-xs px-2 py-1 bg-gray-700 hover:bg-blue-600 rounded transition-colors`},i(Z(e)),9,cp))),128))])]),_:1},8,[`augment`,`show`])):d(``,!0)]))}},up={class:`min-h-screen flex items-center justify-center p-4`},dp=[{path:`/`,redirect:`/sectors`},{path:`/sectors`,name:`Sectors`,component:vl},{path:`/blueprints`,name:`Blueprints`,component:lp},{path:`/:pathMatch(.*)*`,name:`NotFound`,component:{__name:`NotFoundPage`,setup(e){let t=ee();function n(){t.push(`/sectors`)}function r(){t.push(`/blueprints`)}return(e,t)=>(A(),k(`div`,up,[v(`div`,{class:`text-center max-w-2xl`},[t[0]||=v(`div`,{class:`text-9xl font-bold text-gray-700 mb-4`},`404`,-1),t[1]||=v(`h1`,{class:`text-4xl font-bold text-gray-100 mb-4`},`Page Not Found`,-1),t[2]||=v(`p`,{class:`text-xl text-gray-400 mb-8`},` The page you're looking for doesn't exist or has been moved. `,-1),v(`div`,{class:`flex gap-4 justify-center`},[v(`button`,{onClick:n,class:`px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors font-semibold`},` Go to Sectors `),v(`button`,{onClick:r,class:`px-6 py-3 bg-gray-700 hover:bg-gray-600 text-white rounded-lg transition-colors font-semibold`},` Browse Blueprints `)])])]))}}}],fp=E({history:y(),routes:dp});m(z).use(fp).mount(`#app`);